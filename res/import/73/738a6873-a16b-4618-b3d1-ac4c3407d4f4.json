{"__type__":"cc.TextAsset","_name":"gamebase","text":"\r\nsyntax = \"proto3\";\r\npackage GAMEBASE;\r\n\r\n\r\nmessage MsgBody  {\r\n    ErrorRes          err_res = 1;\r\n    \r\n    LoginReq          login_req = 2;\r\n    LoginRes          login_res = 3;\r\n    MatchReq          match_req = 4;\r\n    MatchRes          match_res = 5;\r\n\r\n    LeaveRoomReq      leave_room_req = 6;\r\n    LeaveRoomRes      leave_room_res = 7;\r\n\r\n    CancelMatchReq    cancel_match_req = 8;\r\n    CancelMatchRes    cancel_match_res = 9;\r\n\r\n    KickoutNotify     kickout_notify = 10;\r\n\r\n    InterError        inter_error = 11;\r\n\r\n\r\n    LoginFriendRoomReq   login_friend_room_req = 21;                //登录好友房间\r\n    LoginFriendRoomRes   login_friend_room_res = 22;\r\n\r\n    LoginFriendRoomNtf   login_friend_room_ntf = 23;                 //通知其他人加入了好友房\r\n\r\n    StartFriendGameReq   start_friend_game_req = 25;                //好友约战开始游戏\r\n    StartFriendGameRes   start_friend_game_res = 26;\r\n\r\n    DismissFriendGameReq   dismiss_friend_game_req = 27;            //解散好友约战游戏\r\n    DismissFriendGameRes   dismiss_friend_game_res = 28;\r\n\r\n    DismissFriendGameNft   dismiss_friend_game_ntf = 29;            //解散房间通知\r\n\r\n    DismissFriendInquiryReq dismiss_friend_game_inquiry_req = 31;   //解散好友房询问\r\n    DismissFriendInquiryRes dismiss_friend_game_inquiry_res = 32;   //解散好友房询问\r\n\r\n    DisconnectRoomNtf   disconnect_room_ntf = 33;\r\n\r\n    AdJustReadyReq adjust_ready_req = 34; //好友房准备或者取消准备请求\r\n    AdJustReadyRes adjust_ready_res = 35; //好友房准备或者取消准备回应\r\n\r\n    ChangeCreaterReq change_creater_req = 36;       //转让房主请求\r\n    ChangeCreaterRes change_creater_res = 37;       //转让房主回应\r\n    \r\n    LookPlayerInfoReq look_player_info_req = 38;    //点击查看玩家个人信息及成就  \r\n    LookPlayerInfoRes look_player_info_res = 39;    //查看玩家信息数据返回\r\n\r\n    HeartBeatReq        heart_beat_req = 41;\r\n    HeartBeatRes        heart_beat_res = 42;\r\n\r\n    KickoutSomeoneReq kickout_someone_req = 51;                     //房主踢人\r\n    KickoutSomeoneRes kickout_someone_res = 52;\r\n\r\n    TakeGameGoldReq  take_game_gold_req = 60;        //房间里面的带入\r\n    TakeGameGoldRes  take_game_gold_res = 61;        //房间里面的带入\r\n\r\n    QueryTakeInReq   query_take_in_req = 62;       //查询带入请求\r\n    QueryTakeInRes   query_take_in_res = 63;       //查询带入请求返回\r\n\r\n    LocationReq      location_req = 64;             //地理位置信息请求\r\n    LocationRes      location_res = 65;             //地理位置信息返回\r\n\r\n    QueryFriendRoomReq query_friend_room_req = 71;\r\n    QueryFriendRoomRes query_friend_room_res = 72;\r\n\r\n    GameEndNotify   game_end_notify = 81;         //游戏结束的通告\r\n\r\n    FlushGoldNotify flush_gold_notify = 82; //刷新游戏金币\r\n\r\n    AskForGrabBankerReq   askfor_grabbanker_req = 91;   //申请上庄\r\n    AskForGrabBankerRes   askfor_grabbanker_res = 92;   \r\n\r\n    AskForDropBankerReq   askfor_dropbanker_req = 93;   //申请下庄\r\n    AskForDropBankerRes   askfor_dropbanker_res = 94;   \r\n\r\n    LookForBankerListReq  lookfor_bankerlist_req = 95;  //查看上庄列表\r\n    LookForBankerListRes  lookfor_bankerlist_res = 96;   \r\n\r\n    BankerChangeNotify   banker_change_notify = 97;      //上庄或下庄的推送\r\n\r\n    UpBankerStateReq upbanker_state_req = 98; //查询自己的上庄状态\r\n    UpBankerStateRes upbanker_state_res = 99;\r\n\r\n    UpBankerInfoNotify upbanker_info_notify = 100;  //上庄庄家信息推送\r\n\r\n    AdJustUpBankerNotify adjust_upbanker_notify = 101; //调整上庄功能推送\r\n\r\n    SendBankInfo    send_bank_info = 102;           //好友房百人场重连时,结算时告诉客户端游戏庄家信息，客户端用以判断是否开始游戏\r\n}\r\n\r\n\r\nmessage ErrorRes {\r\n    int32 err_no = 1;           //错误原因\r\n    int32 err_subno = 2;        //错误子原因\r\n    string err_msg = 3;         //错误描述\r\n}\r\n\r\nmessage LoginReq  {\r\n    uint32 player_id = 1;\r\n    string token = 2;          //登录房间时的校验码\r\n    string token2 = 3;\r\n}\r\n\r\nmessage RoomInfo  {\r\n    string room_base_note  = 1 ;      //房间底注\r\n    string room_code = 2;             //房间编号信息\r\n    string room_min_entrance = 3;     //准入\r\n    string room_max_bet = 4;          //最大下注\r\n}\r\n\r\nmessage PlayerInfo  {\r\n    uint32 player_id = 1;\r\n    uint32 seat_id = 2;             //座位ID\r\n    string username = 3;\r\n    float  gold = 4;\r\n    uint32 headimg_id = 5;\r\n    uint32 sex = 6;                 //性别\r\n    uint32 state = 7;               //玩家状态1 就绪 2 掉线 3在游戏中 6未准备\r\n    uint32 vip_level = 8;           //vip等级\r\n    uint32 creater_state = 9;       //房主标记  1是，0不是\r\n    string login_addr = 10;         //地理位置地址\r\n    string longitude_latitude = 11; // 经、纬度\r\n}\r\n\r\n\r\nmessage LoginRes  {\r\n    RoomInfo room_info = 1;\r\n    PlayerInfo player_info = 2;\r\n    uint32 state = 3;               //玩家状态 0不在游戏中 1游戏中\r\n    bool enable_up_banker = 4;      //是否开启上庄功能\r\n}\r\n\r\nmessage MatchReq  {\r\n    uint32 player_id = 1;\r\n}\r\n\r\nmessage MatchRes  {\r\n    uint32 status = 1;          //为1匹配成功，2为超时，3被取消\r\n}\r\n\r\nmessage CancelMatchReq  {\r\n    uint32 player_id = 1;\r\n}\r\n\r\nmessage CancelMatchRes  {\r\n    bool ok = 1;\r\n}\r\n\r\nmessage LeaveRoomReq  {     //离开房间请求\r\n    uint32 player_id = 1;   \r\n    uint32 room_id = 2;  \r\n}\r\n\r\nmessage LeaveRoomRes  {\r\n    uint32 game_state = 1;     //0游戏未开始，可以离开，1为正在游戏中，不能离开，2为游戏已结算，可以离开\r\n}\r\n\r\nmessage KickoutNotify  {      //被踢出房间通知\r\n    uint32 code = 1;          //被踢出的原因\r\n    string des = 2;           //文字说明\r\n}\r\n\r\nmessage InterError  {\r\n    string err_msg = 1;\r\n}\r\n\r\nmessage LoginFriendRoomReq  {\r\n    uint32 player_id = 1;\r\n    string token = 2;          //登录房间时的校验码\r\n}\r\n\r\nmessage LoginFriendRoomRes  {\r\n    RoomInfo room_info = 1;\r\n    repeated PlayerInfo player_info = 2;     //包含目前所有准备的玩家\r\n    uint32 room_id = 3;\r\n    bool is_creater_user = 4;\r\n    uint32 club_id = 5;\r\n    bool enable_up_banker = 6;      //是否开启上庄功能\r\n    uint32 state = 7;               //玩家状态 0不在游戏中 1游戏中\r\n}\r\n\r\nmessage SendBankInfo {\r\n    repeated BankerListItem bank_list_item = 1;     //上庄候选玩家列表\r\n}\r\n\r\n//有人加入或者离开房间或者有人状态更新\r\nmessage LoginFriendRoomNtf  {\r\n    PlayerInfo player_info = 1;     //需要更新的玩家资料\r\n    bool is_add = 2;                //有人新增\r\n    bool is_offline = 3;            //有人掉线回来\r\n    bool is_leave = 4;              //有人离开或者被踢 \r\n}\r\n\r\nmessage StartFriendGameReq  {\r\n    uint32 player_id = 1;\r\n    uint32 room_id = 2;         //房间的id\r\n}\r\n\r\nmessage StartFriendGameRes  {\r\n    uint32 status = 1; //状态1正常,可以开始，2人数不足,3上把游戏还未结束不能开始，4有人金币不足,5有人掉线询问是否开始 6.有玩家未准备\r\n    repeated PlayerInfo offline_player_info = 2;     //离线玩家列表\r\n    uint32 room_id = 3;                              //房间的id\r\n}\r\n\r\n\r\n\r\nmessage DismissFriendGameReq  {\r\n    uint32 player_id = 1;\r\n    uint32 room_id = 2;         //房间的id\r\n}\r\n\r\nmessage DismissFriendGameRes  {\r\n    bool ok = 1;         \r\n}\r\n\r\nmessage DismissFriendGameNft  {\r\n    uint32 room_id = 1;         //房间的id\r\n    uint32 type = 2;            // 1房主解散 2到时间解散\r\n    string des = 3;             //文字说明\r\n}\r\n\r\nmessage DismissFriendInquiryReq{\r\n    uint32 player_id = 1;\r\n    uint32 room_id = 2;         //房间的id\r\n}\r\n\r\nmessage DismissFriendInquiryRes{\r\n    uint32 game_state = 1;          //1是房主并且可以解散 2在游戏中 3是房主，房主不在游戏中但是其他人在游戏中 100其他情况不处理（例如不是好友房，请求者不是房主）\r\n    uint32 room_id = 2;             //房间的id\r\n}\r\n\r\nmessage DisconnectRoomNtf  {\r\n    uint32 userid = 1;\r\n}\r\n\r\nmessage AdJustReadyReq {\r\n    uint32 code = 1;            //0准备 1取消准备\r\n    uint32 player_id = 2;\r\n    uint32 room_id = 3;         //房间的id\r\n}\r\n\r\nmessage AdJustReadyRes {\r\n    uint32 ret = 1;             //操作后玩家状态 1为准备就绪 6为未准备\r\n    uint32 player_id = 2;       //准备的玩家ID\r\n}\r\n\r\nmessage ChangeCreaterReq {\r\n    uint32 oper_player_id = 1;          //转让操作发起者ID\r\n    uint32 change_player_id = 2;        //转让的玩家ID\r\n    uint32 room_id = 3;                 //房间ID\r\n}\r\n\r\nmessage ChangeCreaterRes {\r\n    uint32 ret = 1;                         //0成功 1失败\r\n    uint32 creater_id = 2;                  //新房主的玩家ID\r\n    uint32 creater_seat_id = 3;             //新房主座位号\r\n    uint32 old_creater_id = 4;              //旧房主的玩家ID\r\n    string creater_name = 5;                //新房主名字\r\n}\r\n\r\nmessage LookPlayerInfoReq {\r\n    uint32 oper_player_id = 1;          //查看者\r\n    uint32 look_player_id = 2;          //被查看的玩家ID\r\n    uint32 room_id = 3;                 //房间ID\r\n}\r\n\r\nmessage AttainmentInfo  {\r\n    uint32 id = 1;\r\n    string des = 2;          //描述\r\n    string url_img = 3;      //成就图片\r\n    uint32 reach_num = 4;    //总数量\r\n    uint32 got_num = 5;      //已获得数量\r\n    uint32 state = 6;        //1未获得，2已获得未使用，3使用中\r\n}\r\n\r\nmessage LookPlayerInfoRes {\r\n    PlayerInfo player_info = 1;\r\n    repeated AttainmentInfo attainment_info = 2;    //成就信息\r\n}\r\n\r\nmessage HeartBeatReq  {\r\n    uint32 userid = 1;\r\n    uint32 index = 2;           //心跳次数，超时重置0\r\n    uint32 now = 3;\r\n}\r\n\r\nmessage HeartBeatRes  {\r\n    uint32 index = 1;           //返回的次数+1\r\n    uint32 now = 2;\r\n}\r\n\r\nmessage KickoutSomeoneReq  {      //房主踢人请求\r\n    uint32 room_id = 1;           //房间的id\r\n    uint32 kicked_id = 2;         //被踢的人id\r\n}\r\n\r\nmessage KickoutSomeoneRes { //房主踢人回应\r\n    uint32 status = 1; //1成功 2 失败可能是找不到房间，找不到人或者是vip不让体等等 3正在游戏中不允许踢人\r\n    string msg = 2; //请离成功时的消息提示\r\n}\r\n\r\nmessage TakeGameGoldReq {\r\n    uint32 player_id = 1;      \r\n    string carryGold = 2; \r\n    bool autoAddCarry = 3; \r\n}\r\n\r\nmessage TakeGameGoldRes {\r\n   uint32 status = 1;   //1带入成功，0带入失败\r\n}\r\n\r\nmessage QueryTakeInReq {\r\n    uint32 player_id = 1; \r\n}\r\n\r\nmessage QueryTakeInRes {\r\n    string carryGold = 1; \r\n    bool autoAddCarry = 2; \r\n    string gold = 3;        //剩下金币 \r\n}\r\n\r\nmessage QueryFriendRoomReq  {\r\n    uint32 room_id = 1; \r\n}\r\nmessage QueryFriendRoomRes  {\r\n    repeated PlayerInfo player_info = 1;     //包含目前所有准备的玩家\r\n}\r\n\r\nmessage GameEndNotify  {\r\n    uint32 room_id = 1;\r\n}\r\n\r\n//上庄请求\r\nmessage AskForGrabBankerReq  {\r\n    uint32 player_id = 1;     \r\n    uint32 bring_gold = 2;  //上庄携带金币 \r\n}\r\n\r\n//上庄回应\r\nmessage AskForGrabBankerRes  {\r\n    int32 code = 1;             //1成功2失败\r\n    string err_msg = 2;         //失败描述 \r\n}\r\n\r\n//下庄请求\r\nmessage AskForDropBankerReq  {\r\n    uint32 player_id = 1;      \r\n}\r\n\r\n//下庄回应 候选下庄成功 (候选强制下庄 和 候选正常下庄)\r\nmessage AskForDropBankerRes  {\r\n    int32 code = 1;             //1庄家下庄成功   2候选下庄成功  3失败\r\n    string msg = 2;             //回应描述 \r\n}\r\n\r\n//查看列表请求\r\nmessage LookForBankerListReq  {\r\n    uint32 player_id = 1;      \r\n}\r\n\r\nmessage BankerListItem  {\r\n    uint32 player_id = 1;\r\n    string nick_name = 2;\r\n    uint32 vip_level = 3;   \r\n    uint32 gold = 4;\r\n}\r\n\r\n//查看列表回应\r\nmessage LookForBankerListRes  {\r\n    repeated BankerListItem bank_list_item = 1; //上庄候选玩家列表\r\n    uint32 downBankGold = 2;                    //自动下庄金币值\r\n    uint32 minBringGold = 3;                    //最小携带金币值\r\n    uint32 maxBringGold = 4;                    //最大携带金币值\r\n    uint32 minVipLevel = 5;                     //最低限制的VIP等级\r\n    uint32 up_banker_state = 6;                 //上庄状态 1未申请上庄 2候选状态 3庄家状态  4等待下庄\r\n}\r\n\r\n//通知用户当庄成功了 或者从庄家位置下来 推送此消息\r\nmessage BankerChangeNotify  {\r\n    uint32 player_id = 1;\r\n    uint32 change_type = 2;     //1上庄2下庄\r\n    string gold = 3;            //上下庄剩余金币\r\n}\r\n\r\n//请求我的上庄状态\r\nmessage UpBankerStateReq {\r\n    uint32 player_id = 1;\r\n}\r\n\r\n//回应我的上庄状态\r\nmessage UpBankerStateRes {\r\n    uint32 up_banker_state = 1;          //上庄状态 1未申请上庄 2候选状态 3庄家状态  4等待下庄\r\n}\r\n\r\n//推送最新上庄庄家信息\r\nmessage UpBankerInfoNotify {\r\n    PlayerInfo banker_info = 1;     //庄家最新信息\r\n}\r\n\r\n//调整上庄功能推送  后台开启或关闭上庄功能后 统一在下局游戏开始前推此消息\r\nmessage AdJustUpBankerNotify {\r\n    uint32 code = 1;            //1开启上庄 0关闭上庄\r\n    string msg = 2;             //提示信息\r\n}\r\n\r\nmessage FlushPlayerInfo {\r\n    uint32 seat_id = 1;\r\n    uint32 player_id = 2;\r\n    string gold = 3; //最新的金币\r\n}\r\n\r\n//刷新结算游戏金币\r\nmessage FlushGoldNotify {\r\n    repeated FlushPlayerInfo flush_playerInfo = 1;\r\n    int32 code = 2; //刷新场景 1 游戏结算后\r\n    string des = 3; //说明\r\n    string gold = 4;//刷新的金币\r\n}\r\n\r\nmessage LocationReq {\r\n    uint32 player_id = 1;\r\n    uint32 room_id = 2;  \r\n}\r\n\r\nmessage LocationRes {\r\n    repeated PlayerInfo player_info = 1;     //\r\n}"}