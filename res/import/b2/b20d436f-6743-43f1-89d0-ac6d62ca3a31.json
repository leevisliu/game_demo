{"__type__":"cc.TextAsset","_name":"qzpj","text":"syntax = \"proto3\";\r\npackage QZPJ; //抢庄牌九\r\n\r\nmessage MsgBody  {\r\n   \r\n    GameStartNotify   game_start_notify = 1;   //游戏开始\r\n\r\n    NotifyBank        notify_bank  = 2;   //通知开始抢庄\r\n    GrabBankReq       grab_bank_req = 3;   // \r\n    GrabBankRes       grab_bank_res = 4; \r\n    ComfirmBankNotify comfirm_bank_notify = 5; //确定庄家返回\r\n\r\n    StartBetNotify    start_bet_notify = 6;\r\n    BetReq            bet_req = 7;\r\n    BetRes            bet_res = 8;\r\n\r\n    StartDiceNotify   start_dice_notify = 9;  //摇骰子\r\n\r\n    SendCardNotify    send_card_notify = 10;   //发牌 \r\n\r\n    DealCardNotify    deal_card_notify = 11; //看牌\r\n    CardResultReq     card_result_req = 12;\r\n    CardResultRes     card_result_res = 13;\r\n\r\n    GameConcludeNotify  game_conclude_notify = 14;\r\n\r\n    GameReconnectInfo game_reconnect_info = 15;\r\n}\r\n\r\nmessage RoomInfo  {\r\n    string room_base_note  = 1 ;      //房间底注\r\n    string room_code = 2;             //房间编号信息\r\n    uint32 cur_round   = 3;           //当前的轮数\r\n}\r\n\r\nmessage PlayerInfo  {\r\n    uint32 player_id = 1;\r\n    uint32 seat_id = 2;         //座位ID\r\n    string username = 3;\r\n    float  gold = 4;\r\n    uint32 headimg_id = 5;\r\n    uint32 sex = 6;      //性别\r\n}\r\n\r\nmessage GameStartNotify  {      //游戏开始通知\r\n    repeated PlayerInfo player_list = 1;           //所有玩家\r\n    RoomInfo room_info = 2;                        //房间信息\r\n}\r\n\r\nmessage NotifyBank {      //通知开始抢庄\r\n    repeated uint32 bank_info = 1;              //可抢庄所有倍数信息 \r\n    uint32 time_out = 2;                                     //抢庄倒计时(单位秒)\r\n}\r\n\r\nmessage GrabBankReq  {         //抢庄请求\r\n    uint32 player_id = 1;\r\n    uint32 bank_value = 2;      //抢庄倍数\r\n}\r\n\r\nmessage GrabBankRes  {        \r\n    uint32 seat_id = 1;\r\n    uint32 bank_value = 2;      //抢庄倍数\r\n}\r\n\r\nmessage ComfirmBankNotify {      //确定庄家返回\r\n    uint32 bank_seat_id = 1;                                 //最终庄家的id\r\n    repeated uint32 higher_grab_multiple_arr = 2;            //抢到了最高倍数的id数组 or 竞争庄家数组\r\n    uint32 bank_value = 3;                      //庄家抢庄倍数\r\n}\r\n\r\nmessage StartBetNotify {      //通知开始下注\r\n    uint32 bank_seat_id = 1;\r\n    repeated uint32 bet_multiple_arr = 2;                    //该玩家能下倍数的数组\r\n    uint32 time_out = 3;                                     //下注的倒计时(单位秒)\r\n}\r\n\r\nmessage StartDiceNotify {\r\n    repeated uint32 dice_arr = 2;                    //2个骰子的数组,如[5,6]，表示第一个骰子的5点，第二个骰子是6点\r\n}\r\n\r\nmessage BetReq  {\r\n    uint32 player_id = 1;\r\n    uint32 bet_multiple = 2;           //下注倍数\r\n}\r\n\r\nmessage BetRes  {\r\n    uint32 seat_id = 1;\r\n    uint32 bet_multiple = 2;           //下注倍数    \r\n}\r\n\r\nmessage SendCardNotify {\r\n    repeated uint32 card_arr = 1;  //每人2张牌，这时的牌不是真实数据，而是 2个数据都是0 ，显示牌背\r\n    uint32 seat_id = 2;                         //先发牌人的座位号\r\n    uint32 time_out = 3;\r\n}\r\n\r\nmessage DealCardNotify {               //看牌，真实的数据\r\n    uint32 time_out = 3;               //摊牌的倒计时(单位秒)\r\n}\r\n\r\nmessage CardResult  {\r\n    uint32 seat_id = 1;\r\n    repeated uint32 card_arr = 2;       //每个玩家的2张牌\r\n    uint32 val_type = 3;                //玩家的牌型\r\n}\r\n\r\nmessage CardResultReq  {        //开牌请求\r\n    uint32 player_id = 1;\r\n} \r\n\r\nmessage CardResultRes  {        //开牌结果\r\n    CardResult card_result = 1;\r\n}\r\n\r\nmessage GameConclude {\r\n    uint32 seat_id = 1;         //玩家座位号\r\n    float gold = 2;            //玩家结算后的金币数量\r\n    float score = 3;            //输赢的分数\r\n    bool is_user_conclude = 4;                  //该玩家是否破产\r\n}\r\n\r\nmessage GameConcludeNotify  {        //结算推送\r\n    repeated GameConclude game_conclude = 1;\r\n    uint32 bank_seat_id = 2;    //庄家位置\r\n    bool is_continue_game = 3;                  //是否继续下一轮\r\n}\r\n\r\nmessage ReconnectInfo {\r\n    uint32 player_id = 1;\r\n    uint32 seat_id = 2;         //座位ID\r\n    string username = 3;\r\n    float  gold = 4;\r\n    uint32 headimg_id = 5;\r\n    uint32 sex = 6;\r\n    sint32 bank_multiple = 7; //大于0表示已经抢庄，而且数值就是实际的抢庄倍数, 还没抢庄 = -1\r\n    sint32 bet_multiple = 8; //大于0表示已经下注，而且数值就是实际的下注倍数, 没下注 = -1\r\n    sint32 open_carded = 9; // 已经摊牌 = 1；没摊牌 = -1\r\n    CardResult card_result = 10; //如果该玩家已经亮牌,里面有数据,没摊牌为空\r\n    bool is_bank = 11; //是否是庄家，只有已经定完庄并且是庄家才为true\r\n}\r\n\r\n//重连信息\r\nmessage GameReconnectInfo  {\r\n    RoomInfo room_info = 1;                        //房间信息\r\n    uint32 game_state  = 2;                        //游戏状态 1=开始(服务器有1秒的等待时间，播放开始动画)；2=抢庄，3=下注阶段；4=摇骰子，5=发牌，6=开牌阶段，7=结算（结算有1.5秒的时间延时）\r\n    uint32 time_out    = 3;                        //当前阶段剩下的时间(单位秒)\r\n    repeated uint32 bank_multiple_arr = 4;         //该玩家能抢庄倍数的数组\r\n    repeated uint32 bet_multiple_arr = 5;          //该玩家能下倍数的数组\r\n    repeated ReconnectInfo reconnect_info = 6;     //玩家信息\r\n    repeated uint32 left_res = 7; //32张牌,和牌堆一样，如果该牌已经使用，会置为0\r\n    repeated uint32 dice_val = 8;                       //骰子点数 无骰子点数则为两个-1\r\n}\r\n"}