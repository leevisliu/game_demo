{"__type__":"cc.TextAsset","_name":"bcbm","text":"syntax = \"proto3\";\r\npackage BCBM;\r\n\r\nmessage MsgBody  {\r\n    GameStartNotify   game_start_notify = 1;   //游戏开始\r\n\r\n    StartBetNotify    start_bet_notify = 2;    //开始下注\r\n    BetReq            bet_req = 3;\r\n    BetNotify         bet_notify = 4;\r\n    OtherBetNotify    other_bet_notify = 5;\r\n\r\n    LastBetTimeNotify    last_bet_time_notify = 6;   //通知下注最后3秒倒计时\r\n    EndBetNotify         end_bet_notify = 7;         //通知下注结束\r\n\r\n    StartTurnNotify     start_turn_notify = 8;     //开始转动\r\n    ShowResultNotify    show_result_notify = 9;    //开奖最终结果\r\n\r\n    GameConcludeNotify  game_conclude_notify = 10; //结算\r\n\r\n    GameReconnectInfo game_reconnect_info = 11; //加入房间(断线和加入房间都走这个，和百人牛牛的一样)\r\n\r\n    OtherUsersReq     other_users_req = 12; //闲家列表请求\r\n    OtherUsersRes     other_users_res = 13;\r\n\r\n    ContinueSameBetReq   continue_same_bet_req = 14;  //续投\r\n    ContinueSameBetRes   continue_same_bet_res = 15;  //续投\r\n\r\n    AutoOprReq    auto_opr_req = 16; //托管请求，返回是下注信息\r\n    AutoOprRes    auto_opr_res = 17; //托管返回，返回是下注信息\r\n\r\n    ConfirmAutoOprReq confirm_auto_opr_req = 18; //确认托管\r\n    ConfirmAutoOprRes confirm_auto_opr_res = 19; //确认托管返回\r\n\r\n    CancelAutoOprReq cancel_auto_opr_req = 20; //取消托管\r\n    CancelAutoOprRes cancel_auto_opr_res = 21; //取消托管返回\r\n}\r\n\r\nmessage PlayerInfo  {\r\n    uint32 player_id = 1;\r\n    uint32 seat_id = 2;         //座位ID\r\n    string username = 3;\r\n    float  gold = 4;\r\n    uint32 headimg_id = 5;\r\n    uint32 sex = 6;      //性别\r\n}\r\n\r\n//房间信息\r\nmessage RoomInfo  {\r\n    string room_code = 1;             //房间编号信息\r\n}\r\n\r\n//游戏开始通知 洗牌\r\nmessage GameStartNotify  {            \r\n    RoomInfo room_info = 1;           //房间信息\r\n}\r\n\r\n\r\n//通知开始下注\r\nmessage StartBetNotify {      \r\n    repeated uint32 bet_value_arr = 1;      //该玩家能下倍数的数组\r\n    uint32 time_out = 2;                    //下注的倒计时(单位秒)\r\n    uint32 is_continue_Bet = 3;             //是否可以续投 1=可以 0=不可以\r\n    uint32 is_auto_bet = 4;                 //是否可以托管 1=可以 0=不可以\r\n}\r\n\r\n//下注请求\r\nmessage BetReq   {\r\n    uint32 player_id = 1;\r\n    uint32 bet_value = 2;         //下注值\r\n    uint32 loc = 3;\t\t\t      //下注的位置(1=雷克萨斯，2=大众，3=奔驰 4=宝马 5=保时捷 6=马萨拉蒂 7=兰博基尼 8=法拉利)\r\n}\r\n\r\n//下注筹码值情况\r\nmessage BetValueInfo {\r\n    uint32 loc = 1;             //下注的位置(1=雷克萨斯，2=大众，3=奔驰 4=宝马 5=保时捷 6=马萨拉蒂 7=兰博基尼 8=法拉利)\r\n    repeated uint32 bet_value = 2;       //下注的筹码值\r\n}\r\n\r\n//已下注筹码数量信息\r\nmessage BetNumInfo {\r\n    uint32 user_bet_num = 1;        //我已下注数量\r\n    uint32 sum_bet_num = 2;         //所有玩家已下注数量\r\n}\r\n\r\n//下注通知  此通知只会发给自己\r\nmessage BetNotify  {\r\n    uint32 result = 1 ;                         // 下注结果: 1=成功,2=超过下注限额 3=金币余额不足 4= 还未到下注时间\r\n    float  gold = 2;                            //更新玩家金币\r\n    BetValueInfo bet_value_info = 3;            // 下注信息\r\n    repeated BetNumInfo bet_num_info = 4;       // 所有玩家在各个位置下注总量\r\n}\r\n\r\n//其他玩家下注通知 每隔一段时间一起发过来\r\nmessage OtherBetNotify {\r\n   repeated BetValueInfo bet_value_info = 1;    // 筹码应该丢在那个位置\r\n   repeated BetNumInfo bet_num_info = 2;        // 所有玩家在各个位置下注总量(1=雷克萨斯，2=大众，3=奔驰 4=宝马 5=保时捷 6=马萨拉蒂 7=兰博基尼 8=法拉利)\r\n}\r\n\r\nmessage LastBetTimeNotify {\r\n    uint32 ntime = 1 ;                         // 下注倒计时\r\n}\r\n\r\n//下注结束通知\r\nmessage EndBetNotify {  \r\n    BetValueInfo bet_value_info = 1;            // 该局下注信息\r\n}\r\n\r\n//开始转动\r\nmessage StartTurnNotify {\r\n    //开奖结果\r\n    uint32 result = 1;  //开奖结果(1=雷克萨斯，2=大众，3=奔驰 4=宝马 5=保时捷 6=马萨拉蒂 7=兰博基尼 8=法拉利)\r\n    uint32 stop_idx = 2; //停止的位置\r\n    uint32 multiple = 3; //中奖倍数\r\n\r\n    //结算\r\n    string gold = 4;                             //玩家结算后的金币数量\r\n    string score = 5;                            //输赢的分数\r\n    repeated uint32 result_list = 6;             //8局开奖列表\r\n}\r\n\r\nmessage ShowResultNotify {\r\n\r\n}\r\n\r\n//结算通知\r\nmessage GameConcludeNotify  { \r\n\r\n}\r\n\r\nmessage ResultMsgInfo {\r\n    uint32 result = 1;  //开奖结果(1=雷克萨斯，2=大众，3=奔驰 4=宝马 5=保时捷 6=马萨拉蒂 7=兰博基尼 8=法拉利)\r\n    uint32 stop_idx = 2; //停止的位置\r\n    uint32 multiple = 3; //中奖倍数\r\n}\r\n\r\n//重连信息\r\nmessage GameReconnectInfo  {\r\n    RoomInfo room_info = 1;                        //房间信息\r\n    uint32 game_state  = 2;                        //游戏状态 1=开始；2=下注；3=转圈；4=结算 5=结算后的空闲时间\r\n    uint32 time_out    = 3;                        //当前阶段剩下的时间(单位秒)\r\n    repeated uint32 bet_value_arr = 4;             //该玩家能下倍数的数组\r\n    repeated BetNumInfo bet_num_info = 5;          //(1=雷克萨斯，2=大众，3=奔驰 4=宝马 5=保时捷 6=马萨拉蒂 7=兰博基尼 8=法拉利)各个位置下注数量\r\n    repeated BetValueInfo bet_value_info = 6;      //桌面筹码值 只保存最后 15 个下注筹码值\r\n    ResultMsgInfo result_msg_info = 7;             //如果已经到了开奖阶段，里面有开奖结果\r\n    string gold = 8;                               //玩家剩余金币\r\n    repeated uint32 result_list = 9;               //8局开奖列表\r\n    uint32 last_stop_idx = 10;                     //上局开奖结果\r\n    uint32  is_continue_Bet = 11;                  //是否可以续投 1=可以 0=不可以\r\n    uint32  is_auto_bet = 12;                      //是否可以托管 1=可以 0=不可以\r\n    repeated uint32 car_multiple_arr = 13;         //汽车图标倍数数组\r\n    repeated uint32 limit_bet = 14;                //限红\r\n}\r\n\r\n//其它玩家列表\r\nmessage OtherUsersReq {\r\n    uint32 player_id = 1;\r\n}\r\n\r\nmessage OtherUsersRes {\r\n    repeated PlayerInfo player_list = 1;      //20名的玩家信息\r\n    uint32 totalplayers = 2;                  //房间总玩家数量\r\n}\r\n\r\n//续投请求\r\nmessage ContinueSameBetReq {\r\n    uint32 player_id = 1;\r\n}\r\n\r\n//续投返回\r\nmessage ContinueSameBetRes {\r\n    uint32 result = 1; // 0=续投失败 1=成功\r\n}\r\n\r\n//请求托管\r\nmessage AutoOprReq {\r\n    uint32 player_id = 1;\r\n}\r\n\r\nmessage AutoBetMsg {\r\n    uint32 pos = 1; //下注的位置\r\n    uint32 num = 2; //下注的数量\r\n}\r\n\r\n//请求托管返回\r\nmessage AutoOprRes {\r\n    repeated AutoBetMsg auto_bet_msg = 1;\r\n}\r\n\r\n//确认托管请求\r\nmessage ConfirmAutoOprReq {\r\n    uint32 player_id = 1;\r\n}\r\n\r\n//确认托管请求\r\nmessage ConfirmAutoOprRes {\r\n     uint32 result = 1;   // 0=确认托管失败 1=确认托管成功\r\n}\r\n\r\n//取消托管请求\r\nmessage CancelAutoOprReq {\r\n    uint32 player_id = 1;\r\n}\r\n\r\nmessage CancelAutoOprRes {\r\n    uint32 result = 1;   // 0=取消托管失败 1=取消托管成功  2=因为金币不足取消托管成功\r\n}\r\n"}