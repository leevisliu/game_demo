{"__type__":"cc.TextAsset","_name":"dzpk","text":"syntax = \"proto3\";\r\npackage DZPK;\r\n\r\nmessage MsgBody  {\r\n\r\n    GameStartNotify   game_start_notify = 1;   //游戏开始\r\n\r\n    SendCardNotify    send_card_notify = 2;   //发牌 \r\n\r\n    TurnWhoOperateNotify turn_who_operate_notify = 3; //广播到谁操作\r\n\r\n    TurnWhoOperateReq turn_who_operate_req = 4; //请求操作\r\n\r\n    TurnWhoOperateRet turn_who_operate_ret = 5; //请求操作返回\r\n\r\n    SendPublicCardNotify send_public_card_notify = 6; //发送公共牌\r\n\r\n    GameConcludeNotify  game_conclude_notify = 7; //结算\r\n    \r\n    GameReconnectInfo  game_reconnect_info = 8; //断线重连\r\n\r\n}\r\n\r\nmessage RoomInfo  {\r\n    string room_base_note  = 1 ;      //房间底注\r\n    string room_code = 2;             //房间编号信息\r\n}\r\n\r\nmessage PlayerInfo  {\r\n    uint32 player_id = 1;\r\n    uint32 seat_id = 2;         //座位ID\r\n    string username = 3;\r\n    float gold = 4;\r\n    uint32 headimg_id = 5;\r\n    uint32 sex = 6;\r\n}\r\n\r\n//大盲\r\nmessage BigBlind {\r\n    uint32 seat_id = 1;         //座位ID\r\n    string  bet_num = 2;         //大盲下注量\r\n}\r\n\r\n//小忙\r\nmessage LittleBlind {\r\n    uint32 seat_id = 1;         //座位ID\r\n    string  bet_num = 2;         //小盲下注量\r\n}\r\n\r\nmessage GameStartNotify  {                  //游戏开始通知\r\n    repeated PlayerInfo player_list = 1;    //所有玩家\r\n    RoomInfo room_info = 2;                 //房间信息\r\n    uint32 bank_seat_id = 3;                //庄家座位ID\r\n    BigBlind big_blind = 4;                 //大盲\r\n    LittleBlind little_blind = 5;           //小盲\r\n    uint32 carryGoldType = 6;               // 0 正常 1 携带设置补充 2金币不足补充\r\n }\r\n\r\nmessage SendCardNotify {\r\n    repeated uint32 card_arr = 1;      //每人2张牌\r\n    uint32 card_type = 2;               //玩家的牌型,1=散牌，2=对子,...,10=皇家同花顺\r\n    uint32 time_out = 3;               //发牌时间，客户端可以不用处理\r\n}\r\n\r\nmessage OperateType {\r\n    uint32 opr_type = 1 ; //操作类型 1=弃牌，2=跟注，3=加注，4=过牌 5 = all_in\r\n    repeated string value = 2; //操作值 (加注的时候，有多个操作值)\r\n}\r\n\r\nmessage TurnWhoOperateNotify {\r\n    uint32 operater_seat_id = 1;                //座位ID\r\n    uint32 time_out = 2;                        //操作的剩余时间\r\n    repeated OperateType operate_type = 3;     //操作类型\r\n    uint32 total_time_out = 4;                        //操作的总时间\r\n}\r\n\r\nmessage TurnWhoOperateReq {\r\n    uint32 player_id = 1;\r\n    OperateType operate_type = 2;     //操作类型\r\n}\r\n\r\nmessage TurnWhoOperateRet {\r\n    uint32 seat_id = 1;               //座位ID\r\n    OperateType operate_type = 2;     //操作类型\r\n    OperateType operate_type_check = 3;              //玩家自己能过还是能跟，跟的话要有值\r\n    string main_bet_num = 4;\r\n    repeated string sub_bet_num = 5;\r\n    string user_bet_num = 6;\r\n    bool is_turn_end = 7;\r\n    string user_gold = 8;               //操作之后剩下的金币\r\n}\r\n\r\n//广播\r\nmessage SendPublicCardNotify {\r\n    uint32 cur_round = 1 ;              //第几轮，第1轮是三张牌，第2轮是第4张，第3轮是第5张 -1表示重连轮有几张就几张\r\n    repeated uint32 public_card = 2; \r\n    repeated uint32 car_arr = 3;               //最大牌的组合（不同的玩家会不同）\r\n    uint32 card_type = 4;               //玩家的牌型,1=散牌，2=对子,...,10=皇家同花顺（不同的玩家会不同）\r\n}\r\n\r\nmessage GameConclude {\r\n    uint32 seat_id = 1;         //玩家座位号\r\n    string gold = 2;             //玩家结算后的金币数量\r\n    string score = 3;            //输赢的分数 大于0为赢家\r\n    repeated uint32 card_arr = 4;      //每人2张牌\r\n    uint32 card_type = 5;               //玩家的牌型,1=散牌，2=对子,...,10=皇家同花顺\r\n}\r\n\r\nmessage GameConcludeNotify  {        //结算推送\r\n    repeated GameConclude game_conclude = 1;\r\n    repeated uint32 win_car_arr = 2;               //赢家最大牌的组合\r\n}\r\n\r\nmessage ReconnectInfo {\r\n    uint32 player_id = 1;\r\n    uint32 seat_id = 2;         //座位ID\r\n    string username = 3;\r\n    string  gold = 4;\r\n    uint32 headimg_id = 5;\r\n    uint32 sex = 6;\r\n}\r\n\r\n//重连信息\r\nmessage GameReconnectInfo  {\r\n    //所有字段，没有数据就为null\r\n    GameStartNotify   game_start_notify = 1; \r\n    SendCardNotify    send_card_notify = 2;   //发牌 \r\n    TurnWhoOperateNotify turn_who_operate_notify = 3; //广播到谁操作 时间为剩余时间 加一个字段表示总时间\r\n    repeated TurnWhoOperateRet turn_who_operate_ret = 4; //当前轮有谁操作过的记录 按操作时间顺序排序 请求操作返回\r\n    SendPublicCardNotify send_public_card_notify = 5; //发送公共牌  轮数为重连 长度为当前所有\r\n    GameConcludeNotify  game_conclude_notify = 6; //结算\r\n}"}