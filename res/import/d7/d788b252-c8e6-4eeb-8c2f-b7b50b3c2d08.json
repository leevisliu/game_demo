{"__type__":"cc.TextAsset","_name":"jszjh","text":"syntax = \"proto3\";\r\npackage JSZJH;\r\n\r\n\r\n\r\nmessage MsgBody {\r\n    GameStartNotify         game_start_notify       = 1;    //游戏初始化消息\r\n    //游戏环节消息\r\n    GameSendCardNotify      game_send_card_notify   = 2;    //发牌通知\r\n    GameShowCardNotify      game_show_card_notify   = 3;    //开牌通知\r\n\r\n    GameShowCardReq         game_show_card_req      = 4;    //开牌请求\r\n    GameShowCardRes         game_show_card_res      = 5;    //开牌结果\r\n\r\n    GameEndNotify           game_end_notify         = 6;    //本回合结束通知\r\n    //游戏内部其他信息\r\n    GameErrRes              game_err_res            = 7;    //游戏内部错误信息\r\n    //游戏内部其他信息\r\n    GameReconnectInfo       game_reconnect_info     = 8;\r\n    GameStopReq             game_stop_req           = 9;    //停止请求\r\n    GameStopRes             game_stop_res           = 10;   //停止结果\r\n}\r\n\r\nmessage PlayerInfo  {\r\n    uint32 player_id = 1;\r\n    uint32 seat_id = 2;                         //座位ID\r\n    string username = 3;\r\n    float  gold = 4;\r\n    uint32 headimg_id = 5;\r\n    uint32 sex = 6;                             //性别\r\n\r\n    bool is_user_conclude = 7;                  //该玩家是否继续游戏（若金币不足则为false 表示该玩家不能继续游戏 其他玩家不受影响）\r\n}\r\n\r\nmessage RoomInfo  {\r\n    string room_base_note  = 1;                 //房间底注\r\n    string room_code = 2;                       //房间编号信息\r\n    uint32 round = 3;                           //当前局数\r\n}\r\n\r\n//通知开始游戏\r\nmessage GameStartNotify {\r\n    repeated PlayerInfo player_list = 1;        //所有玩家\r\n    RoomInfo room_info = 2;                     //房间信息 \r\n}\r\n\r\n//发牌通知\r\nmessage GameSendCardNotify {   \r\n    uint32 time_out = 1;                        //超时时间\r\n}\r\n\r\n//开牌通知\r\nmessage GameShowCardNotify {\r\n    uint32 time_out = 1;                        //超时时间\r\n    repeated uint32 card_arr = 2;               //每个玩家的3张牌\r\n    uint32 card_type = 3;\r\n}\r\n\r\n//开牌请求\r\nmessage GameShowCardReq {\r\n    uint32 player_id = 1;\r\n}\r\n\r\nmessage CardResult {\r\n    uint32 seat_id = 1;\r\n    repeated uint32 card_arr = 2;               //每个玩家的3张牌\r\n    uint32 card_type = 3;                       //1[豹子] 2[同花] 3[金花] 4[顺子] 5[对子] 6[散牌] 7[235]\r\n}\r\n\r\n//开牌结果\r\nmessage GameShowCardRes {\r\n    CardResult card_result = 1;                 //开牌结果\r\n}\r\n\r\nmessage ResultInfo {\r\n    uint32 seat_id = 1;                         //座位号\r\n    float gold = 2;                             //结算后的金币数\r\n    float score = 3;                            //本局的输赢情况\r\n    bool is_user_conclude = 4;                  //该玩家是否未破产\r\n}\r\n\r\n//本回合结束通知\r\nmessage GameEndNotify { \r\n    repeated ResultInfo result_info = 1;        //结果\r\n    bool is_game_conclude = 2;                  //游戏是否继续进行（若轮数到达上限则为false 表示游戏结束）\r\n    bool hasBankruptcy = 3;                     //是否有人破产\r\n}\r\n\r\nmessage GameErrRes {    //游戏内部错误信息\r\n    uint32 err_id = 1;                          //1状态错误 2无效玩家id 3该玩家不在游戏状态中（金币不足）\r\n}\r\n\r\n//重连信息\r\nmessage GameReconnectInfo  {\r\n    uint32 game_station = 1;                    //游戏状态 1游戏开始 2发牌 3看牌 4本回合结束\r\n    GameStartNotify game_start_notify = 2;      //游戏开始的信息 包括所有玩家的信息\r\n    repeated CardResult card_result = 3;        //所有玩家的牌\r\n    uint32 time_out = 4;                        //当前阶段剩下的时间(单位秒)\r\n    bool is_next_round_stop = 5;                //下一轮是否停止\r\n}\r\n\r\n//停止请求\r\nmessage GameStopReq {\r\n    uint32 player_id = 1;                       //玩家id号\r\n}\r\n\r\n//停止结果\r\nmessage GameStopRes {\r\n    uint32 result = 1;                          //停止结果 0为成功 1为失败\r\n}"}