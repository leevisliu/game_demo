{"__type__":"cc.TextAsset","_name":"sss","text":"syntax = \"proto3\";\r\npackage SSS;\r\n\r\n//游戏状态 1游戏开始 2摆牌 3比牌 4结束\r\n//普通牌型 -1无效牌型 1乌龙 2对子 3两对 4三条 5顺子 6同花 7葫芦 8铁支 9同花顺\r\n//特殊牌型 0无效牌型 1三同花 2三顺子 3六对半 4五对三条 5四套三条 6凑一色 7全小 8全大 9三分天下 10三同花顺 11十二皇族 12一条龙 13至尊青龙\r\n\r\nmessage MsgBody  {\r\n    GameStartNotify     game_start_notify       = 1;    //游戏开始\r\n    GamePutCardNotify   game_put_card_notify    = 2;    //摆牌通知\r\n\r\n    GamePutCardReq      game_put_card_req       = 3;    //摆牌请求\r\n    GamePutCardRes      game_put_card_res       = 4;    //摆牌回应\r\n\r\n    GameBattleNotify    game_battle_notify      = 5;    //比牌通知\r\n\r\n    GameEndNotify       game_end_notify         = 6;    //游戏结束通知\r\n\r\n    GameReconnectInfo   game_reconnect_info     = 8;    //重连\r\n}\r\n\r\nmessage PlayerInfo  {\r\n    uint32 player_id = 1;\r\n    uint32 seat_id = 2;\r\n    string username = 3;\r\n    string gold = 4;\r\n    uint32 headimg_id = 5;\r\n    uint32 sex = 6;\r\n    bool is_putted = 7;                     //是否摆牌完成\r\n    bool is_special_type = 8;               //是否特殊牌型\r\n    uint32 vip_level = 9;                   //vip等级\r\n}\r\n\r\n//房间信息\r\nmessage RoomInfo  {\r\n    string room_base_note = 1;              //房间底注\r\n    string room_code = 2;                   //房间编号信息\r\n}\r\n\r\n//游戏开始通知\r\nmessage GameStartNotify  {\r\n    repeated PlayerInfo player_list = 1;    //玩家列表\r\n    RoomInfo room_info = 2;                 //房间信息\r\n    uint32 time_out = 3;                    //发牌时间\r\n}\r\n\r\n//发牌通知\r\nmessage GameSendCardNotify {\r\n    repeated uint32 card_arr = 1;           //每个人的牌\r\n    uint32 time_out = 2;                    //发牌的倒计时(单位秒)\r\n}\r\n\r\n//手动摆牌时 每个牌类型对应的牌组\r\nmessage ManualCardInfoData {\r\n    repeated uint32 card_arr = 1;\r\n}\r\n\r\n//手动摆牌时 每个牌类型的提示信息\r\nmessage ManualCardInfo {\r\n    uint32 card_type = 1;                   //普通牌型\r\n    repeated ManualCardInfoData manual_card_info_data = 2;      //手动摆牌信息\r\n}\r\n\r\n//自动摆牌时 某一种自动摆牌组合中的某一墩牌的信息\r\nmessage AutoCardInfoData {\r\n    repeated uint32 card_arr = 1;   //牌组\r\n    uint32 card_type = 2;           //普通牌型\r\n}\r\n\r\n//自动摆牌时 某一种自动摆牌组合的信息\r\nmessage AutoCardInfo {\r\n    repeated AutoCardInfoData auto_card_info_data = 1;      //自动摆牌信息\r\n}\r\n\r\n//摆牌通知\r\nmessage GamePutCardNotify {\r\n    repeated uint32 card_arr = 1;                   //手牌数组\r\n    uint32 special_type = 2;                        //牌的特殊类型\r\n    repeated uint32 special_card_arr = 3;           //如果把当前牌组成特殊牌型的话 则会变成的顺序 如果特殊类型是0 则该数据无效\r\n    repeated ManualCardInfo manual_card_info = 4;   //手动摆牌信息\r\n    repeated AutoCardInfo auto_card_info = 5;       //自动摆牌信息\r\n    uint32 time_out = 6;                            //摆牌的倒计时(单位秒)\r\n}\r\n\r\n//输赢水数信息\r\nmessage WaterInfo {\r\n    int32 water_normal = 1;                        //普通水数\r\n    int32 water_extra = 2;                         //额外水数\r\n}\r\n\r\n//比牌信息\r\nmessage BattleInfo {\r\n    uint32 seat_id = 1;                             //座位号\r\n    repeated uint32 card_arr = 2;                   //每人的十三张牌\r\n    repeated uint32 card_type = 3;                  //头中尾牌类型\r\n    uint32 special_type = 4;                        //特殊牌类型\r\n}\r\n\r\n//玩家全胜其他玩家的信息\r\nmessage WinResultInfo {\r\n    uint32 win_seat_id = 1;                         //赢的玩家座位号\r\n    repeated uint32 lose_seat_id = 2;               //输的玩家座位号\r\n}\r\n\r\n//比牌通知\r\nmessage GameBattleNotify  {\r\n    repeated BattleInfo battle_info = 1;            //比牌结果\r\n    repeated WaterInfo water_info = 2;              //水数信息 前三个为头墩中墩尾墩的水数信息 第四个为总计水数信息\r\n    repeated WinResultInfo win_result_info = 3;     //玩家全胜其他玩家的信息\r\n    uint32 time_out = 4;                            //结束时间\r\n}\r\n\r\n//结果\r\nmessage ResultInfo {\r\n    uint32 seat_id = 1;                             //座位号\r\n    string gold = 2;                                //结算后的金币数\r\n    string score = 3;                               //本局的输赢情况\r\n}\r\n\r\n//结束通知\r\nmessage GameEndNotify{\r\n    repeated ResultInfo result_info = 1;            //结果\r\n}\r\n\r\n//牌墩信息\r\nmessage CardInfo {\r\n    repeated uint32 card_arr = 1;                   //牌墩\r\n}\r\n\r\n//摆牌请求\r\nmessage GamePutCardReq {\r\n    uint32 player_id = 1;\r\n    repeated CardInfo card_deck = 2;                //头墩+中墩+尾墩\r\n    uint32 special_type = 3;                        //牌的特殊类型\r\n}\r\n\r\n//摆牌回应\r\nmessage GamePutCardRes {\r\n    uint32 seat_id = 1;                             //座位号\r\n    bool is_special_type = 2;                       //是否特殊牌型\r\n    uint32 result = 3;                              //结果 0成功 1状态错误 2牌数量错误 3倒水 4已经摆过牌\r\n}\r\n\r\n//重连信息\r\nmessage GameReconnectInfo  {\r\n    GameStartNotify game_start_notify = 1;          //开始信息 包括玩家是否摆牌完成\r\n    uint32 game_station = 2;                        //游戏状态 1游戏开始 2摆牌 3比牌 4结束\r\n    uint32 time_out = 3;                            //当前阶段剩下的时间(单位秒)\r\n    repeated uint32 card_arr = 4;                   //手牌信息\r\n    repeated ManualCardInfo manual_card_info = 5;   //手动摆牌信息\r\n    repeated AutoCardInfo auto_card_info = 6;       //自动摆牌信息\r\n    uint32 special_type = 7;                        //牌的特殊类型\r\n    repeated uint32 special_card_arr = 8;           //如果把当前牌组成特殊牌型的话 则会变成的顺序 如果特殊类型是0 则该数据无效\r\n    GameBattleNotify  game_battle_notify = 9;       //比牌结果\r\n}\r\n"}