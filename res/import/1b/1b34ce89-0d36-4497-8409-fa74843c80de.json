{"__type__":"cc.TextAsset","_name":"jsys","text":"syntax = \"proto3\";\r\npackage JSYS;\r\n\r\nmessage MsgBody  {\r\n    GameStartNotify     game_start_notify = 1;          //游戏开始\r\n\r\n    StartBetNotify      start_bet_notify = 2;           //开始下注\r\n\r\n    BetReq              bet_req = 3;                    //下注请求\r\n    BetNotify           bet_notify = 4;                 //自己的下注通知\r\n    OtherBetNotify      other_bet_notify = 5;           //其他人的下注通知\r\n\r\n    ShowResultNotify    show_result_notify = 6;         //开奖通知\r\n\r\n    GameConcludeNotify  game_conclude_notify = 7;       //结算\r\n\r\n    GameReconnectInfo   game_reconnect_info = 8;        //加入房间\r\n\r\n    PlayerListReq       player_list_req = 9;            //玩家列表请求\r\n    PlayerListRes       player_list_res = 10;           //玩家列表回应\r\n\r\n    ContinueBetReq      continue_bet_req = 11;          //续投请求\r\n    ContinueBetRes      continue_bet_res = 12;          //续投回应\r\n\r\n    TuoguanReq          tuo_guan_req = 13;              //请求托管面板\r\n    TuoguanRes          tuo_guan_res = 14;              //回应托管面板数据\r\n    TuoguanConfirmReq   tuoguan_confirm_req = 15;       //确认托管请求\r\n    TuoguanConfirmRes   tuoguan_confirm_res = 16;       //确认托管回应\r\n}\r\n\r\n//房间信息\r\nmessage RoomInfo  {\r\n    string room_code = 1;                               //房间编号信息\r\n}\r\n\r\n//游戏开始通知\r\nmessage GameStartNotify  {            \r\n    RoomInfo room_info = 1;                             //房间信息\r\n    uint32 time_out = 2;                                //开始状态时间\r\n    repeated uint32 type_value = 3;                     //开奖类型倍数数组\r\n    repeated uint32 bet_value_arr = 4;                  //该玩家下注筹码数组\r\n    repeated PlayerInfo spec_player_list = 5;           //特殊玩家数组（目前第一个代表幸运星，第2~6个代表土豪）\r\n}\r\n\r\n//通知开始下注\r\nmessage StartBetNotify {      \r\n    uint32 time_out = 1;                                //下注状态时间(单位秒)\r\n    uint32 can_tuoguan = 2;                             //是否可以显示托管 0可以，1不可以\r\n    uint32 can_xutou = 3;                               //是否可以显示续投 0可以，1不可以\r\n}\r\n\r\n//下注请求\r\nmessage BetReq   {\r\n    uint32 player_id = 1;                               //玩家ID\r\n    uint32 bet_value = 2;                               //下注值\r\n    uint32 loc = 3;\t\t\t                            //下注的位置\r\n}\r\n\r\n//下注筹码值情况\r\nmessage BetValueInfo {\r\n    uint32 loc = 1;                                     //下注筹码的位置\r\n    uint32 bet_value = 2;                               //下注的筹码值\r\n}\r\n\r\n//已下注筹码数量信息\r\nmessage BetNumInfo {\r\n    uint32 user_bet_num = 1;                            //我已下注数量\r\n    uint32 sum_bet_num = 2;                             //所有玩家已下注数量\r\n}\r\n\r\n//下注通知  此通知只会发给自己\r\nmessage BetNotify  {\r\n    uint32 result = 1 ;                                 //下注结果: 1=成功,2=达到限红, 3=金币不足\r\n    string  gold = 2;                                   //更新玩家金币\r\n    BetValueInfo bet_value_info = 3;                    //下注信息\r\n    repeated BetNumInfo bet_num_info = 4;               //所有玩家在各个位置下注总量\r\n    uint32 max_bet_num = 5;                             //下注区域的最大的下住总值\r\n}\r\n\r\n//其他玩家下注通知 每隔一段时间一起发过来\r\nmessage OtherBetNotify {\r\n   repeated BetValueInfo bet_value_info = 1;            //筹码应该丢在那个位置\r\n   repeated BetNumInfo bet_num_info = 2;                //所有玩家在各个位置下注总量  \r\n   uint32 max_bet_num = 3;                              //下注区域的最大的下住总值\r\n}\r\n\r\nmessage ResultMsgInfo {\r\n    uint32 loc_type = 1 ;                               //1~12的类型\r\n    uint32 val_betValue = 2;                            //开奖位置对应的倍数\r\n}\r\n\r\n//开奖通知\r\nmessage ShowResultNotify {                    \r\n    uint32 loc = 1;                                     //转圈中奖坐标 (1 - 27) 左上角顺时针开始方向\r\n    uint32 time_out = 2;                                //开奖状态时间(单位秒)\r\n}\r\n\r\n//结算通知\r\nmessage GameConcludeNotify  { \r\n    string gold = 1;                                    //玩家结算后的金币数量\r\n    string score = 2;                                   //输赢的分数\r\n    uint32 time_out = 3;                                //结束时间\r\n    bool is_bet_req = 4;                                //是否有下注，true = 有下注,false = 没下注\r\n    repeated ResultMsgInfo result_msg_info = 5;         //中奖具体数据\r\n}\r\n\r\n//重连信息\r\nmessage GameReconnectInfo  {\r\n    RoomInfo room_info = 1;                             //房间信息\r\n    uint32 game_state  = 2;                             //游戏状态 1开始2押注3开奖4结算\r\n    uint32 time_out    = 3;                             //当前阶段剩下的时间(单位秒)\r\n    repeated uint32 bet_value_arr = 4;                  //该玩家能下倍数的数组\r\n    repeated BetNumInfo bet_num_info = 5;               //各位置已下注数量\r\n    repeated ResultMsgInfo result_msg_info = 6;         //如果已经到了开奖阶段，里面有开奖数据\r\n    string gold = 7;                                    //玩家剩余金币\r\n    uint32 now_stop_loc = 8;                            //如果已开奖，则为开奖坐标，否则为上局坐标\r\n    uint32 last_stop_loc = 9;                           //上局开奖坐标\r\n    repeated uint32 history = 10;                       //暂定8条历史记录\r\n    repeated uint32 type_value = 11;                    //开奖类型倍数数组 \r\n    uint32 max_bet_num = 12;                            //下注区域的最大的下住总值\r\n    uint32 can_tuoguan = 13;                            //是否可以托管 0可以，1不可以\r\n    uint32 can_xutou = 14;                              //是否可以续投 0可以，1不可以\r\n    repeated uint32 limit_bet = 15;                     //限红数值\r\n    repeated PlayerInfo spec_player_list = 16;          //特殊玩家数组（目前第一个代表幸运星，第2~6个代表土豪）\r\n    string score = 17;                                  //输赢的分数\r\n    repeated string litmitNumber = 18;                  //限红显示[2，100] \r\n}\r\n\r\n//玩家列表\r\nmessage PlayerListReq {\r\n    uint32 player_id = 1;\r\n}\r\n\r\nmessage PlayerInfo  {\r\n    uint32 player_id = 1;                  \r\n    string username = 2;\r\n    string gold = 3;\r\n    uint32 headimg_id = 4;\r\n    uint32 sex = 5;                                 \r\n}\r\n\r\nmessage PlayerListRes {\r\n    repeated PlayerInfo player_list = 1;                //20名的玩家信息\r\n    uint32 totalplayers = 2;                            //房间总玩家数量\r\n}\r\n\r\n//续投请求回应\r\nmessage ContinueBetReq {\r\n     uint32 player_id = 1;                  \r\n}\r\nmessage ContinueBetRes {\r\n    uint32 result = 1;                                  //0成功  1失败\r\n    string showMsg = 2;                                 //失败时显示的具体文字\r\n}\r\n\r\n//托管请求回应\r\nmessage TuoguanReq {\r\n    uint32 player_id = 1;\r\n}\r\nmessage TuoguanRes {\r\n    repeated BetValueInfo bet_value_info = 1;           //托管面板信息\r\n}\r\n\r\n//确认托管请求回应\r\nmessage TuoguanConfirmReq {\r\n    uint32 player_id = 1;\r\n    uint32 is_tuoguan = 2;                              //1确认托管  2取消托管\r\n}\r\nmessage TuoguanConfirmRes{\r\n    uint32 result = 1;                                  //1确定托管成功 2取消托管成功 3确定或取消托管失败 4中途因金币不足取消托管成功\r\n    string showMsg = 2;                                 //失败时显示的具体文字\r\n}"}