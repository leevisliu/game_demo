{"__type__":"cc.TextAsset","_name":"lrs","text":"syntax = \"proto3\";\r\npackage LRS;\r\n\r\nmessage MsgBody  {\r\n    GameStartNotify     game_start_notify = 1;          //游戏开始\r\n\r\n    SendIdenNotify      send_card_notify = 2;           //发每个人身份信息\r\n\r\n    DayOrNightNotify    day_or_night = 3;               //广播白天黑夜信息\r\n    TurnOperNotify      turn_oper_notify = 4;           //私发本轮操作者\r\n\r\n    OperReq             oper_req = 5;                   //请求操作\r\n    OperRes             oper_res = 6;                   //请求操作返回\r\n\r\n    GameConcludeNotify  game_conclude_notify = 7;       //结算\r\n    GameReconnectInfo   game_reconnect_info = 8;        //断线重连\r\n\r\n    PreOperReq          pre_oper_req = 9;               //预操作请求\r\n    PreOperRes          pre_oper_res = 10;              //预操作返回\r\n\r\n    ShowHistoryNotify   show_history_notify = 11;       //展示每局历史通知\r\n    VoteResultRes       vote_result_res = 12;           //若有第二轮投票（第一轮投票会发这个)\r\n\r\n    HistoryReq          history_req = 13;               //请求某轮夜晚或者白天历史记录\r\n    HistoryRes          history_res = 14;             \r\n\r\n    FaceAndTextReq      face_text_req = 15;\r\n    FaceAndTextRes      face_text_res = 16;\r\n}   \r\n\r\nmessage PlayerInfo  {\r\n    uint32 player_id = 1;\r\n    uint32 seat_id = 2;                                 //座位ID\r\n    string username = 3;\r\n    uint32 headimg_id = 4;\r\n    uint32 sex = 5;\r\n    string gold = 6;\r\n    string score = 7;\r\n    uint32 vip_level = 8;\r\n}\r\n\r\n//房间信息\r\nmessage RoomInfo  {\r\n    string room_code = 1;                               //房间编号信息\r\n}\r\n\r\n//游戏开始通知\r\nmessage GameStartNotify  {            \r\n    RoomInfo room_info = 1;                             //房间信息\r\n    uint32 time_out = 2;                                //开始状态时间\r\n    repeated PlayerInfo player_list = 3;                //所有玩家\r\n}\r\n\r\n//给每个玩家私发玩家身份信息\r\nmessage SendIdenNotify {   \r\n    uint32 iden = 1;                                    //1狼人 2女巫 3猎人 4平民\r\n    uint32 chair_id = 2;                                //其椅子号            \r\n}\r\n\r\n//白天黑夜和当前操作信息组播\r\nmessage DayOrNightNotify {\r\n    uint32 day_night = 1;                               //1白天 2黑夜\r\n    repeated uint32 live_chairids = 2;                  //椅子存活状态信息 1存活 2被刀 3被毒 4被枪毙 5被投票出局 6猎人出局前带走\r\n    uint32 oper_state = 3;                              //1轮到狼人操作 2轮到女巫操作 3轮到猎人操作 4投票环节 5更新时间其余状态都不更新时间\r\n    uint32 time_out = 4;                                //倒计时时间\r\n    uint32 turns = 5;                                   //第几轮\r\n}\r\n\r\n//操作玩家私发\r\nmessage TurnOperNotify {\r\n    uint32 oper_type = 1;                               //可操作选项数组 1狼人刀 2女巫解药 4女巫毒药 6猎人枪毙 8投票 \r\n    repeated uint32 can_chairs = 2;                     //可操作的椅子\r\n    uint32 time_out = 3;                                //剩余可操作时间\r\n}\r\n\r\n//请求操作\r\nmessage OperReq {\r\n    uint32 oper_type = 1;                               //操作类型 1狼人刀 2女巫解药 3女巫不解药 4女巫毒药 5女巫不毒药 6猎人枪毙 7 猎人不枪毙 8投票 \r\n    uint32 oper_chairId = 2;                            //操作玩家chair_id\r\n    uint32 to_chairId = 3;                              //被操作的chair_id\r\n} \r\n\r\n//操作后返回操作的结果\r\nmessage OperRes {\r\n    uint32 ret = 1;                                     //返回状态码 0成功 1失败\r\n    uint32 to_chairId = 2;                              //被操作椅子\r\n    repeated uint32 live_chairids = 3;                  //椅子存活状态信息 1存活 2被刀 3被毒 4被枪毙 5被投票出局  6猎人出局前带走\r\n    uint32 oper_type = 4;                               //操作类型 1狼人刀 2女巫解药 3女巫不解药 4女巫毒药 5女巫不毒药 6猎人枪毙 7 猎人不枪毙 8投票 \r\n}\r\n\r\n//结算消息\r\nmessage GameConcludeNotify  {             \r\n    repeated PlayerInfo player_list = 1;               //所有玩家\r\n    repeated uint32 id_list = 2;                       //玩家身份数组， key是椅子号， value是身份\r\n    repeated uint32 live_chairids = 3;                 //椅子存活状态信息 1存活 2被刀 3被毒 4被枪毙 5被投票出局 6猎人出局前带走\r\n    repeated HistoryRes history = 4;                   //完整历史记录\r\n}\r\n\r\n//重连信息\r\nmessage GameReconnectInfo  {\r\n    uint32 iden = 1;                                    //玩家身份\r\n    uint32 my_chairid = 2;                              //玩家椅子号\r\n    uint32 isMyTurn = 3;                                //当前是否我操作 0不是 1是\r\n    uint32 oper_type = 4;                               //当前可操作选项数组\r\n    uint32 leftTime = 5;                                //当前操作者剩余时间\r\n    uint32 day_night = 6;                               //1白天 2黑夜\r\n    uint32 oper_state = 7;                              //当前操作环节 1轮到狼人操作 2轮到女巫操作 3轮到猎人操作 4投票环节 5结算中\r\n    string score = 8;                                   //玩家得分\r\n    string gold = 9;                                    //玩家剩余金币\r\n    RoomInfo room_info = 10;                            //房间信息\r\n    repeated uint32 live_chairids = 11;                 //椅子存活状态信息 1存活 2被刀 3被毒 4被枪毙 5被投票出局 6猎人出局前带走\r\n    repeated PlayerInfo player_list = 12;               //所有玩家\r\n    repeated uint32 id_list = 13;                       //(结算时才有这个数据)玩家身份数组， key是椅子号， value是身份\r\n    repeated uint32 can_chairs = 14;                    //可操作的椅子\r\n    repeated DayResult history = 15;                    //历史记录\r\n    uint32 turns = 16;                                   //第几轮\r\n}\r\n\r\n//预操作 有预操作的只有 2解药 4毒药 6枪毙这3个（只需要在这3种情况下发预操作信息过来）\r\nmessage PreOperReq {\r\n    uint32 operType = 1;                                //操作类型\r\n    uint32 chair_id = 2;                                //预备操作的椅子\r\n}\r\n\r\nmessage PreOperRes {\r\n    uint32 ret = 1;                                     //0成功  1失败\r\n}\r\n\r\nmessage OneData {\r\n    uint32 oper_seat = 1;                               //操作椅子号\r\n    uint32 to_seat = 2;                                 //被操作椅子号\r\n    uint32 oper = 3;                                    //操作\r\n}\r\n\r\n//展示面板，1夜晚转白天的投票前和投票后的展示。 当收到这个消息就展示。然后等我下一个DayOrNightNotify消息来了就关闭并显示下一个操作阶段的数据\r\nmessage ShowHistoryNotify {\r\n    repeated OneData oneDayData = 1;                    //要显示的内容(黑夜只发给你当晚黑夜的信息，白天只发当天投票信息[不再发送多余无效数据了，但是投票显示需要你自己处理下数据])\r\n    repeated uint32 out_seat = 2;                       //本轮淘汰出局的椅子号数组\r\n    uint32 day_night = 3;                               //1白天 2黑夜\r\n    uint32 time_out = 4;                                //展示时间\r\n    uint32 turns = 5;                                   //第几轮\r\n    repeated DayResult history = 6;                    //历史记录(只用来显示界面上的历史)\r\n    repeated uint32 live_chairids = 7;                  //椅子存活状态信息 1存活 2被刀 3被毒 4被枪毙 5被投票出局 6猎人出局前带走\r\n}\r\n\r\nmessage VoteResultRes {\r\n    repeated OneData oneDayData = 1;                    //要显示的内容\r\n    uint32 time_out = 2;                                //展示时间\r\n    repeated uint32 out_seat = 3;                       //本轮淘汰出局的椅子号数组\r\n}\r\n\r\nmessage DayResult {\r\n    uint32 turns = 1;                                   //第几轮\r\n    repeated uint32 night_out_seat = 2;                 //夜晚出局椅子数组\r\n    repeated uint32 day_out_seat = 3;                   //白天投票出局椅子数组，固定第一个是投票，第二个是猎人\r\n    uint32 qiang_seat = 4;                              //猎人枪毙的椅子号\r\n}\r\n\r\nmessage HistoryReq {\r\n    uint32 player_id = 1;                       \r\n    uint32 turns = 2;                                    //第几轮\r\n    uint32 day_night = 3;                               //1是白天投票历史  2是夜晚历史\r\n}\r\n\r\nmessage HistoryRes {\r\n    repeated OneData oneDayData = 1;                    \r\n    repeated uint32 out_seat = 2;                       //淘汰出局的椅子号数组\r\n    uint32 turns = 3;                                   //第几轮\r\n    uint32 day_night = 4;                               //1是白天投票历史  2是夜晚历史\r\n}\r\n\r\nmessage FaceAndTextReq {\r\n    uint32 player_id = 1;                               //请求发送玩家\r\n    uint32 code = 2;                                    //表情和文本编号\r\n}\r\n\r\nmessage FaceAndTextRes {\r\n    PlayerInfo sendPlayer = 1;                          //发送玩家信息\r\n    uint32 code = 2;                                    //发送的表情和文本编号\r\n}\r\n"}