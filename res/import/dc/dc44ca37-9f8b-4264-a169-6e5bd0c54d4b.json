{"__type__":"cc.TextAsset","_name":"tbnn","text":"syntax = \"proto3\";\r\npackage TBNN;\r\n\r\n\r\n\r\nmessage MsgBody  {\r\n\r\n    GameStartNotify   game_start_notify = 1;   //游戏开始\r\n\r\n    StartBetNotify    start_bet_notify = 2; //开始下注\r\n    BetReq            bet_req = 3; \r\n    BetRes            bet_res = 4;\r\n\r\n    DealCardNotify    deal_card_notify = 5;    //开始看牌\r\n    CardResultReq     card_result_req = 6;\r\n    CardResultRes     card_result_res = 7;\r\n\r\n    GameConcludeNotify  game_conclude_notify = 8; //结算\r\n    \r\n    GameReconnectInfo  game_reconnect_info = 9; //断线重连\r\n\r\n}\r\n\r\nmessage RoomInfo  {\r\n    string room_base_note  = 1 ;      //房间底注\r\n    string room_code = 2;             //房间编号信息\r\n}\r\n\r\nmessage PlayerInfo  {\r\n    uint32 player_id = 1;\r\n    uint32 seat_id = 2;         //座位ID\r\n    string username = 3;\r\n    float  gold = 4;\r\n    uint32 headimg_id = 5;\r\n    uint32 sex = 6;\r\n    uint32 vip_level = 7;           //vip等级\r\n}\r\n\r\nmessage GameStartNotify  {      //游戏开始通知\r\n    repeated PlayerInfo player_list = 1;           //所有玩家\r\n    RoomInfo room_info = 2;                        //房间信息\r\n}\r\n\r\nmessage StartBetNotify {      //通知开始下注\r\n    repeated uint32 bet_multiple_arr = 1;    //该玩家能下倍数的数组\r\n    uint32 time_out = 2;                     //下注的倒计时(单位秒)\r\n}\r\n\r\nmessage BetReq  {\r\n    uint32 player_id = 1;\r\n    uint32 bet_multiple = 2;           //下注倍数\r\n}\r\n\r\nmessage BetRes  {\r\n    uint32 seat_id = 1;\r\n    uint32 bet_multiple = 2;           //下注倍数    \r\n}\r\n\r\nmessage DealCardNotify {               //下注完成 发牌\r\n    repeated uint32 card_arr = 1;\r\n    uint32 val_type = 2;               //玩家的牌型, 0=无牛、1=牛1 ... 10=牛牛、11=四花牛、12=五花牛、13=炸弹牛、14=五小牛\r\n    uint32 time_out = 3;               //摊牌的倒计时(单位秒)\r\n}\r\n\r\nmessage CardResult  {\r\n    uint32 seat_id = 1;\r\n    repeated uint32 card_arr = 2;       //每个玩家的5张牌\r\n    uint32 val_type = 3;                //玩家的牌型,  0=无牛、1=牛1 ... 10=牛牛、11=四花牛、12=五花牛、13=炸弹牛、14=五小牛\r\n    uint32 val_multiple = 4;                  //牌对应的倍数\r\n}\r\n\r\nmessage CardResultReq  {        //开牌请求\r\n    uint32 player_id = 1;\r\n} \r\n\r\nmessage CardResultRes  {        //开牌结果\r\n    CardResult card_result = 1;\r\n}\r\n\r\nmessage GameConclude {\r\n    uint32 seat_id = 1;         //玩家座位号\r\n    float gold = 2;            //玩家结算后的金币数量\r\n    float score = 3;            //输赢的分数\r\n}\r\n\r\nmessage GameConcludeNotify  {        //结算推送\r\n    repeated GameConclude game_conclude = 1;\r\n    uint32 bank_seat_id = 2;    //庄家位置\r\n}\r\n\r\nmessage ReconnectInfo {\r\n    uint32 player_id = 1;\r\n    uint32 seat_id = 2;         //座位ID\r\n    string username = 3;\r\n    float  gold = 4;\r\n    uint32 headimg_id = 5;\r\n    uint32 sex = 6;\r\n    sint32 bet_multiple = 7; //大于0表示已经下注，而且数值就是实际的下注倍数, 没下注 = -1\r\n    sint32 open_carded = 8 ; // 已经摊牌 = 1；没摊牌 = -1\r\n    CardResult card_result = 9; //如果该玩家已经亮牌,里面有数据,没摊牌为空\r\n    uint32 vip_level = 10;           //vip等级\r\n}\r\n\r\n//重连信息\r\nmessage GameReconnectInfo  {\r\n    RoomInfo room_info = 1;                        //房间信息\r\n    uint32 game_state  = 2;                        //游戏状态 1=开始(服务器有1秒的等待时间，播放开始动画)；2=下注阶段；3=开牌阶段；4=结算（结算有1.5秒的时间延时）\r\n    uint32 time_out    = 3;                        //当前阶段剩下的时间(单位秒)\r\n    repeated uint32 bet_multiple_arr = 4;          //该玩家能下倍数的数组\r\n    repeated ReconnectInfo reconnect_info = 5;     //玩家信息\r\n}"}