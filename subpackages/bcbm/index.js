window.__require=function t(e,o,n){function r(a,c){if(!o[a]){if(!e[a]){var s=a.split("/");if(s=s[s.length-1],!e[s]){var u="function"==typeof __require&&__require;if(!c&&u)return u(s,!0);if(i)return i(s,!0);throw new Error("Cannot find module '"+a+"'")}a=s}var l=o[a]={exports:{}};e[a][0].call(l.exports,function(t){return r(e[a][1][t]||t)},l,l.exports,t,e,o,n)}return o[a].exports}for(var i="function"==typeof __require&&__require,a=0;a<n.length;a++)r(n[a]);return r}({BCBMAdapter:[function(t,e,o){"use strict";cc._RF.push(e,"11be4Am/nlKv7ZzfSLjq1IC","BCBMAdapter");var n=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../../common/utils/Utils"),i=cc._decorator,a=i.ccclass,c=(i.property,function(){function t(){}var e;return e=t,t.prototype.getRandomInt=function(t,e){return r.default.getRandomInt(t,e)},t.prototype.addClickEventEND=function(t,e,o){return r.default.addClickEventEND(t,e,o)},t.prototype.getFormatGold=function(t){return r.default.getFormatGold(t)},t.prototype.getSubStringLengTxt=function(t){return r.default.getSubStringLengTxt(t)},t.prototype.getReplaceStrToStar=function(t){return r.default.getReplaceStrToStar(t)},t.instance=new e,t=e=n([a],t)}());o.BCBMAdapter=c.instance,cc._RF.pop()},{"../../../common/utils/Utils":void 0}],BCBMAutoView:[function(t,e,o){"use strict";cc._RF.push(e,"e528cftTTFI957PeatDD70n","BCBMAutoView");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../../view/base/PopupView"),a=t("../../../manager/NetManager"),c=t("../../../manager/EventManager"),s=t("../BCBMDefine"),u=cc._decorator,l=u.ccclass,p=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Layout=null,e.car_item=null,e.carFrames=[],e}return n(e,t),e.prototype.start=function(){this.showAutoView(this.data)},e.prototype.initComponent=function(){var t=this;this.getItem("btn_close").registerClick(this.onClickClose.bind(this)),this.getItem("btn_cancel").registerClick(this.onClickClose.bind(this)),this.getItem("btn_confirm").registerClick(function(){a.NetManager.getGameProtocol().sendConfirmAutoOprReq(),t.onClickClose()})},e.prototype.initEvent=function(){c.EventManager.on(this,s.EventDefine.HideAutoView,this.onClickClose)},e.prototype.onClickClose=function(){this.close()},e.prototype.showAutoView=function(t){var e=this;t.auto_bet_msg.forEach(function(t,o){var n=t.pos-1,r=t.num,i=cc.instantiate(e.car_item);i.active=!0,i.getChildByName("icon_car").getComponent(cc.Sprite).spriteFrame=e.carFrames[n],i.getChildByName("value").getComponent(cc.Label).string="x "+r,e.Layout.addChild(i)})},r([p(cc.Node)],e.prototype,"Layout",void 0),r([p(cc.Node)],e.prototype,"car_item",void 0),r([p(cc.SpriteFrame)],e.prototype,"carFrames",void 0),e=r([l],e)}(i.default);o.default=h,cc._RF.pop()},{"../../../manager/EventManager":void 0,"../../../manager/NetManager":void 0,"../../../view/base/PopupView":void 0,"../BCBMDefine":"BCBMDefine"}],BCBMBetArea:[function(t,e,o){"use strict";cc._RF.push(e,"c93c50ul3VM/pOaDOXfhv5k","BCBMBetArea");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=t("./BCBMChrome"),a=t("./BCBMAdapter"),c=t("../../../manager/NetManager"),s=t("../../../manager/UIManager"),u=cc._decorator,l=u.ccclass,p=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.blink=null,e.user_bet_num=null,e.sum_bet_num=null,e.chrome_area=null,e.btn_bet=null,e.car_multiple=null,e.chrome=null,e.MaxArea=cc.v2(0,0),e.MinArea=cc.v2(0,0),e.bet_idx=0,e.chrome_pool=null,e}return n(e,t),e.prototype.onLoad=function(){this.resetArea(),this.initNodePool(),a.BCBMAdapter.addClickEventEND(this.btn_bet,this.onBetEvent.bind(this))},e.prototype.onDestroy=function(){this.chrome_pool.clear()},e.prototype.initNodePool=function(){this.chrome_pool=new cc.NodePool},e.prototype.resetArea=function(){this.user_bet_num.string="0/",this.sum_bet_num.string="0",this.blink.active=!1,this.removeAreaChip()},e.prototype.createChip=function(t){var e=null;return(e=this.chrome_pool.size()>0?this.chrome_pool.get():cc.instantiate(this.chrome)).getComponent(i.default).setViewChip(t),e},e.prototype.clearChip=function(t){(t=t||this.chrome_area.children[0]).stopAllActions(),this.chrome_pool.put(t),t.removeFromParent()},e.prototype.removeAreaChip=function(){for(var t=this.chrome_area.childrenCount,e=0;e<t;e++)this.clearChip()},e.prototype.onBetChipAni=function(t){var e=-(cc.view.getVisibleSize().width/2+this.node.x+100),o=a.BCBMAdapter.getRandomInt(-150,150),n=this.createChip(t);n.setPosition(cc.v2(e,o));var r=a.BCBMAdapter.getRandomInt(this.MinArea.x,this.MaxArea.x),i=a.BCBMAdapter.getRandomInt(this.MinArea.y,this.MaxArea.y),c=a.BCBMAdapter.getRandomInt(-360,360),s=cc.moveTo(.2,cc.v2(r,i)),u=cc.rotateTo(.3,c);n.runAction(cc.spawn(s,u)),this.chrome_area.addChild(n)},e.prototype.onUserBetChipAni=function(t,e){var o=t.convertToWorldSpaceAR(cc.v2(0,0)),n=this.chrome_area.convertToNodeSpaceAR(o),r=this.createChip(e);r.setPosition(cc.v2(n.x,n.y));var i=a.BCBMAdapter.getRandomInt(this.MinArea.x,this.MaxArea.x),c=a.BCBMAdapter.getRandomInt(this.MinArea.y,this.MaxArea.y),s=a.BCBMAdapter.getRandomInt(-360,360),u=cc.moveTo(.2,cc.v2(i,c)),l=cc.rotateTo(.3,s);r.runAction(cc.spawn(u,l)),this.chrome_area.addChild(r)},e.prototype.onRecoverChipInAre=function(t){var e=this;t.forEach(function(t,o){var n=e.createChip(t),r=a.BCBMAdapter.getRandomInt(e.MinArea.x,e.MaxArea.x),i=a.BCBMAdapter.getRandomInt(e.MinArea.y,e.MaxArea.y),c=a.BCBMAdapter.getRandomInt(-360,360);n.setPosition(cc.v2(r,i)),n.angle=c,n.active=!0,e.chrome_area.addChild(n)})},e.prototype.onAreaToBanker=function(t){for(var e=this,o=this.node.parent.parent.convertToWorldSpaceAR(t),n=this.node.convertToNodeSpaceAR(o),r=this.chrome_area.childrenCount,i=function(t){var o=a.chrome_area.children[t],r=cc.moveTo(.5,cc.v2(n.x,n.y)),i=cc.sequence(r,cc.callFunc(function(){e.clearChip(o)}));o.runAction(i)},a=this,c=0;c<r;c++)i(c)},e.prototype.onBankerToArea=function(t){for(var e=this,o=this.node.parent.parent.convertToWorldSpaceAR(t),n=this.node.convertToNodeSpaceAR(o),r=a.BCBMAdapter.getRandomInt(5,15),i=0;i<r;i++){var s=n.x+a.BCBMAdapter.getRandomInt(-50,50),u=n.y+a.BCBMAdapter.getRandomInt(-50,50),l=a.BCBMAdapter.getRandomInt(this.MinArea.x,this.MaxArea.x),p=a.BCBMAdapter.getRandomInt(this.MinArea.y,this.MaxArea.y),h=a.BCBMAdapter.getRandomInt(0,4),d=c.NetManager.getGameProtocol().BET_CHROME_VALUE[h],f=this.createChip(d);f.setPosition(cc.v2(s,u));var _=cc.moveTo(.5,cc.v2(l,p));f.runAction(_),this.chrome_area.addChild(f)}this.scheduleOnce(function(){e.onAreaToPlayer()},.6)},e.prototype.onAreaToPlayer=function(){for(var t=this,e=-(cc.view.getVisibleSize().width/2+this.node.x+100),o=this.chrome_area.childrenCount,n=function(o){var n=r.chrome_area.children[o],i=a.BCBMAdapter.getRandomInt(-150,150),c=cc.moveTo(.5,cc.v2(e,i)),s=cc.sequence(c,cc.callFunc(function(){t.clearChip(n)}));n.runAction(s)},r=this,i=0;i<o;i++)n(i)},e.prototype.setCarMultiple=function(t){this.car_multiple.string="x"+t},e.prototype.showBetNum=function(t,e){this.user_bet_num.string=t+"/",this.sum_bet_num.string=e},e.prototype.showBlink=function(){var t=cc.blink(1,4);this.blink.active=!0,this.blink.opacity=0,this.blink.runAction(t)},e.prototype.onBetEvent=function(t){if(this.GameView.can_bet)if(this.GameView.already_auto)s.UIManager.showTips("\u6258\u7ba1\u4e2d\u65e0\u6cd5\u624b\u52a8\u4e0b\u6ce8\uff0c\u8bf7\u53d6\u6d88\u6258\u7ba1\u540e\u91cd\u8bd5");else{var e=this.GameView.BCBMChromeBet.getBetValue();c.NetManager.getGameProtocol().sendBetReq(e,this.bet_idx)}else s.UIManager.showTips("\u975e\u4e0b\u6ce8\u72b6\u6001, \u8bf7\u7b49\u5f85")},r([p(cc.Node)],e.prototype,"blink",void 0),r([p(cc.Label)],e.prototype,"user_bet_num",void 0),r([p(cc.Label)],e.prototype,"sum_bet_num",void 0),r([p(cc.Node)],e.prototype,"chrome_area",void 0),r([p(cc.Node)],e.prototype,"btn_bet",void 0),r([p(cc.Label)],e.prototype,"car_multiple",void 0),r([p(cc.Prefab)],e.prototype,"chrome",void 0),r([p],e.prototype,"MaxArea",void 0),r([p],e.prototype,"MinArea",void 0),r([p],e.prototype,"bet_idx",void 0),e=r([l],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../../../manager/NetManager":void 0,"../../../manager/UIManager":void 0,"./BCBMAdapter":"BCBMAdapter","./BCBMChrome":"BCBMChrome"}],BCBMChromeBet:[function(t,e,o){"use strict";cc._RF.push(e,"f5a7bUIjV5KbKSzzrrMV/Ca","BCBMChromeBet");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=t("./BCBMAdapter"),a=t("../../../manager/NetManager"),c=cc._decorator,s=c.ccclass,u=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btn_bets=[],e.click_idx=0,e.bet_num=[],e.chrome_blink=[],e.is_move=!1,e}return n(e,t),e.prototype.onLoad=function(){var t=this;this.btn_bets.forEach(function(e,o){i.BCBMAdapter.addClickEventEND(e,t.onChromeClick.bind(t),o);var n=e.getChildByName("num");t.bet_num.push(n);var r=e.getChildByName("blink");r.opacity=0,t.chrome_blink.push(r),0==o&&(e.y=15,r.opacity=255)})},e.prototype.SetBetValue=function(){var t=this;a.NetManager.getGameProtocol().BET_CHROME_VALUE.forEach(function(e,o){var n=t.bet_num[o],r="";r=e>=1e3&&e<1e4?e/1e3+"K":e>=1e4?e/1e4+"W":e+"",n.getComponent(cc.Label).string=r})},e.prototype.onChromeClick=function(t,e){var o=this;if(!this.is_move&&e!=this.click_idx){var n=this.click_idx;this.is_move=!0,this.click_idx=e,this.btn_bets.forEach(function(t,e){t.stopAllActions()});var r=this.btn_bets[n],i=cc.moveTo(.3,cc.v2(r.x,0));r.runAction(i),this.chrome_blink[n].opacity=0,this.chrome_blink[e].opacity=255;var a=cc.sequence(cc.moveTo(.3,cc.v2(t.x,15)),cc.callFunc(function(){o.is_move=!1}));t.runAction(a)}},e.prototype.getBetValue=function(){return a.NetManager.getGameProtocol().BET_CHROME_VALUE[this.click_idx]},r([u(cc.Node)],e.prototype,"btn_bets",void 0),e=r([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{"../../../manager/NetManager":void 0,"./BCBMAdapter":"BCBMAdapter"}],BCBMChrome:[function(t,e,o){"use strict";cc._RF.push(e,"b174eoqbAZOiL0l7Fi1SjaM","BCBMChrome");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../../manager/NetManager"),a=cc._decorator,c=a.ccclass,s=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ttf_font=null,e.fnt_bg=null,e.fnt_num=null,e.FNT_NUM_LIST=["Z","X","C","V","B"],e}return n(e,t),e.prototype.setViewChip=function(t){var e=this.node.getChildByName("num_node");e&&this.node.removeChild(e);var o="";o=t>=1e3&&t<1e4?(t/1e3).toString().slice(0,3)+"K":t>=1e4?(t/1e4).toString().slice(0,3)+"W":t,this.fnt_num.string=o;for(var n=i.NetManager.getGameProtocol().BET_CHROME_VALUE,r=0;r<n.length;r++){if(t==n[r]){this.fnt_bg.string=this.FNT_NUM_LIST[r];break}}},r([s(cc.Font)],e.prototype,"ttf_font",void 0),r([s(cc.Label)],e.prototype,"fnt_bg",void 0),r([s(cc.Label)],e.prototype,"fnt_num",void 0),e=r([c],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../../../manager/NetManager":void 0}],BCBMCmd:[function(t,e,o){"use strict";cc._RF.push(e,"6a0a8e6jaNMFY5LzUstSsja","BCBMCmd"),Object.defineProperty(o,"__esModule",{value:!0}),o.BCBMCmd="215_0",o.ProtocolBCBMCmd={GameStartNotify:o.BCBMCmd+"_game_start_notify",StartBetNotify:o.BCBMCmd+"_start_bet_notify",BetNotify:o.BCBMCmd+"_bet_notify",OtherBetNotify:o.BCBMCmd+"_other_bet_notify",LastBetTimeNotify:o.BCBMCmd+"_last_bet_time_notify",EndBetNotify:o.BCBMCmd+"_end_bet_notify",StartTurnNotify:o.BCBMCmd+"_start_turn_notify",ShowResultNotify:o.BCBMCmd+"_show_result_notify",GameConcludeNotify:o.BCBMCmd+"_game_conclude_notify",GameReconnectInfo:o.BCBMCmd+"_game_reconnect_info",OtherUsersRes:o.BCBMCmd+"_other_users_res",ContinueSameBetRes:o.BCBMCmd+"_continue_same_bet_res",AutoOprRes:o.BCBMCmd+"_auto_opr_res",ConfirmAutoOprRes:o.BCBMCmd+"_confirm_auto_opr_res",CancelAutoOprRes:o.BCBMCmd+"_cancel_auto_opr_res"},cc._RF.pop()},{}],BCBMDefine:[function(t,e,o){"use strict";cc._RF.push(e,"4ebffex1IJO3JHCLMAA1wmG","BCBMDefine"),Object.defineProperty(o,"__esModule",{value:!0}),o.AreaValue={Min:{x:-108,y:-25},Max:{x:108,y:30}},o.EventDefine={HideAutoView:"HideAutoView"},cc._RF.pop()},{}],BCBMFooter:[function(t,e,o){"use strict";cc._RF.push(e,"7d06dgt9v9OjKLTtQtdxoui","BCBMFooter");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=t("./BCBMAdapter"),a=t("../../../manager/NetManager"),c=cc._decorator,s=c.ccclass,u=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btn_continue=null,e.btn_auto=null,e.btn_cancel_auto=null,e.bg_tuoguan=null,e.GameView=null,e.can_click=!0,e}return n(e,t),e.prototype.onLoad=function(){i.BCBMAdapter.addClickEventEND(this.btn_continue.getChildByName("active"),this.onContinueEvent.bind(this)),i.BCBMAdapter.addClickEventEND(this.btn_auto,this.onAutoEvent.bind(this)),i.BCBMAdapter.addClickEventEND(this.btn_cancel_auto,this.onCancelAutoEvent.bind(this))},e.prototype.onContinueEvent=function(t){a.NetManager.getGameProtocol().sendContinueBetReq()},e.prototype.onAutoEvent=function(t){this.can_click&&a.NetManager.getGameProtocol().sendAutoOprReq()},e.prototype.onCancelAutoEvent=function(t){a.NetManager.getGameProtocol().sendCancelAutoOprReq()},e.prototype.showBtnContinue=function(t){this.btn_continue.getChildByName("active").active=t,this.btn_continue.getChildByName("disable").active=!t},e.prototype.showAutoEnable=function(t){this.btn_auto.getChildByName("active").active=t,this.btn_auto.getChildByName("disable").active=!t,this.can_click=t},e.prototype.showBtnAuto=function(t){this.btn_auto.active=t,this.btn_cancel_auto.active=!t},e.prototype.showBgAuto=function(t){this.bg_tuoguan.active=t},r([u(cc.Node)],e.prototype,"btn_continue",void 0),r([u(cc.Node)],e.prototype,"btn_auto",void 0),r([u(cc.Node)],e.prototype,"btn_cancel_auto",void 0),r([u(cc.Node)],e.prototype,"bg_tuoguan",void 0),e=r([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{"../../../manager/NetManager":void 0,"./BCBMAdapter":"BCBMAdapter"}],BCBMGameScene:[function(t,e,o){"use strict";cc._RF.push(e,"8d3080keGZI1pTyawd1Hllk","BCBMGameScene");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=t("./BCBMGameView"),a=t("../../../manager/EventManager"),c=t("../../../net/NetCmd"),s=t("../protocol/BCBMCmd"),u=t("../../../manager/UIManager"),l=cc._decorator,p=l.ccclass,h=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.GameView=null,e}return n(e,t),e.prototype.onLoad=function(){cc.sys.os!=cc.sys.OS_IOS&&(cc.dynamicAtlasManager.enabled=!0),this.GameView.GameScene=this,this.initData(),this.initEvent()},e.prototype.initData=function(){u.UIManager.hideMarquee()},e.prototype.initEvent=function(){a.EventManager.on(this,c.ProtocolGameCmd.GameLoginResp,this.onGameLoginResp.bind(this)),a.EventManager.on(this,s.ProtocolBCBMCmd.GameStartNotify,this.onGameStartNotify.bind(this)),a.EventManager.on(this,s.ProtocolBCBMCmd.StartBetNotify,this.onStartBetNotify.bind(this)),a.EventManager.on(this,s.ProtocolBCBMCmd.BetNotify,this.onBetNotify.bind(this)),a.EventManager.on(this,s.ProtocolBCBMCmd.OtherBetNotify,this.onOtherBetNotify.bind(this)),a.EventManager.on(this,s.ProtocolBCBMCmd.EndBetNotify,this.onEndBetNotify.bind(this)),a.EventManager.on(this,s.ProtocolBCBMCmd.StartTurnNotify,this.onStartTurnNotify.bind(this)),a.EventManager.on(this,s.ProtocolBCBMCmd.ShowResultNotify,this.onShowResultNotify.bind(this)),a.EventManager.on(this,s.ProtocolBCBMCmd.GameConcludeNotify,this.onGameConcludeNotify.bind(this)),a.EventManager.on(this,s.ProtocolBCBMCmd.GameReconnectInfo,this.onGameReconnectInfo.bind(this)),a.EventManager.on(this,s.ProtocolBCBMCmd.OtherUsersRes,this.onOtherUsersRes.bind(this)),a.EventManager.on(this,s.ProtocolBCBMCmd.ContinueSameBetRes,this.onContinueSameBetRes.bind(this)),a.EventManager.on(this,s.ProtocolBCBMCmd.AutoOprRes,this.onAutoOprRes.bind(this)),a.EventManager.on(this,s.ProtocolBCBMCmd.ConfirmAutoOprRes,this.onConfirmAutoOprRes.bind(this)),a.EventManager.on(this,s.ProtocolBCBMCmd.CancelAutoOprRes,this.onCancelAutoOprRes.bind(this)),a.EventManager.on(this,c.GameCommonEvent.UpdateUserScore,this.onUpdateUserScore.bind(this))},e.prototype.onGameLoginResp=function(t){console.log("\u6548\u9a8c\u6210\u529f====>",t),this.GameView.initUserInfo()},e.prototype.onGameStartNotify=function(t){console.log("\u6e38\u620f\u5f00\u59cb"),this.GameView.onGameStart(t)},e.prototype.onStartBetNotify=function(t){console.log("\u901a\u77e5\u5f00\u59cb\u4e0b\u6ce8"),this.GameView.onStartBet(t)},e.prototype.onBetNotify=function(t){console.log("\u7528\u6237\u4e0b\u6ce8\u901a\u77e5",t),this.GameView.onBetNotify(t)},e.prototype.onOtherBetNotify=function(t){console.log("\u6e38\u620f\u5728\u7ebf\u73a9\u5bb6\u4e0b\u6ce8\u901a\u77e5",t),this.GameView.onOtherBetNotify(t)},e.prototype.onEndBetNotify=function(t){console.log("\u4e0b\u6ce8\u7ed3\u675f\u901a\u77e5"),this.GameView.onEndBetNotify(t)},e.prototype.onStartTurnNotify=function(t){console.log("\u5f00\u59cb\u8f6c\u52a8\u901a\u77e5"),this.GameView.onStartTurnNotify(t)},e.prototype.onShowResultNotify=function(t){console.log("\u8f6c\u52a8\u7ed3\u679c\u901a\u77e5",t),this.GameView.onShowResultNotify(t)},e.prototype.onGameConcludeNotify=function(t){console.log("\u7ed3\u7b97\u901a\u77e5",t),this.GameView.onGameConcludeNotify(t)},e.prototype.onGameReconnectInfo=function(t){console.log("\u52a0\u5165\u623f\u95f4\u901a\u77e5",t),this.GameView.onSubJoinRoom(t)},e.prototype.onOtherUsersRes=function(t){console.log("\u83b7\u53d6\u5728\u7ebf\u73a9\u5bb6\u5217\u8868\u56de\u5e94",t),this.GameView.onGetOnlineUserRes(t)},e.prototype.onContinueSameBetRes=function(t){console.log("\u7eed\u6295\u56de\u5e94",t),this.GameView.onContinueBetRes(t)},e.prototype.onAutoOprRes=function(t){console.log("\u6258\u7ba1\u8fd4\u56de\uff0c\u8fd4\u56de\u662f\u4e0b\u6ce8\u4fe1\u606f",t),this.GameView.onAutoOprRes(t)},e.prototype.onConfirmAutoOprRes=function(t){console.log("\u786e\u5b9a\u6258\u7ba1\u56de\u5e94",t),this.GameView.onConfirmAutoOprRes(t)},e.prototype.onCancelAutoOprRes=function(t){console.log("\u53d6\u6d88\u6258\u7ba1\u56de\u5e94",t),this.GameView.onCancelAutoOprRes(t)},e.prototype.onUpdateUserScore=function(t){this.GameView.onUpdateUserScore(t)},e.prototype.onDestroy=function(){a.EventManager.off(this)},r([h(i.default)],e.prototype,"GameView",void 0),e=r([p],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../../../manager/EventManager":void 0,"../../../manager/UIManager":void 0,"../../../net/NetCmd":void 0,"../protocol/BCBMCmd":"BCBMCmd","./BCBMGameView":"BCBMGameView"}],BCBMGameView:[function(t,e,o){"use strict";cc._RF.push(e,"afaf0boeZtFu4pLxrTo4wtt","BCBMGameView");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a},i=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(r,i){function a(t){try{s(n.next(t))}catch(t){i(t)}}function c(t){try{s(n.throw(t))}catch(t){i(t)}}function s(t){t.done?r(t.value):new o(function(e){e(t.value)}).then(a,c)}s((n=n.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var o,n,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(r=2&i[0]?n.return:i[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,i[1])).done)return r;switch(n=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],n=0}finally{o=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var c=t("./BCBMAdapter"),s=t("./BCBMTopPanel"),u=t("./BCBMRecord"),l=t("./BCBMChromeBet"),p=t("./BCBMBetArea"),h=t("./BCBMPlayer"),d=t("./BCBMTurnTable"),f=t("./BCBMPlayGround"),_=t("./BCBMFooter"),B=t("./BCBMOnlinePlayer"),y=t("../../../manager/AudioManager"),m=t("../../../manager/DataManager"),v=t("../../../manager/NetManager"),C=t("../../../manager/UIManager"),M=t("../../../manager/EventManager"),g=t("../BCBMDefine"),b=t("../../../net/NetCmd"),A=t("../../../manager/ResManager"),w=cc._decorator,R=w.ccclass,P=w.property,O=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.BCBMTurnTable=null,e.BCBMPlayGround=null,e.BCBMPlayer=null,e.BCBMFooter=null,e.BCBMChromeBet=null,e.BCBMRecord=null,e.BCBMBetArea=[],e.BCBMOnlinePlayer=null,e.BCBMTopPanel=null,e.user_node=null,e.paodao_center=null,e.start_bet=null,e.stop_bet=null,e.GameScene=null,e.already_auto=!1,e.can_bet=!1,e.already_bet=!1,e.LIMIT_BET_NUM=[],e}return n(e,t),e.prototype.onLoad=function(){var t=this;this.BCBMTurnTable.GameView=this,this.BCBMBetArea.forEach(function(e,o){e.GameView=t}),this.BCBMFooter.GameView=this,this.initChat()},e.prototype.initChat=function(){return i(this,void 0,void 0,function(){var t,e;return a(this,function(o){switch(o.label){case 0:return[4,A.ResManager.loadResAsync("prefabs/common/GameChat",cc.Prefab,!1)];case 1:return(t=o.sent())&&cc.isValid(this.node)&&!this.node.getChildByName("GameChat")&&(e=cc.instantiate(t),this.node.addChild(e)),[2]}})})},e.prototype.start=function(){y.AudioManager.stopBGM()},e.prototype.initUserInfo=function(){var t={username:c.BCBMAdapter.getSubStringLengTxt(m.DataManager.userInfo.nickname)||c.BCBMAdapter.getReplaceStrToStar(m.DataManager.userInfo.userid),gold:m.DataManager.userInfo.gold,headimg_id:m.DataManager.userInfo.headimgurl,vip_level:m.DataManager.userInfo.vip_level};this.BCBMPlayer.setUserInfo(t)},e.prototype.onSubJoinRoom=function(t){var e=this,o=t.game_state;5==o?this.BCBMPlayGround.showGameState(2):this.BCBMPlayGround.showGameState(o-2),o>2?y.AudioManager.playGameBGM("bcbm_bgm2"):y.AudioManager.playGameBGM("bcbm_bgm1"),this.LIMIT_BET_NUM=t.limit_bet,this.BCBMPlayer.resetView(),this.BCBMTopPanel.setRoomInfo(t.room_info.room_code),this.BCBMPlayer.setUserScore(t.gold),v.NetManager.getGameProtocol().BET_CHROME_VALUE=t.bet_value_arr,this.BCBMChromeBet.SetBetValue();var n=t.car_multiple_arr;this.BCBMBetArea.forEach(function(t,e){t.setCarMultiple(n[e])}),this.already_bet=!1;var r=t.bet_num_info,i=0;this.BCBMBetArea.forEach(function(t,o){i+=r[o].sum_bet_num,t.showBetNum(r[o].user_bet_num,r[o].sum_bet_num),r[o].user_bet_num>0&&(e.already_bet=!0)}),M.EventManager.emit(b.GameCommonEvent.UpdateAllBet,i),t.bet_value_info.forEach(function(t,o){var n=t.loc-1,r=t.bet_value;e.BCBMBetArea[n].onRecoverChipInAre(r)});var a=t.result_list;this.BCBMRecord.recoverRecord(a),this.BCBMTurnTable.clearActionAndTimer(),this.BCBMPlayGround.clearWinResult();var c=t.last_stop_idx;console.log("\u4e0a\u5c40\u4e2d\u5956\u4f4d\u7f6e",c);var s=t.result_msg_info;if(s){var u=s.result-1,l=s.stop_idx,p=s.multiple;this.BCBMTurnTable.turn_toIndex=s.stop_idx,this.BCBMPlayGround.showWinResult(u,p),c=l,console.log("\u8fd9\u5c40\u5f00\u5956\u7ed3\u679c->>>>>>>>",u),console.log("\u8fd9\u53e5\u505c\u7559\u4f4d\u7f6e->>>>>>",l)}this.BCBMTurnTable.turn_toIndex=c,this.BCBMTurnTable.onItemLight(c),this.already_auto=!1,this.BCBMFooter.showBtnAuto(!0),this.BCBMFooter.showBgAuto(!1);var h=t.is_auto_bet;this.BCBMFooter.showAutoEnable(1==h),this.can_bet=o<=2;var d=t.time_out;if(this.BCBMPlayGround.onKillTimer(),2==o){var f=t.is_continue_Bet;this.BCBMFooter.showBtnContinue(1==f),this.BCBMPlayGround.setGameTimer({limit_time:d})}else this.BCBMFooter.showBtnContinue(!1)},e.prototype.onGameStart=function(t){v.NetManager.protocolGameCommon.needFlushGold=!1,this.already_bet=!1,y.AudioManager.playGameBGM("bcbm_bgm1"),this.BCBMTopPanel.setRoomInfo(t.room_info.room_code),this.BCBMBetArea.forEach(function(t,e){t.resetArea()}),this.BCBMPlayGround.clearWinResult(),this.BCBMPlayer.resetView()},e.prototype.showStartBetAni=function(){var t=this,e=cc.view.getVisibleSize(),o=cc.instantiate(this.start_bet),n=-(e.width+o.width)/2;o.position=cc.v2(n,0),cc.tween(o).to(.5,{position:cc.v2(0,0)}).to(.5,{opacity:0}).start(),this.node.addChild(o),this.scheduleOnce(function(){t.node.removeChild(o)},1)},e.prototype.onStartBet=function(t){y.AudioManager.playGameSFX("bcbm_startbet"),this.can_bet=!0,this.BCBMPlayGround.clearWinResult(),this.showStartBetAni();var e=t.time_out;this.BCBMPlayGround.onKillTimer(),this.BCBMPlayGround.setGameTimer({limit_time:e}),this.BCBMPlayGround.showGameState(0);var o=t.is_continue_Bet;console.log("!!!!!!!!!!!!!!!!!!\u662f\u5426\u53ef\u4ee5\u7eed\u6295",1==o),this.BCBMFooter.showBtnContinue(1==o);var n=t.is_auto_bet;this.BCBMFooter.showAutoEnable(1==n)},e.prototype.onBetNotify=function(t){var e=this;if(1==t.result){m.DataManager.userInfo.gold=t.gold,this.BCBMPlayer.setUserScore(t.gold);var o=0;t.bet_num_info.forEach(function(t,n){var r=n;o+=t.sum_bet_num,e.BCBMBetArea[r].showBetNum(t.user_bet_num,t.sum_bet_num)}),M.EventManager.emit(b.GameCommonEvent.UpdateAllBet,o);var n=t.bet_value_info,r=n.loc-1;n.bet_value.forEach(function(t,o){e.BCBMBetArea[r].onUserBetChipAni(e.user_node,t)}),this.BCBMPlayer.shakeHead(),this.BCBMFooter.showBtnContinue(!1),this.already_auto||this.BCBMFooter.showAutoEnable(!0),this.already_bet=!0,this.BCBMPlayGround.pauseAudio(),this.BCBMPlayGround.pauseVibrate(),y.AudioManager.playSFX("flychip")}else 2==t.result?C.UIManager.showTips("\u8be5\u533a\u57df\u8fbe\u5230\u9650\u5236"):3==t.result?C.UIManager.showTips("\u91d1\u5e01\u4e0d\u8db3"):4==t.result?C.UIManager.showTips("\u975e\u4e0b\u6ce8\u72b6\u6001, \u8bf7\u7b49\u5f85"):5==t.result?C.UIManager.showTips("\u60a8\u662f\u5e84\u5bb6\uff0c\u8bf7\u7b49\u5f85\u5176\u4ed6\u73a9\u5bb6\u4e0b\u6ce8"):6==t.result&&C.UIManager.showTips("\u672c\u5c40\u5e84\u5bb6\u53ef\u63a5\u53d7\u62bc\u6ce8\u91d1\u989d\u5df2\u8fbe\u4e0a\u9650, \u8bf7\u7b49\u5f85\u6e38\u620f\u5f00\u59cb")},e.prototype.onOtherBetNotify=function(t){var e=this,o=t.bet_num_info;t.bet_value_info.forEach(function(t,o){var n=t.loc-1;t.bet_value.forEach(function(t,o){e.BCBMBetArea[n].onBetChipAni(t)})});var n=0;o.forEach(function(t,o){var r=o;n+=t.sum_bet_num,e.BCBMBetArea[r].showBetNum(t.user_bet_num,t.sum_bet_num)}),M.EventManager.emit(b.GameCommonEvent.UpdateAllBet,n),y.AudioManager.playSFX("flychip")},e.prototype.onLastBetTimeNotify=function(t){},e.prototype.showEndBetAni=function(){var t=this,e=cc.view.getVisibleSize(),o=cc.instantiate(this.stop_bet),n=-(e.width+o.width)/2;o.position=cc.v2(n,0),cc.tween(o).to(.5,{position:cc.v2(0,0)}).to(.5,{opacity:0}).start(),this.node.addChild(o),this.scheduleOnce(function(){t.node.removeChild(o)},1)},e.prototype.onEndBetNotify=function(t){y.AudioManager.playGameSFX("bcbm_endbet"),this.can_bet=!1,this.showEndBetAni(),this.BCBMFooter.showBtnContinue(!1),M.EventManager.emit(g.EventDefine.HideAutoView)},e.prototype.onStartTurnNotify=function(t){y.AudioManager.playGameBGM("bcbm_bgm2"),this.BCBMPlayGround.onKillTimer(),this.BCBMPlayGround.showGameState(1),this.BCBMTurnTable.onStartTurn(t)},e.prototype.onShowResultNotify=function(t){},e.prototype.onTurnOver=function(t){var e=this;y.AudioManager.playGameSFX("bcbm_car"),this.BCBMPlayGround.showGameState(2);var o=t.result-1,n=t.multiple;this.BCBMPlayGround.showWinResult(o,n);var r=this.paodao_center.getPosition(),i=[0,1,2,3,4,5,6,7];i.splice(i.indexOf(o),1),this.onSettleLoseAni(i,r,function(){e.onSettleWinAni(o,r,function(){e.BCBMRecord.showRecord(o),e.BCBMBetArea[o].showBlink(),e.BCBMPlayer.setUserScore(t.gold),e.already_bet&&(e.BCBMPlayer.flutterScore(t.score,cc.v2(0,70)),t.score>0&&y.AudioManager.playGameSFX("bcbm_winning"))})})},e.prototype.onSettleLoseAni=function(t,e,o){var n=this;t.forEach(function(t,o){n.BCBMBetArea[t].onAreaToBanker(e)}),this.scheduleOnce(function(){o()},.6)},e.prototype.onSettleWinAni=function(t,e,o){this.BCBMBetArea[t].onBankerToArea(e),this.scheduleOnce(function(){o()},1.2)},e.prototype.onGameConcludeNotify=function(t){},e.prototype.onGetOnlineUserRes=function(t){this.BCBMOnlinePlayer.refPeopleTips(t.totalplayers),this.BCBMOnlinePlayer.refUserList(t.player_list),this.BCBMOnlinePlayer.playMoveOut()},e.prototype.onContinueBetRes=function(t){1==t.result&&(console.log("\u7eed\u6295\u6210\u529f"),this.BCBMFooter.showBtnContinue(!1))},e.prototype.onAutoOprRes=function(t){C.UIManager.popup("game/bcbm/prefab/BCBMAutoView",t)},e.prototype.onConfirmAutoOprRes=function(t){1==t.result?(console.log("\u6258\u7ba1\u6210\u529f"),this.BCBMFooter.showBtnAuto(!1),this.already_auto=!0,this.BCBMFooter.showBgAuto(!0)):C.UIManager.showTips("\u6258\u7ba1\u5931\u8d25")},e.prototype.onCancelAutoOprRes=function(t){1==t.result?(console.log("\u53d6\u6d88\u6258\u7ba1\u6210\u529f"),this.BCBMFooter.showBtnAuto(!0),this.BCBMFooter.showAutoEnable(!0),this.already_auto=!1,this.BCBMFooter.showBgAuto(!1),C.UIManager.showTips("\u53d6\u6d88\u6258\u7ba1\u6210\u529f")):2==t.result?(this.BCBMFooter.showBtnAuto(!0),this.BCBMFooter.showAutoEnable(!1),this.BCBMFooter.showBgAuto(!1),this.already_auto=!1,C.UIManager.showTips("\u91d1\u5e01\u4e0d\u8db3, \u8bf7\u524d\u5f80\u5927\u5385\u5145\u503c")):(console.log("\u53d6\u6d88\u6258\u7ba1\u5931\u8d25"),C.UIManager.showTips("\u53d6\u6d88\u6258\u7ba1\u5931\u8d25"))},e.prototype.onUpdateUserScore=function(t){var e=t.gold;this.BCBMPlayer.setUserScore(e)},r([P(d.default)],e.prototype,"BCBMTurnTable",void 0),r([P(f.default)],e.prototype,"BCBMPlayGround",void 0),r([P(h.default)],e.prototype,"BCBMPlayer",void 0),r([P(_.default)],e.prototype,"BCBMFooter",void 0),r([P(l.default)],e.prototype,"BCBMChromeBet",void 0),r([P(u.default)],e.prototype,"BCBMRecord",void 0),r([P(p.default)],e.prototype,"BCBMBetArea",void 0),r([P(B.default)],e.prototype,"BCBMOnlinePlayer",void 0),r([P(s.default)],e.prototype,"BCBMTopPanel",void 0),r([P(cc.Node)],e.prototype,"user_node",void 0),r([P(cc.Node)],e.prototype,"paodao_center",void 0),r([P(cc.Prefab)],e.prototype,"start_bet",void 0),r([P(cc.Prefab)],e.prototype,"stop_bet",void 0),e=r([R],e)}(cc.Component);o.default=O,cc._RF.pop()},{"../../../manager/AudioManager":void 0,"../../../manager/DataManager":void 0,"../../../manager/EventManager":void 0,"../../../manager/NetManager":void 0,"../../../manager/ResManager":void 0,"../../../manager/UIManager":void 0,"../../../net/NetCmd":void 0,"../BCBMDefine":"BCBMDefine","./BCBMAdapter":"BCBMAdapter","./BCBMBetArea":"BCBMBetArea","./BCBMChromeBet":"BCBMChromeBet","./BCBMFooter":"BCBMFooter","./BCBMOnlinePlayer":"BCBMOnlinePlayer","./BCBMPlayGround":"BCBMPlayGround","./BCBMPlayer":"BCBMPlayer","./BCBMRecord":"BCBMRecord","./BCBMTopPanel":"BCBMTopPanel","./BCBMTurnTable":"BCBMTurnTable"}],BCBMOnlinePlayer:[function(t,e,o){"use strict";cc._RF.push(e,"0cf7cnf9IZPiYlwdwnG/qg5","BCBMOnlinePlayer");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=t("./BCBMAdapter"),a=t("../../../manager/NetManager"),c=t("../../../common/UIHelper"),s=cc._decorator,u=s.ccclass,l=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cancel=null,e.spr=null,e.arrow=null,e.btn_click=null,e.user_panel=null,e.tips=null,e.ScrollView=null,e.user_item=null,e.is_move_out=!1,e.is_done=!0,e}return n(e,t),e.prototype.start=function(){var t=this;i.BCBMAdapter.addClickEventEND(this.btn_click,function(){t.onClickEvent()}),i.BCBMAdapter.addClickEventEND(this.cancel,function(){t.onCancelEvent()})},e.prototype.onClickEvent=function(){this.is_done?(this.is_done=!1,this.is_move_out?this.playMoveBack():a.NetManager.getGameProtocol().sendGetOnlineUser()):console.log("\u52a8\u753b\u8fd8\u672a\u7ed3\u675f \u4e0d\u53ef\u70b9\u51fb")},e.prototype.onCancelEvent=function(){this.is_done?this.is_move_out?(this.is_done=!1,this.playMoveBack()):console.log("\u672a\u79fb\u52a8\u51fa\u53bb"):console.log("\u52a8\u753b\u8fd8\u672a\u7ed3\u675f \u4e0d\u53ef\u70b9\u51fb")},e.prototype.playMoveOut=function(){var t=this;this.user_panel.active=!0,this.arrow.scaleX=-1,this.is_move_out=!0;var e=cc.sequence(cc.moveBy(.5,cc.v2(this.user_panel.width,0)),cc.callFunc(function(){t.is_done=!0}));this.spr.runAction(e)},e.prototype.playMoveBack=function(){var t=this;this.arrow.scaleX=1;var e=cc.sequence(cc.moveBy(.5,cc.v2(-this.user_panel.width,0)),cc.callFunc(function(){t.user_panel.active=!1,t.is_done=!0,t.is_move_out=!1}));this.spr.runAction(e)},e.prototype.refPeopleTips=function(t){this.tips.string="\u672c\u684c\u5171"+t+"\u4eba\u968f\u673a\n\u663e\u793a\u4e0a\u5c4020\u540d\u4e0b\u6ce8\u73a9\u5bb6"},e.prototype.refUserList=function(t){var e=this,o=cc.find("view/content",this.ScrollView);o.removeAllChildren(),t.forEach(function(t,n){var r=cc.instantiate(e.user_item);r.active=!0;var a=r.getChildByName("head"),s=r.getChildByName("name"),u=r.getChildByName("gold");c.default.setHeadIcon(t.headimg_id,a),s.getComponent(cc.Label).string=i.BCBMAdapter.getSubStringLengTxt(t.username)||i.BCBMAdapter.getReplaceStrToStar(t.player_id),u.getComponent(cc.Label).string=parseFloat(t.gold).toFixed(2),o.addChild(r)})},r([l(cc.Node)],e.prototype,"cancel",void 0),r([l(cc.Node)],e.prototype,"spr",void 0),r([l(cc.Node)],e.prototype,"arrow",void 0),r([l(cc.Node)],e.prototype,"btn_click",void 0),r([l(cc.Node)],e.prototype,"user_panel",void 0),r([l(cc.Label)],e.prototype,"tips",void 0),r([l(cc.Node)],e.prototype,"ScrollView",void 0),r([l(cc.Node)],e.prototype,"user_item",void 0),e=r([u],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../../../common/UIHelper":void 0,"../../../manager/NetManager":void 0,"./BCBMAdapter":"BCBMAdapter"}],BCBMPlayGround:[function(t,e,o){"use strict";cc._RF.push(e,"a2551YnKbpMPJ3gN2tXYTvg","BCBMPlayGround");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../public/TimeClock"),a=t("../../../manager/AudioManager"),c=t("../../../common/Device"),s=cc._decorator,u=s.ccclass,l=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bcbm_result=null,e.node_win=null,e.winCar=null,e.winBlink=null,e.winMultiple=null,e.game_state=null,e.spr_state=null,e.alarm_clock=null,e.timeNum=null,e.car_effect=null,e.spineData=[],e.carFrames=[],e.stateFrames=[],e._CountDown=0,e.playAudio=!1,e.vibrate=!1,e}return n(e,t),e.prototype.onLoad=function(){this.bcbm_result.active=!1,this.node_win.active=!1,this.game_state.active=!1,this.car_effect.node.active=!1,this.onKillTimer()},e.prototype.clearWinResult=function(){this.bcbm_result.active=!1,this.node_win.active=!1,this.car_effect.node.active=!1},e.prototype.showWinResult=function(t,e){this.bcbm_result.active=!0,this.node_win.active=!0,this.winCar.spriteFrame=this.carFrames[t],this.winMultiple.string="x "+e,this.winBlink.stopAllActions();var o=cc.repeatForever(cc.rotateBy(2,-360));this.winBlink.runAction(o),this.car_effect.clearTracks(),this.car_effect.setToSetupPose(),this.car_effect.skeletonData=this.spineData[t],this.car_effect.animation="animation",this.car_effect.node.active=!0},e.prototype.showGameState=function(t){t<0||(this.game_state.active=!0,this.spr_state.spriteFrame=this.stateFrames[t])},e.prototype.setGameTimer=function(t){var e=t.limit_time;!e||e<=0?console.log("error time***************!"):(this._CountDown=e,this.timeNum.string=e,this.playAudio=!0,this.vibrate=!0,this.schedule(this.onUpdateTimer,1))},e.prototype.onKillTimer=function(){this._CountDown=0,this.timeNum.string="0",this.onUpdateTimer&&this.unschedule(this.onUpdateTimer)},e.prototype.pauseAudio=function(){this.playAudio=!1},e.prototype.pauseVibrate=function(){this.vibrate=!1},e.prototype.onUpdateTimer=function(){this._CountDown--,this._CountDown<=0?this.onUpdateTimer&&this.unschedule(this.onUpdateTimer):(this._CountDown<=3&&(1==this.playAudio&&a.AudioManager.playSFX("game_dingdong"),1==this.vibrate&&c.default.vibrate()),this.timeNum.string=this._CountDown.toString())},r([l(cc.Node)],e.prototype,"bcbm_result",void 0),r([l(cc.Node)],e.prototype,"node_win",void 0),r([l(cc.Sprite)],e.prototype,"winCar",void 0),r([l(cc.Node)],e.prototype,"winBlink",void 0),r([l(cc.Label)],e.prototype,"winMultiple",void 0),r([l(cc.Node)],e.prototype,"game_state",void 0),r([l(cc.Sprite)],e.prototype,"spr_state",void 0),r([l(i.default)],e.prototype,"alarm_clock",void 0),r([l(cc.Label)],e.prototype,"timeNum",void 0),r([l(sp.Skeleton)],e.prototype,"car_effect",void 0),r([l(sp.SkeletonData)],e.prototype,"spineData",void 0),r([l(cc.SpriteFrame)],e.prototype,"carFrames",void 0),r([l(cc.SpriteFrame)],e.prototype,"stateFrames",void 0),e=r([u],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../../../common/Device":void 0,"../../../manager/AudioManager":void 0,"../../public/TimeClock":void 0}],BCBMPlayer:[function(t,e,o){"use strict";cc._RF.push(e,"82f22nXaRNCap0+ziu+Smh+","BCBMPlayer");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=t("./BCBMAdapter"),a=t("../../../common/UIHelper"),c=cc._decorator,s=c.ccclass,u=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.head=null,e.spr_head=null,e.spr_vipFrame=null,e.user_name=null,e.user_money=null,e.flutter=null,e.yellow_bmfont=null,e.grey_bmfont=null,e.interVal=null,e}return n(e,t),e.prototype.onLoad=function(){this.originHeadPos=this.head.position,this.originFlutterPos=this.flutter.node.position},e.prototype.resetView=function(){this.flutter.node.stopAllActions(),this.flutter.node.active=!1,this.flutter.string="",this.unschedule(this.interVal),this.interVal=null},e.prototype.setUserHead=function(t){a.default.setHeadIcon(t,this.spr_head.node)},e.prototype.setUserHeadFrame=function(t){a.default.setHeadFrame(t,this.spr_vipFrame.node)},e.prototype.setUserScore=function(t){this.user_money.string=i.BCBMAdapter.getFormatGold(t)},e.prototype.setUserInfo=function(t){var e=t,o=i.BCBMAdapter.getSubStringLengTxt(t.username)||i.BCBMAdapter.getReplaceStrToStar(t.player_id);this.user_name.string=o,this.setUserHead(t.headimg_id),this.setUserHeadFrame(t.vip_level),this.setUserScore(e.gold)},e.prototype.shakeHead=function(){this.head.stopAllActions(),this.head.position=this.originHeadPos,cc.tween(this.head).by(.05,{position:cc.v2(0,10)}).by(.05,{position:cc.v2(0,-12)}).by(.05,{position:cc.v2(0,2)}).start()},e.prototype.flutterScore=function(t,e,o){var n=this;this.flutter.node.position=this.originFlutterPos,this.flutter.node.active=!0;var r="";t>=0?(this.flutter.font=this.yellow_bmfont,r="+"):(this.flutter.font=this.grey_bmfont,r="-");var i=Math.abs(t),a=i/parseFloat(50..toFixed(2)),c=0,s="";this.interVal=function(){s=(c+=a).toFixed(2),n.flutter.string=r+s,c>=i&&(s=i.toString(),n.flutter.string=r+parseFloat(s).toFixed(2),n.unschedule(n.interVal))},this.schedule(this.interVal,.01,cc.macro.REPEAT_FOREVER);var u=cc.moveBy(.5,e),l=cc.sequence(u,cc.delayTime(.5),cc.callFunc(function(){o&&o()}));this.flutter.node.runAction(l)},e.prototype.onDestroy=function(){this.unschedule(this.interVal),this.interVal=null},r([u(cc.Node)],e.prototype,"head",void 0),r([u(cc.Sprite)],e.prototype,"spr_head",void 0),r([u(cc.Sprite)],e.prototype,"spr_vipFrame",void 0),r([u(cc.Label)],e.prototype,"user_name",void 0),r([u(cc.Label)],e.prototype,"user_money",void 0),r([u(cc.Label)],e.prototype,"flutter",void 0),r([u(cc.Font)],e.prototype,"yellow_bmfont",void 0),r([u(cc.Font)],e.prototype,"grey_bmfont",void 0),e=r([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{"../../../common/UIHelper":void 0,"./BCBMAdapter":"BCBMAdapter"}],BCBMRecord:[function(t,e,o){"use strict";cc._RF.push(e,"9456dkCklNJsKkLux8imJAG","BCBMRecord");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,c=i.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.content=null,e.carFrames=[],e.newFrame=null,e.bcbm_icon=null,e}return n(e,t),e.prototype.onLoad=function(){var t=new cc.Node;t.addComponent(cc.Sprite),t.setContentSize(cc.size(52,52)),t.name="bcbm_icon";var e=new cc.Node;e.addComponent(cc.Sprite),e.getComponent(cc.Sprite).spriteFrame=this.newFrame,e.name="icon_new",e.y=-20,e.active=!1,t.addChild(e),this.bcbm_icon=t},e.prototype.showRecord=function(t){var e=this,o=this.content;o.children.forEach(function(t,e){t.getChildByName("icon_new").active=!1});var n=cc.instantiate(this.bcbm_icon);n.active=!0,n.getComponent(cc.Sprite).spriteFrame=this.carFrames[t];var r=n.getChildByName("icon_new");if(r.active=!0,o.addChild(n),o.childrenCount>8){var i=this.content.children[0];i.opacity=0;var a=cc.sequence(cc.moveBy(.5,cc.v2(0,70)),cc.callFunc(function(){e.content.y=e.content.y-70,i.destroy(),r.active=!0}));this.content.runAction(a)}},e.prototype.recoverRecord=function(t){var e=this.content;e.removeAllChildren();for(var o=0;o<t.length;o++){var n=t[o]-1,r=cc.instantiate(this.bcbm_icon);if(r.active=!0,r.getComponent(cc.Sprite).spriteFrame=this.carFrames[n],e.addChild(r),o==t.length-1)r.getChildByName("icon_new").active=!0}},r([c(cc.Node)],e.prototype,"content",void 0),r([c(cc.SpriteFrame)],e.prototype,"carFrames",void 0),r([c(cc.SpriteFrame)],e.prototype,"newFrame",void 0),e=r([a],e)}(cc.Component);o.default=s,cc._RF.pop()},{}],BCBMTopPanel:[function(t,e,o){"use strict";cc._RF.push(e,"5a9acwvJRJEXoUnyHBLi8Wz","BCBMTopPanel");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,c=i.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.table_num=null,e}return n(e,t),e.prototype.onLoad=function(){this.initView()},e.prototype.initView=function(){this.table_num.string=""},e.prototype.setRoomInfo=function(t){this.table_num.string=t||""},r([c(cc.Label)],e.prototype,"table_num",void 0),e=r([a],e)}(cc.Component);o.default=s,cc._RF.pop()},{}],BCBMTurnTable:[function(t,e,o){"use strict";cc._RF.push(e,"e539cBcYBxLNqXNYVbn6kSY","BCBMTurnTable");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=t("./BCBMAdapter"),a=t("../../../manager/AudioManager"),c=t("../../../common/log/LogWrap"),s=5,u=1,l=0,p=0,h=0,d=0,f=10,_=3,B=0,y=cc._decorator,m=y.ccclass,v=y.property,C=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bcbm_icons=null,e.GameView=null,e.turn_toIndex=0,e.GAME_DATA=null,e.blink_items=[],e}return n(e,t),e.prototype.onLoad=function(){for(var t=0;t<this.bcbm_icons.childrenCount;t++){var e=this.bcbm_icons.children[t].getChildByName("spr_blink");e.active=!0,e.opacity=0,this.blink_items.push(e)}},e.prototype.onItmeFade=function(t,e,o){e=e||.2;var n=this.blink_items[t];255!=n.opacity&&(n.opacity=255),n.runAction(cc.sequence(cc.delayTime(e),cc.fadeOut(o)))},e.prototype.onItemBlink=function(){this.turn_toIndex!=this.GAME_DATA.stop_idx&&(c.LogWrap.log("%c\u6700\u540e\u56fe\u6807\u4e0d\u6b63\u786e","color:red;font-size:34px"),this.turn_toIndex=this.GAME_DATA.stop_idx);var t=this.blink_items[this.turn_toIndex];t.stopAllActions(),t.opacity=255,t.runAction(cc.sequence(cc.fadeOut(.5),cc.fadeIn(.5),cc.fadeOut(.5),cc.fadeIn(.5),cc.callFunc(function(){t.opacity=255}))),a.AudioManager.stopEffect("bcbm_turn.mp3")},e.prototype.onItemLight=function(t){var e=this.blink_items[t];e.stopAllActions(),e.opacity=255},e.prototype.clearCarLight=function(){for(var t=this.blink_items.length,e=0;e<t;e++){var o=this.blink_items[e];o.stopAllActions(),o.opacity=0}},e.prototype.caculteDisCount=function(t,e){return(e+24-t)%24},e.prototype.caculteStateNum=function(t,e){f=i.BCBMAdapter.getRandomInt(3,5);var o=(t+s)%24,n=e-f>=0?e-f:e-f+24,r=this.caculteDisCount(o,n);p=r>12?r+72:r+96,c.LogWrap.log("\u7b2c\u4e00\u9636\u6bb5\u6570\u76ee",s),c.LogWrap.log("\u7b2c\u4e8c\u9636\u6bb5\u6570\u76ee",p),c.LogWrap.log("\u7b2c\u4e09\u9636\u6bb5\u6570\u76ee",f)},e.prototype.clearActionAndTimer=function(){this.unscheduleAllCallbacks(),this.clearCarLight()},e.prototype.onStartTurn=function(t){this.GAME_DATA=t,s=5,u=1,l=0,d=0,B=0;var e=this.turn_toIndex,o=t.stop_idx;this.caculteStateNum(e,o),this.clearCarLight(),c.LogWrap.log("\u5f00\u59cb\u4f4d\u7f6e",this.turn_toIndex),c.LogWrap.log("\u7ec8\u70b9\u4f4d\u7f6e",o),c.LogWrap.log("\u7b2c\u4e00\u9636\u6bb5\u5f00\u59cb\u65f6\u95f4",Date.now()),this.schedule(this.onTurnSlowTimer,u/s)},e.prototype.onTurnSlowTimer=function(){this.onItmeFade(this.turn_toIndex,null,.3),l+=1,this.turn_toIndex++,this.turn_toIndex=this.turn_toIndex%24,l>=5&&(l=0,h=.02*p,this.unscheduleAllCallbacks(),c.LogWrap.log("\u5f00\u59cb\u7b2c\u4e8c\u9636\u6bb5"),c.LogWrap.log("\u7b2c\u4e8c\u9636\u6bb5\u5f00\u59cb\u65f6\u95f4",Date.now()),this.schedule(this.onTurnFastTimer,h/p)),a.AudioManager.playGameSFX("bcbm_turn.mp3")},e.prototype.onTurnFastTimer=function(){this.onItmeFade(this.turn_toIndex,.02,.1),d++,this.turn_toIndex++,this.turn_toIndex=this.turn_toIndex%24,d>=p&&(d=0,_=.4*f,this.unscheduleAllCallbacks(),c.LogWrap.log("\u5f00\u59cb\u7b2c\u4e09\u9636\u6bb5"),c.LogWrap.log("\u7b2c\u4e09\u9636\u6bb5\u5f00\u59cb\u65f6\u95f4",Date.now()),this.schedule(this.onTurnEndTimer,_/f,cc.macro.REPEAT_FOREVER,.01)),a.AudioManager.playGameSFX("bcbm_turn.mp3")},e.prototype.onTurnEndTimer=function(){var t=this;this.onItmeFade(this.turn_toIndex,.3,.2),B+=1,this.turn_toIndex++,this.turn_toIndex=this.turn_toIndex%24,B>=f&&(B=0,this.unscheduleAllCallbacks(),this.schedule(function(){t.onItemBlink(),t.onGameEnd()},0,0,.45),c.LogWrap.log("\u7ed3\u675f\u65f6\u95f4",Date.now()),c.LogWrap.log("\u7ed3\u675f\u4f4d\u7f6e",this.turn_toIndex)),a.AudioManager.playGameSFX("bcbm_turn.mp3")},e.prototype.onGameEnd=function(){var t=this.GAME_DATA;this.GameView.onTurnOver(t)},e.prototype.onDestroy=function(){this.unscheduleAllCallbacks(),a.AudioManager.stopEffect("bcbm_turn.mp3")},r([v(cc.Node)],e.prototype,"bcbm_icons",void 0),e=r([m],e)}(cc.Component);o.default=C,cc._RF.pop()},{"../../../common/log/LogWrap":void 0,"../../../manager/AudioManager":void 0,"./BCBMAdapter":"BCBMAdapter"}],ProtocolBCBM:[function(t,e,o){"use strict";cc._RF.push(e,"c8bb3v7+0xIlrQUinSXzIUc","ProtocolBCBM");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../../manager/DataManager"),i=t("../../../net/ProtocolBase"),a=t("../../../manager/NetManager"),c=t("../../../manager/UIManager"),s=t("../../../Define"),u=t("./BCBMCmd"),l=function(t){function e(){var e=t.call(this,"game/bcbm/pb")||this;return e.cmd=u.BCBMCmd,e.type=s.SocketType.Game,e.pbName="BCBM",e.BET_CHROME_VALUE=[],e}return n(e,t),e.prototype.sendBetReq=function(t,e){var o={player_id:r.DataManager.userInfo.userid,bet_value:t,loc:e};console.log("============>\u53d1\u9001\u4e0b\u6ce8\u8bf7\u6c42"),this.send(o,"bet_req")},e.prototype.sendGetOnlineUser=function(){var t={player_id:r.DataManager.userInfo.userid};console.log("============>\u53d1\u9001\u83b7\u53d6\u5728\u7ebf\u4eba\u6570\u8bf7\u6c42"),this.send(t,"other_users_req")},e.prototype.sendContinueBetReq=function(){var t={player_id:r.DataManager.userInfo.userid};console.log("============>\u53d1\u9001\u7eed\u6295\u8bf7\u6c42"),this.send(t,"continue_same_bet_req")},e.prototype.sendAutoOprReq=function(){var t={player_id:r.DataManager.userInfo.userid};console.log("============>\u53d1\u9001\u6258\u7ba1\u8bf7\u6c42"),this.send(t,"auto_opr_req")},e.prototype.sendConfirmAutoOprReq=function(){var t={player_id:r.DataManager.userInfo.userid};console.log("============>\u53d1\u9001\u786e\u5b9a\u6258\u7ba1\u8bf7\u6c42"),this.send(t,"confirm_auto_opr_req")},e.prototype.sendCancelAutoOprReq=function(){var t={player_id:r.DataManager.userInfo.userid};console.log("============>\u53d1\u9001\u53d6\u6d88\u6258\u7ba1\u8bf7\u6c42"),this.send(t,"cancel_auto_opr_req")},e.prototype.dealError=function(t){c.UIManager.showTipsPopup(t.err_msg)},e}(i.default);o.default=l,a.NetManager.protocolCache.ProtocolBCBM=l,cc._RF.pop()},{"../../../Define":void 0,"../../../manager/DataManager":void 0,"../../../manager/NetManager":void 0,"../../../manager/UIManager":void 0,"../../../net/ProtocolBase":void 0,"./BCBMCmd":"BCBMCmd"}]},{},["BCBMDefine","BCBMCmd","ProtocolBCBM","BCBMAdapter","BCBMAutoView","BCBMBetArea","BCBMChrome","BCBMChromeBet","BCBMFooter","BCBMGameScene","BCBMGameView","BCBMOnlinePlayer","BCBMPlayGround","BCBMPlayer","BCBMRecord","BCBMTopPanel","BCBMTurnTable"]);