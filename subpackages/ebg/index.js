window.__require=function e(t,o,n){function a(r,c){if(!o[r]){if(!t[r]){var s=r.split("/");if(s=s[s.length-1],!t[s]){var l="function"==typeof __require&&__require;if(!c&&l)return l(s,!0);if(i)return i(s,!0);throw new Error("Cannot find module '"+r+"'")}r=s}var d=o[r]={exports:{}};t[r][0].call(d.exports,function(e){return a(t[r][1][e]||e)},d,d.exports,e,t,o,n)}return o[r].exports}for(var i="function"==typeof __require&&__require,r=0;r<n.length;r++)a(n[r]);return a}({AlreadyOutCard:[function(e,t,o){"use strict";cc._RF.push(t,"6bc0aQu4RdLhbGhdNCN2C5t","AlreadyOutCard");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),a=this&&this.__decorate||function(e,t,o,n){var a,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(a=e[c])&&(r=(i<3?a(r):i>3?a(t,o,r):a(t,o))||r);return i>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,r=i.ccclass,c=i.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.out_num=[],t}return n(t,e),t.prototype.onLoad=function(){},t.prototype.showAlreadyNum=function(e){var t=this;e.forEach(function(e,o){t.out_num[o].string=e})},a([c(cc.Label)],t.prototype,"out_num",void 0),t=a([r],t)}(cc.Component);o.default=s,cc._RF.pop()},{}],ArrowRound:[function(e,t,o){"use strict";cc._RF.push(t,"5fb26MoTXBLV6RedyN8X9e2","ArrowRound");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),a=this&&this.__decorate||function(e,t,o,n){var a,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(a=e[c])&&(r=(i<3?a(r):i>3?a(t,o,r):a(t,o))||r);return i>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,r=i.ccclass,c=i.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.left_arrow_1=null,t.left_arrow_2=null,t.right_arrow_1=null,t.right_arrow_2=null,t.round_num=null,t}return n(t,e),t.prototype.onArrowRound=function(e){var t=this;this.round_num.string=e,this.node.stopAllActions(),this.node.active=!0,this.node.scaleX=0,cc.tween(this.node).to(.1,{scaleX:1}).call(function(){t.arrowFadeAni(t.left_arrow_1,t.left_arrow_2),t.arrowFadeAni(t.right_arrow_1,t.right_arrow_2)}).delay(1).call(function(){t.node.active=!1}).start()},t.prototype.arrowFadeAni=function(e,t){e.stopAllActions(),t.stopAllActions(),e.x=-85,t.x=-85,e.opacity=150,t.opacity=150,e.active=!1,t.active=!1,cc.tween(e).call(function(){e.active=!0}).to(.25,{position:cc.v2(-105,0)}).to(.25,{position:cc.v2(-125,0),opacity:0}).call(function(){e.x=-85,e.opacity=150}).to(.25,{position:cc.v2(-105,0)}).to(.25,{position:cc.v2(-125,0),opacity:0}).start(),cc.tween(t).delay(.25).call(function(){t.active=!0}).to(.25,{position:cc.v2(-105,0)}).to(.25,{position:cc.v2(-125,0),opacity:0}).call(function(){t.x=-85,t.opacity=150}).to(.25,{position:cc.v2(-105,0)}).to(.25,{position:cc.v2(-125,0),opacity:0}).start()},a([c(cc.Node)],t.prototype,"left_arrow_1",void 0),a([c(cc.Node)],t.prototype,"left_arrow_2",void 0),a([c(cc.Node)],t.prototype,"right_arrow_1",void 0),a([c(cc.Node)],t.prototype,"right_arrow_2",void 0),a([c(cc.Label)],t.prototype,"round_num",void 0),t=a([r],t)}(cc.Component);o.default=s,cc._RF.pop()},{}],CMD_EBG:[function(e,t,o){"use strict";cc._RF.push(t,"128f7lvIW1OlrWtLB0ws3Fi","CMD_EBG"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){}return e.zeroMemory=function(e){for(var t=[],o=0;o<e;o++)t[o]=0;return t},e.clone=function(e){return JSON.parse(JSON.stringify(e))},e.MJCardPos=[cc.v2(-50,0),cc.v2(50,0)],e.SHOW_CARD_POS=[cc.v2(-50,0),cc.v2(0,0),cc.v2(50,0)],e.FLutter_POS=cc.v2(0,60),e.MASK_COLOR=240,e.MASK_VALUE=15,e.INVALE_CHAIR=255,e.GAME_SCENE_FREE=100,e.GAME_SCENE_PLAYING=101,e.GAME_PLAYER=4,e.FAILED=-1,e.LIMIT_FRIEND=-3,e.ROOM_CLOSE=-4,e.EMPTY_DATA=-5,e.MY_SEAT=-1,e.MY_ID=-1,e.PLAYER_DATAS=[],e.MY_DATA=null,e.DEAL_CARD_COUNT=3,e.MAX_CARD_COUNT=3,e}();o.default=n,cc._RF.pop()},{}],EBGAvatarPanel:[function(e,t,o){"use strict";cc._RF.push(t,"fc7b4UdhqJHV4/9JRR/zXtE","EBGAvatarPanel");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),a=this&&this.__decorate||function(e,t,o,n){var a,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(a=e[c])&&(r=(i<3?a(r):i>3?a(t,o,r):a(t,o))||r);return i>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../common/utils/Utils"),r=e("../../../manager/NetManager"),c=e("../../../common/UIHelper"),s=cc._decorator,l=s.ccclass,d=s.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.blink=null,t.head=null,t.user_name=null,t.money=null,t.banker=null,t.flutter=null,t.bmfont=null,t.yellow_bmfont=null,t.grey_bmfont=null,t.blue_bmfont=null,t.card_type=null,t.ebg_bg=null,t.ebg_type=null,t.arrow=null,t.broke=null,t.game_type_atlas=null,t.img_grey=null,t.img_brown=null,t.ready=null,t.offline=null,t.room_owner=null,t.flutter_origin_pos=cc.v2(0,0),t.centerPanel=null,t.GameView=null,t.playerID=null,t}return n(t,e),t.prototype.initzation=function(e,t){this.centerPanel=e,this.GameView=t,this.initView(),this.ready.active=!1,this.offline.active=!1,this.room_owner.active=!1},t.prototype.initView=function(){this.unscheduleAllCallbacks(),this.blink.active=!1,this.user_name.string="",this.money.string="",this.banker.active=!1,this.bmfont.string="",this.card_type.active=!1,this.ebg_bg.spriteFrame=null,this.ebg_type.spriteFrame=null,this.arrow.active=!1,this.broke.active=!1,this.flutter.string="",this.node.active=!1},t.prototype.resetMyView=function(){this.unscheduleAllCallbacks(),this.blink.active=!1,this.banker.active=!1,this.bmfont.string="",this.card_type.active=!1,this.ebg_bg.spriteFrame=null,this.ebg_type.spriteFrame=null,this.arrow.active=!1,this.broke.active=!1,this.flutter.string=""},t.prototype.setUserInfo=function(e){var t=e,o=i.default.getSubStringLengTxt(e.username)||i.default.getReplaceStrToStar(e.player_id);this.user_name.string=o,this.setHeadIcon(e.headimg_id),this.setUserScore(t.gold),this.node.active=!0,1==this.GameView.gameType&&(1==e.state?(this.setReadyIcon(!0),this.setOfflineIcon(!1)):2==e.state?(this.setOfflineIcon(!0),this.setReadyIcon(!1)):3!=e.state&&6!=e.state||(this.setReadyIcon(!1),this.setOfflineIcon(!1)))},t.prototype.setReadyIcon=function(e){this.ready.active=e},t.prototype.setOfflineIcon=function(e){this.offline.active=e},t.prototype.setRoomOwner=function(e){this.room_owner.active=e},t.prototype.setUserEvent=function(e){var t=this;this.playerID=e,this.node.off(cc.Node.EventType.TOUCH_END),this.node.on(cc.Node.EventType.TOUCH_END,function(){r.NetManager.protocolGameCommon.sendLookPlayerInfoReq(t.playerID)})},t.prototype.setHeadIcon=function(e){c.default.setHeadIcon(e,this.head.node)},t.prototype.getNodePosition=function(){return this.node.getPosition()},t.prototype.setUserScore=function(e){this.money.string=i.default.getFormatGold(e)},t.prototype.setUserBankValue=function(e){this.bmfont.font=this.yellow_bmfont,this.bmfont.string=0==e?"\u4e0d\u62a2":"\u62a2"+e+"\u500d"},t.prototype.hideUserGrab=function(){this.bmfont.string=""},t.prototype.setViewBankerSign=function(e){this.banker.active=e},t.prototype.setUserBetValue=function(e){this.bmfont.font=this.blue_bmfont,this.bmfont.string="\u4e0b"+e+"\u500d"},t.prototype.setArrowDirect=function(){var e=this;this.arrow.active=!0,this.scheduleOnce(function(){e.arrow.active=!1},.3)},t.prototype.setUserBroke=function(){this.broke.active=!0},t.prototype.setTypeSprite=function(e){this.card_type.active=!0,this.ebg_bg.spriteFrame=e>0?this.img_brown:this.img_grey,this.ebg_type.spriteFrame=this.game_type_atlas.getSpriteFrame(e),this.ebg_type.node.scale=1.2,cc.tween(this.ebg_type.node).to(.1,{scale:.9}).to(.1,{scale:1}).start()},t.prototype.flutterScore=function(e,t,o){var n=this;this.flutter.node.position=this.flutter_origin_pos;var a="";e>=0?(this.flutter.font=this.yellow_bmfont,a="+"):(this.flutter.font=this.grey_bmfont,a="-");var i=Math.abs(e),r=i/parseFloat(50..toFixed(2)),c=0,s="",l=function(){s=(c+=r).toFixed(2),n.flutter.string=a+s,c>=i&&(s=i.toString(),n.flutter.string=a+parseFloat(s).toFixed(2),n.unschedule(l))};this.schedule(l,.01,cc.macro.REPEAT_FOREVER);var d=cc.moveBy(.5,t),u=cc.sequence(d,cc.delayTime(.5),cc.callFunc(function(){o&&o()}));this.flutter.node.runAction(u)},t.prototype.onDestroy=function(){this.unscheduleAllCallbacks()},a([d(cc.Node)],t.prototype,"blink",void 0),a([d(cc.Sprite)],t.prototype,"head",void 0),a([d(cc.Label)],t.prototype,"user_name",void 0),a([d(cc.Label)],t.prototype,"money",void 0),a([d(cc.Node)],t.prototype,"banker",void 0),a([d(cc.Label)],t.prototype,"flutter",void 0),a([d(cc.Label)],t.prototype,"bmfont",void 0),a([d(cc.Font)],t.prototype,"yellow_bmfont",void 0),a([d(cc.Font)],t.prototype,"grey_bmfont",void 0),a([d(cc.Font)],t.prototype,"blue_bmfont",void 0),a([d(cc.Node)],t.prototype,"card_type",void 0),a([d(cc.Sprite)],t.prototype,"ebg_bg",void 0),a([d(cc.Sprite)],t.prototype,"ebg_type",void 0),a([d(cc.Node)],t.prototype,"arrow",void 0),a([d(cc.Node)],t.prototype,"broke",void 0),a([d(cc.SpriteAtlas)],t.prototype,"game_type_atlas",void 0),a([d(cc.SpriteFrame)],t.prototype,"img_grey",void 0),a([d(cc.SpriteFrame)],t.prototype,"img_brown",void 0),a([d(cc.Node)],t.prototype,"ready",void 0),a([d(cc.Node)],t.prototype,"offline",void 0),a([d(cc.Node)],t.prototype,"room_owner",void 0),a([d()],t.prototype,"flutter_origin_pos",void 0),t=a([l],t)}(cc.Component);o.default=u,cc._RF.pop()},{"../../../common/UIHelper":void 0,"../../../common/utils/Utils":void 0,"../../../manager/NetManager":void 0}],EBGCenterPanel:[function(e,t,o){"use strict";cc._RF.push(t,"87ec5kfPFRMPaiS4zmgZST3","EBGCenterPanel");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),a=this&&this.__decorate||function(e,t,o,n){var a,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(a=e[c])&&(r=(i<3?a(r):i>3?a(t,o,r):a(t,o))||r);return i>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../public/TimeClock"),r=e("../../../common/utils/Utils"),c=e("../../../manager/NetManager"),s=e("../../../manager/UIManager"),l=e("../../../common/log/LogWrap"),d=e("../../../manager/DataManager"),u=e("../model/CMD_EBG"),p=e("../../../Define"),h=cc._decorator,f=h.ccclass,_=h.property,m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.alarm_clock=null,t.btn_start=null,t.btn_dissolution=null,t.btn_frined_start=null,t.toggle_ready=null,t.btn_club_invite=null,t.btn_ready=null,t.btn_cancel_ready=null,t.label_startTime=null,t.node_grab=null,t.node_bet=null,t.node_tips=null,t.label_tips=null,t.node_round=null,t.label_round=null,t.btn_show=null,t.winSp=null,t.failSp=null,t.bet_btns=[],t.grab_btns=[],t.GameView=null,t.onStartSchedule=null,t}return n(t,e),t.prototype.initzation=function(e){this.GameView=e,this.initView(),this.initNode()},t.prototype.initNode=function(){r.default.addClickEventEND(this.btn_start,this.onClickEvent.bind(this)),r.default.addClickEventEND(this.btn_dissolution,this.clickDiss.bind(this)),r.default.addClickEventEND(this.btn_frined_start,this.clickFriend.bind(this)),r.default.addClickEventEND(this.btn_show,this.onShowCardEvent.bind(this)),this.toggle_ready.on("toggle",this.onClickToggle.bind(this)),this.toggle_ready.getComponent(cc.Toggle).isChecked=!1,this.grab_btns=this.node_grab.children,this.bet_btns=this.node_bet.children,r.default.addClickEventEND(this.btn_ready,this.onClickReadyEvent.bind(this)),r.default.addClickEventEND(this.btn_cancel_ready,this.onClickReadyEvent.bind(this)),r.default.addClickEventEND(this.btn_club_invite,this.onClubInviteEvent.bind(this))},t.prototype.initView=function(){this.node_round.active=!1,this.node_grab.active=!1,this.node_bet.active=!1,this.node_tips.active=!1,this.label_tips.string="",this.btn_start.active=!1,this.toggle_ready.active=!1,this.btn_show.active=!1,this.alarm_clock.onKillTimer(),this.onSetStartCountDown(!1)},t.prototype.onClickEvent=function(e){"btn_start"==e.name&&this.sendMatchReq()},t.prototype.onClickToggle=function(){var e=this.toggle_ready.getComponent(cc.Toggle).isChecked;this.GameView.IsCheck=e,console.log("\u81ea\u52a8\u51c6\u5907",this.GameView.IsCheck),1==this.GameView.gameType&&d.DataManager.isCreaterUser&&this.onSetStartCountDown(e)},t.prototype.setChecked=function(e){this.toggle_ready.getComponent(cc.Toggle).isChecked=e,this.GameView.IsCheck=e},t.prototype.clickDiss=function(){var e=this.GameView.topPanel.room_id.string;c.NetManager.protocolGameCommon.sendDismissFriendInquiry(parseFloat(e)||null)},t.prototype.clickFriend=function(){this.onSetStartCountDown(!1);var e=this.GameView.topPanel.room_id.string;c.NetManager.protocolGameCommon.sendStartFriendGame(parseFloat(e)||null)},t.prototype.sendMatchReq=function(){s.UIManager.showLoading("\u6b63\u5728\u5feb\u901f\u5339\u914d\u4e2d...",!0,function(){c.NetManager.protocolGameCommon.sendCancelMatch()}),this.GameView.resetGameView(),c.NetManager.protocolGameCommon.sendMatchReq(),this.btn_start.active=!1,this.toggle_ready.active=!1},t.prototype.setGameTimer=function(e){this.alarm_clock.setGameTimer(e)},t.prototype.onKillTimer=function(){this.alarm_clock.onKillTimer()},t.prototype.pauseAudio=function(){this.alarm_clock.pauseAudio()},t.prototype.pauseVibrate=function(){this.alarm_clock.pauseVibrate()},t.prototype.onShowCardEvent=function(){c.NetManager.getGameProtocol().sendShowCard()},t.prototype.onGrabClickEvent=function(e,t){var o=t.clickTag;console.log("========>\u62a2\u5e84\u500d\u6570",o),c.NetManager.getGameProtocol().sendGrabReq(o),e.parent.active=!1},t.prototype.onBetClickEvent=function(e,t){var o=t.clickTag;console.log("========>\u4e0b\u6ce8\u500d\u6570",o),c.NetManager.getGameProtocol().sendBetReq(o),e.parent.active=!1},t.prototype.onClubInviteEvent=function(){c.NetManager.protocolChat.sendClubRoomReq()},t.prototype.onClickReadyEvent=function(e){var t=e.name,o=null;"btn_ready"==t?o=0:"btn_cancel_ready"==t&&(o=1),c.NetManager.protocolGameCommon.sendFriendReadyReq(o)},t.prototype.showReadyBtn=function(){this.hideReadyBtn(),0==this.GameView.gameType&&(this.btn_start.active=!0,this.toggle_ready.active=!0)},t.prototype.hideReadyBtn=function(){this.btn_start.active=!1,this.toggle_ready.active=!1},t.prototype.showFriendBtn=function(){this.hideFriendBtn(),this.toggle_ready.active=!0,d.DataManager.isCreaterUser?(this.btn_dissolution.active=!0,this.btn_frined_start.active=!0,this.toggle_ready.getChildByName("label").getComponent(cc.Label).string="\u6240\u6709\u73a9\u5bb6\u51c6\u5907\u5b8c\u6210\u540e\u81ea\u52a8\u5f00\u59cb",d.DataManager.roomType==p.RoomType.Club&&(this.btn_dissolution.active=!1,this.btn_club_invite.active=!0)):(this.btn_ready.active=6==u.default.MY_DATA.state,this.btn_cancel_ready.active=1==u.default.MY_DATA.state,this.toggle_ready.getChildByName("label").getComponent(cc.Label).string="\u6e38\u620f\u7ed3\u675f\u540e\u81ea\u52a8\u51c6\u5907",d.DataManager.roomType==p.RoomType.Club&&(this.btn_club_invite.active=!0))},t.prototype.showFriendReadyBtn=function(){this.btn_ready.active=!0,this.toggle_ready.active=!0,d.DataManager.roomType==p.RoomType.Club&&(this.btn_club_invite.active=!0)},t.prototype.hideFriendBtn=function(){this.btn_dissolution.active=!1,this.btn_frined_start.active=!1,this.btn_ready.active=!1,this.btn_cancel_ready.active=!1,this.toggle_ready.active=!1,this.btn_club_invite.active=!1},t.prototype.onSetStartCountDown=function(e){var t=this;if(void 0===e&&(e=!0),e){var o=5;this.label_startTime.node.active=!0,this.label_startTime.string=o+"",null!=this.onStartSchedule&&this.unschedule(this.onStartSchedule),this.onStartSchedule=function(){if(o--,l.LogWrap.log("\u5012\u8ba1\u65f6\u65f6\u95f4",o),t.label_startTime.string=o+"",o<=0){l.LogWrap.log("\u5012\u8ba1\u65f6\u7ed3\u675f, \u53d1\u9001\u597d\u53cb\u623f\u5f00\u59cb\u6e38\u620f\u6307\u4ee4");var e=d.DataManager.friendRoomId;return c.NetManager.protocolGameCommon.sendStartFriendGame(parseFloat(e)||null),t.label_startTime.node.active=!1,void t.unschedule(t.onStartSchedule)}},this.schedule(this.onStartSchedule,1,cc.macro.REPEAT_FOREVER)}else this.onStartSchedule&&(this.label_startTime.node.active=!1,this.unschedule(this.onStartSchedule))},t.prototype.showGrabBtn=function(e){this.node_grab.active=!0,this.grab_btns.forEach(function(e,t){e.active=!1,r.default.removeClickEvent(e)});for(var t=0;t<e.length;t++){var o=this.grab_btns[t];o.active=!0,o.getChildByName("label").getComponent(cc.Label).string=0==t?"\u4e0d\u62a2":e[t]+"\u500d",r.default.addClickEventEND(o,this.onGrabClickEvent.bind(this),{clickTag:e[t]})}},t.prototype.showBetBtn=function(e){this.node_bet.active=!0,this.bet_btns.forEach(function(e,t){e.active=!1,r.default.removeClickEvent(e)});for(var t=0;t<e.length;t++){var o=this.bet_btns[t];if(o)o.active=!0,o.getChildByName("label").getComponent(cc.Label).string=e[t]+"\u500d",r.default.addClickEventEND(o,this.onBetClickEvent.bind(this),{clickTag:e[t]})}},t.prototype.hideGrabBetBtn=function(){this.node_grab.active=!1,this.node_bet.active=!1},t.prototype.setShowCard=function(){this.btn_show.active=!0},t.prototype.hideShowCard=function(){this.btn_show.active=!1},t.prototype.setViewTips=function(e){this.node_tips.active=!0,this.label_tips.string=e},t.prototype.hideViewTips=function(){this.node_tips.active=!1,this.label_tips.string=""},t.prototype.setRoundNum=function(e){this.node_round.active=!0,this.label_round.string="\u7b2c"+e+"/5\u8f6e"},t.prototype.showResultSpine=function(e,t){void 0===e&&(e=0),this.winSp.node.active=!e,this.failSp.node.active=!!e;var o=0==e?this.winSp:this.failSp,n=o.animation;o.setAnimation(0,n,!1)&&o.setCompleteListener(function(e,o){t&&t()})},a([_(i.default)],t.prototype,"alarm_clock",void 0),a([_(cc.Node)],t.prototype,"btn_start",void 0),a([_(cc.Node)],t.prototype,"btn_dissolution",void 0),a([_(cc.Node)],t.prototype,"btn_frined_start",void 0),a([_(cc.Node)],t.prototype,"toggle_ready",void 0),a([_(cc.Node)],t.prototype,"btn_club_invite",void 0),a([_(cc.Node)],t.prototype,"btn_ready",void 0),a([_(cc.Node)],t.prototype,"btn_cancel_ready",void 0),a([_(cc.Label)],t.prototype,"label_startTime",void 0),a([_(cc.Node)],t.prototype,"node_grab",void 0),a([_(cc.Node)],t.prototype,"node_bet",void 0),a([_(cc.Node)],t.prototype,"node_tips",void 0),a([_(cc.Label)],t.prototype,"label_tips",void 0),a([_(cc.Node)],t.prototype,"node_round",void 0),a([_(cc.Label)],t.prototype,"label_round",void 0),a([_(cc.Node)],t.prototype,"btn_show",void 0),a([_(sp.Skeleton)],t.prototype,"winSp",void 0),a([_(sp.Skeleton)],t.prototype,"failSp",void 0),t=a([f],t)}(cc.Component);o.default=m,cc._RF.pop()},{"../../../Define":void 0,"../../../common/log/LogWrap":void 0,"../../../common/utils/Utils":void 0,"../../../manager/DataManager":void 0,"../../../manager/NetManager":void 0,"../../../manager/UIManager":void 0,"../../public/TimeClock":void 0,"../model/CMD_EBG":"CMD_EBG"}],EBGCmd:[function(e,t,o){"use strict";cc._RF.push(t,"f7060QvdURLJaEUBwGms46+","EBGCmd"),Object.defineProperty(o,"__esModule",{value:!0}),o.EBGCmd="26_0",o.ProtocolEBGCmd={ErrorResp:o.EBGCmd+"_err_res",GameStartNotify:o.EBGCmd+"_game_start_notify",GameBankStartNotify:o.EBGCmd+"_game_bank_start_notify",GameBankRes:o.EBGCmd+"_game_bank_res",GameConfirmBankNotify:o.EBGCmd+"_game_confirm_bank_notify",GameBetStartNotify:o.EBGCmd+"_game_bet_start_notify",GameBetRes:o.EBGCmd+"_game_bet_res",GameDiceNotify:o.EBGCmd+"_game_dice_notify",GameSendCardNotify:o.EBGCmd+"_game_send_card_notify",GameCardResultNotify:o.EBGCmd+"_game_card_result_notify",GameCardResultRes:o.EBGCmd+"_game_card_result_res",GameConcludeNotify:o.EBGCmd+"_game_conclude_notify",GameErrRes:o.EBGCmd+"_game_err_res",GameReconnectInfo:o.EBGCmd+"_game_reconnect_info"},cc._RF.pop()},{}],EBGGameScene:[function(e,t,o){"use strict";cc._RF.push(t,"417e1y9N+FEMqMuL8DqGK5k","EBGGameScene");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),a=this&&this.__decorate||function(e,t,o,n){var a,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(a=e[c])&&(r=(i<3?a(r):i>3?a(t,o,r):a(t,o))||r);return i>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var i=e("./model/CMD_EBG"),r=e("./EBGGameView"),c=e("./EBGTool"),s=e("../../manager/EventManager"),l=e("../../net/NetCmd"),d=e("../../manager/DataManager"),u=e("../../manager/UIManager"),p=e("./net/EBGCmd"),h=e("../../Define"),f=cc._decorator,_=f.ccclass,m=f.property,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.GameView=null,t}return n(t,e),t.prototype.onLoad=function(){this.GameView.GameScene=this,this.initEvent(),this.initData(),u.UIManager.hideMarquee()},t.prototype.initData=function(){},t.prototype.initEvent=function(){s.EventManager.on(this,l.ProtocolGameCmd.GameLoginResp,this.onGameLoginResp.bind(this)),s.EventManager.on(this,l.ProtocolGameCmd.LoginFriendRoomResp,this.onLoginFriendRoomResp.bind(this)),s.EventManager.on(this,l.ProtocolGameCmd.LoginFriendRoomNotify,this.onLoginFriendRoomNotify.bind(this)),s.EventManager.on(this,l.ProtocolGameCmd.DisconnectRoomNotify,this.onDisconnectRoomNotify.bind(this)),s.EventManager.on(this,l.ProtocolGameCmd.MatchResp,this.onMatchResp.bind(this)),s.EventManager.on(this,l.ProtocolGameCmd.CancelMatchResp,this.onCancelMatchResp.bind(this)),s.EventManager.on(this,l.ProtocolGameCmd.AdJustReadyResp,this.onAdJustReadyResp.bind(this)),s.EventManager.on(this,l.ProtocolGameCmd.ChangeCreaterRes,this.onChangeCreaterRes.bind(this)),s.EventManager.on(this,p.ProtocolEBGCmd.GameStartNotify,this.onGameStartNotify.bind(this)),s.EventManager.on(this,p.ProtocolEBGCmd.GameBankStartNotify,this.onGameBankStartNotify.bind(this)),s.EventManager.on(this,p.ProtocolEBGCmd.GameBankRes,this.onGameBankRes.bind(this)),s.EventManager.on(this,p.ProtocolEBGCmd.GameConfirmBankNotify,this.onGameConfirmBankNotify.bind(this)),s.EventManager.on(this,p.ProtocolEBGCmd.GameBetStartNotify,this.onGameBetStartNotify.bind(this)),s.EventManager.on(this,p.ProtocolEBGCmd.GameBetRes,this.onGameBetRes.bind(this)),s.EventManager.on(this,p.ProtocolEBGCmd.GameDiceNotify,this.onGameDiceNotify.bind(this)),s.EventManager.on(this,p.ProtocolEBGCmd.GameSendCardNotify,this.onGameSendCardNotify.bind(this)),s.EventManager.on(this,p.ProtocolEBGCmd.GameCardResultNotify,this.onGameCardResultNotify.bind(this)),s.EventManager.on(this,p.ProtocolEBGCmd.GameCardResultRes,this.onGameCardResultRes.bind(this)),s.EventManager.on(this,p.ProtocolEBGCmd.GameConcludeNotify,this.onGameConcludeNotify.bind(this)),s.EventManager.on(this,p.ProtocolEBGCmd.GameReconnectInfo,this.onGameReconnectInfo.bind(this)),s.EventManager.on(this,h.EventDef.UpdateUserGold,this.onUpdateUserScore.bind(this))},t.prototype.onGameLoginResp=function(e){this.GameView.resetGameView(),this.GameView.initPrePareGameView(e)},t.prototype.onLoginFriendRoomResp=function(e){var t=this;this.GameView.gameType=1,this.GameView.topPanel.setRoomId(e.room_id),this.GameView.resetGameView(),i.default.PLAYER_DATAS=e.player_info,console.log("%c\u6240\u6709\u7528\u6237\u4fe1\u606f======>","color:green",i.default.PLAYER_DATAS),i.default.PLAYER_DATAS.forEach(function(e,t){e.player_id==d.DataManager.userInfo.userid&&(i.default.MY_DATA=e,i.default.MY_SEAT=e.seat_id,console.log("\u6211\u7684\u7528\u6237\u4fe1\u606f======>",e))});var o=JSON.parse(JSON.stringify(e));o.player_info=i.default.MY_DATA,this.GameView.initPrePareGameView(o),this.GameView.initGameView(),i.default.PLAYER_DATAS.forEach(function(e,o){var n=e.creater_state,a=c.default.getInstance().getLocalIndex(e.seat_id);t.GameView.avatarPanel[a].setRoomOwner(1==n)})},t.prototype.onLoginFriendRoomNotify=function(e){var t=c.default.getInstance().getLocalIndex(e.player_info.seat_id),o=e.player_info;if(e.is_add)console.log("\u6709\u4eba\u52a0\u5165"),i.default.PLAYER_DATAS=i.default.PLAYER_DATAS.concat(o),this.GameView.avatarPanel[t].setUserInfo(o),this.GameView.avatarPanel[t].setUserEvent(o.player_id),this.GameView.showFriendPlayerState(t,o.state);else if(e.is_offline){console.log("\u6709\u4eba\u6389\u7ebf\u56de\u6765");for(var n=0;n<i.default.PLAYER_DATAS.length;n++){if(i.default.PLAYER_DATAS[n].player_id==o.player_id){i.default.PLAYER_DATAS[n]=o;break}}this.GameView.avatarPanel[t].setUserInfo(o),this.GameView.showFriendPlayerState(t,o.state)}else if(e.is_leave){console.log("\u6709\u4eba\u79bb\u5f00\u6216\u8005\u88ab\u8e22");for(n=0;n<i.default.PLAYER_DATAS.length;n++){if(i.default.PLAYER_DATAS[n].player_id==o.player_id){i.default.PLAYER_DATAS.splice(n,1);break}}this.GameView.avatarPanel[t].initView(),this.GameView.cardPanel[t].removeCard()}},t.prototype.onDisconnectRoomNotify=function(e){if(i.default.PLAYER_DATAS)for(var t=0;t<i.default.PLAYER_DATAS.length;t++){var o=i.default.PLAYER_DATAS[t];if(o.player_id==e.userid){o.state=2;var n=c.default.getInstance().getLocalIndex(o.seat_id);this.GameView.showFriendPlayerState(n,o.state);break}}},t.prototype.onAdJustReadyResp=function(e){if(i.default.PLAYER_DATAS)for(var t=0;t<i.default.PLAYER_DATAS.length;t++){var o=i.default.PLAYER_DATAS[t];if(o.player_id==e.player_id){var n=c.default.getInstance().getLocalIndex(o.seat_id);o.state=e.ret,this.GameView.showFriendPlayerState(n,o.state),0==n&&this.GameView.showReady();break}}},t.prototype.onChangeCreaterRes=function(e){if(0==e.ret){this.GameView.avatarPanel.forEach(function(e){e.setRoomOwner(!1)});var t=c.default.getInstance().getLocalIndex(e.creater_seat_id);if(this.GameView.avatarPanel[t].setRoomOwner(!0),this.GameView.avatarPanel[t].setReadyIcon(!1),i.default.PLAYER_DATAS){for(var o=0;o<i.default.PLAYER_DATAS.length;o++){if((n=i.default.PLAYER_DATAS[o]).player_id==e.creater_id){n.state=6;break}}for(o=0;o<i.default.PLAYER_DATAS.length;o++){var n;if((n=i.default.PLAYER_DATAS[o]).player_id==e.old_creater_id){n.state=6;break}}d.DataManager.userInfo.userid!=e.old_creater_id&&d.DataManager.userInfo.userid!=e.creater_id||(this.GameView.centerPanel.setChecked(!1),this.GameView.centerPanel.onSetStartCountDown(!1))}this.GameView.showReady()}},t.prototype.onMatchResp=function(e){1==e.status?(console.log("\u5339\u914d\u6210\u529f====>",e),u.UIManager.hideLoading()):2==e.status||4==e.status?(u.UIManager.showTips(2==e.status?"\u5339\u914d\u8d85\u65f6":"\u91d1\u5e01\u4e0d\u8db3"),this.GameView.showReady(),u.UIManager.hideLoading()):3==e.status?(console.log("\u5339\u914d\u88ab\u53d6\u6d88"),u.UIManager.hideLoading()):100==e.status&&(u.UIManager.showTips("\u5339\u914d\u5931\u8d25"),this.GameView.showReady(),u.UIManager.hideLoading())},t.prototype.onCancelMatchResp=function(e){u.UIManager.showTips(e.ok?"\u53d6\u6d88\u5339\u914d\u6210\u529f":"\u53d6\u6d88\u5339\u914d\u5931\u8d25"),e.ok&&this.GameView.showReady()},t.prototype.onGameStartNotify=function(e){this.GameView.resetGameView(),i.default.PLAYER_DATAS=e.player_list,console.log("%c\u6240\u6709\u7528\u6237\u4fe1\u606f======>","color:green",i.default.PLAYER_DATAS),i.default.PLAYER_DATAS.forEach(function(e,t){e.player_id==d.DataManager.userInfo.userid&&(i.default.MY_DATA=e,i.default.MY_SEAT=e.seat_id,console.log("\u6211\u7684\u7528\u6237\u4fe1\u606f======>",e))}),this.GameView.initGameView(),this.GameView.StartGame(e)},t.prototype.onGameBankStartNotify=function(e){this.GameView.onSubNotifyBank(e)},t.prototype.onGameBankRes=function(e){var t=c.default.getInstance().getLocalIndex(e.seat_id),o=e.bank_value;this.GameView.setUserBankValue(t,o)},t.prototype.onGameConfirmBankNotify=function(e){this.GameView.onSubConfirmBank(e)},t.prototype.onGameBetStartNotify=function(e){this.GameView.onSubStartBet(e)},t.prototype.onGameBetRes=function(e){var t=c.default.getInstance().getLocalIndex(e.seat_id),o=e.bet_value;this.GameView.setUserBetValue(t,o)},t.prototype.onGameDiceNotify=function(e){this.GameView.onSubShakeDice(e)},t.prototype.onGameSendCardNotify=function(e){this.GameView.onSubSendCard(e)},t.prototype.onGameCardResultNotify=function(e){this.GameView.onSubSendCardEnd(e)},t.prototype.onGameCardResultRes=function(e){this.GameView.onSubShowCard(e)},t.prototype.onGameConcludeNotify=function(e){this.GameView.onSubGameEnd(e)},t.prototype.onGameReconnectInfo=function(e){this.GameView.recoverGameView(e)},t.prototype.onUpdateUserScore=function(){this.GameView.onUpdateUserScore()},t.prototype.onDestroy=function(){s.EventManager.off(this)},a([m(r.default)],t.prototype,"GameView",void 0),t=a([_],t)}(cc.Component);o.default=y,cc._RF.pop()},{"../../Define":void 0,"../../manager/DataManager":void 0,"../../manager/EventManager":void 0,"../../manager/UIManager":void 0,"../../net/NetCmd":void 0,"./EBGGameView":"EBGGameView","./EBGTool":"EBGTool","./model/CMD_EBG":"CMD_EBG","./net/EBGCmd":"EBGCmd"}],EBGGameView:[function(e,t,o){"use strict";cc._RF.push(t,"d549d12modJV75l+6nmEV+m","EBGGameView");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),a=this&&this.__decorate||function(e,t,o,n){var a,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(a=e[c])&&(r=(i<3?a(r):i>3?a(t,o,r):a(t,o))||r);return i>3&&r&&Object.defineProperty(t,o,r),r},i=this&&this.__awaiter||function(e,t,o,n){return new(o||(o=Promise))(function(a,i){function r(e){try{s(n.next(e))}catch(e){i(e)}}function c(e){try{s(n.throw(e))}catch(e){i(e)}}function s(e){e.done?a(e.value):new o(function(t){t(e.value)}).then(r,c)}s((n=n.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){var o,n,a,i,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(e){return function(t){return s([e,t])}}function s(i){if(o)throw new TypeError("Generator is already executing.");for(;r;)try{if(o=1,n&&(a=2&i[0]?n.return:i[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,i[1])).done)return a;switch(n=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,n=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(a=(a=r.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){r.label=i[1];break}if(6===i[0]&&r.label<a[1]){r.label=a[1],a=i;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(i);break}a[2]&&r.ops.pop(),r.trys.pop();continue}i=t.call(e,r)}catch(e){i=[6,e],n=0}finally{o=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var c=e("./ui/EBGAvatarPanel"),s=e("./ui/EBGMahJongPanel"),l=e("./model/CMD_EBG"),d=e("./ui/EBGTopPanel"),u=e("./ui/EBGCenterPanel"),p=e("../../manager/AudioManager"),h=e("../../common/utils/Utils"),f=e("./EBGTool"),_=e("../../manager/DataManager"),m=e("../../manager/ResManager"),y=e("../../view/common/GameChat"),v=e("../../manager/UIManager"),g=e("../../manager/NetManager"),b=cc._decorator,P=b.ccclass,G=b.property,w=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.avatarPanel=[],t.cardPanel=[],t.spr_bg=null,t.topPanel=null,t.centerPanel=null,t.node_gold=null,t.node_out_card=null,t.UINode=null,t.GameScene=null,t.gold_frame=null,t.arrow_round=null,t.node_dice=null,t.start_game=null,t.node_top=null,t.node_center=null,t.already_outCard_arr=[0,0,0,0,0,0,0,0,0,0],t.IsCheck=!1,t.gameType=0,t.isStartGame=!1,t}return n(t,e),t.prototype.onLoad=function(){p.AudioManager.playGameBGM("ebg_bgm.mp3"),this.initView(),this.initNode(),this.initChat()},t.prototype.initChat=function(){return i(this,void 0,void 0,function(){var e,t;return r(this,function(o){switch(o.label){case 0:return[4,m.ResManager.loadResAsync("prefabs/common/GameChat",cc.Prefab,!1)];case 1:return(e=o.sent())&&cc.isValid(this.node)&&!this.node.getChildByName("GameChat")&&(t=cc.instantiate(e),this.node.addChild(t),t.getComponent(y.default).setTalkPositionY()),[2]}})})},t.prototype.initView=function(){var e=this;this.spr_bg=cc.find("bg",this.node),this.node_top=cc.find("node_top",this.node),this.node_center=cc.find("node_center",this.node),this.topPanel.initzation(this),this.centerPanel.initzation(this),this.avatarPanel.forEach(function(t,o){t.initzation(e.centerPanel,e)}),this.cardPanel.forEach(function(t,o){t.initzation(e.centerPanel,e)})},t.prototype.initNode=function(){this.node_gold=this.node_center.getChildByName("node_gold")},t.prototype.initData=function(){this.already_outCard_arr=[0,0,0,0,0,0,0,0,0,0]},t.prototype.initPrePareGameView=function(e){var t=e.player_info,o={username:h.default.getSubStringLengTxt(t.username)||h.default.getReplaceStrToStar(t.player_id),gold:t.gold,headimg_id:t.headimg_id},n=e.room_info.room_base_note;this.topPanel.setBasicPot(n),this.avatarPanel[0].setUserInfo(o),this.showReady()},t.prototype.initGameView=function(){var e=this;l.default.PLAYER_DATAS.forEach(function(t,o){var n=f.default.getInstance().getLocalIndex(t.seat_id);e.avatarPanel[n].setUserInfo(t),e.avatarPanel[n].setUserEvent(t.player_id)})},t.prototype.initUserView=function(){this.avatarPanel.forEach(function(e,t){0!=t?e.initView():e.resetMyView()})},t.prototype.recoverGameView=function(e){var t=this,o=e.game_start_notify,n=e.game_state,a=!1,i=!1,r=!1,c=!1;l.default.PLAYER_DATAS=o.player_list,console.log("%c\u6240\u6709\u7528\u6237\u4fe1\u606f======>","color:green",l.default.PLAYER_DATAS);for(var s=0;s<l.default.PLAYER_DATAS.length;s++){var d=l.default.PLAYER_DATAS[s];if(d.player_id==_.DataManager.userInfo.userid){l.default.MY_DATA=d,l.default.MY_SEAT=d.seat_id,console.log("\u6211\u7684\u7528\u6237\u4fe1\u606f======>",d);break}}l.default.PLAYER_DATAS.forEach(function(e,o){var a=f.default.getInstance().getLocalIndex(e.seat_id);if(2==n||3==n){var s=e.bank_value;s>=0&&t.avatarPanel[a].setUserBankValue(s),0==a&&s>=0&&(i=!0)}var l=e.bet_value;(l>=0&&t.avatarPanel[a].setUserBetValue(l),0==a&&l>=0&&(r=!0),n>5)&&t.cardPanel[a].initCard();var d=e.card_result;if(d){for(var u=d.card_arr,p=d.card_value,h=0;h<u.length;h++){t.cardPanel[a].node.children[h].getComponent("MjCard").showFace(u[h])}t.avatarPanel[a].setTypeSprite(p),0==a&&(c=!0)}}),this.initGameView();var u=o.room_info,p=u.room_code,h=u.round;if(this.topPanel.setRoomInfo(p),this.centerPanel.setRoundNum(h),-1!=e.banker_seat_id){var m=f.default.getInstance().getLocalIndex(e.banker_seat_id);this.avatarPanel[m].setUserBankValue(e.bank_value),this.avatarPanel[m].setViewBankerSign(!0),this.avatarPanel[m].blink.active=!0,0==m&&(a=!0)}var y=e.already_out_card;if(this.already_outCard_arr=y,1==n);else if(2==n)i?this.centerPanel.setViewTips("\u8bf7\u7b49\u5f85\u5176\u4ed6\u73a9\u5bb6\u62a2\u5e84"):(this.centerPanel.setViewTips("\u8bf7\u9009\u62e9\u62a2\u5e84\u500d\u6570"),this.centerPanel.showGrabBtn(e.bank_info));else if(3==n);else if(4==n)r?this.centerPanel.setViewTips("\u8bf7\u7b49\u5f85\u5176\u4ed6\u95f2\u5bb6\u4e0b\u6ce8"):a?(console.log("\u6211\u662f\u5e84\u5bb6"),this.centerPanel.setViewTips("\u8bf7\u7b49\u5f85\u5176\u4ed6\u95f2\u5bb6\u4e0b\u6ce8")):(this.centerPanel.showBetBtn(e.bet_info),this.centerPanel.setViewTips("\u8bf7\u9009\u62e9\u4e0b\u6ce8\u500d\u6570"));else if(5==n){var v=e.dice_val,g=cc.instantiate(this.node_dice);this.UINode.addChild(g),g.getComponent("ShakeDice").showDice(v)}else 6==n||7==n&&(c||this.centerPanel.setShowCard());var b=!1,P=!1;2==n?(b=!i,P=!i):4==n?(b=!a&&!r,P=!a&&!r):7==n&&(b=!c,P=!c),this.centerPanel.onKillTimer(),this.centerPanel.setGameTimer({limit_time:e.time_out,playAudio:b,vibrate:P}),this.isStartGame=!1,8!=n&&(this.isStartGame=!0,1==this.gameType&&(this.centerPanel.hideFriendBtn(),this.avatarPanel.forEach(function(e,t){e.setReadyIcon(!1)}))),this.centerPanel.hideReadyBtn()},t.prototype.showReady=function(){0==this.gameType?this.centerPanel.showReadyBtn():1==this.gameType&&this.centerPanel.showFriendBtn()},t.prototype.resetGameView=function(){this.unscheduleAllCallbacks(),this.node.stopAllActions(),this.UINode.destroyAllChildren(),this.topPanel.setRoomInfo(),this.centerPanel.initView(),this.avatarPanel.forEach(function(e,t){0!=t?e.initView():e.resetMyView()}),this.cardPanel.forEach(function(e,t){e.removeCard()})},t.prototype.clearNextGameView=function(){this.avatarPanel.forEach(function(e,t){e.resetMyView()}),this.cardPanel.forEach(function(e,t){e.removeCard()})},t.prototype.GameStartAni=function(e){var t=this,o=cc.instantiate(this.arrow_round);o.getComponent("ArrowRound").onArrowRound(e);var n=cc.instantiate(this.start_game);this.UINode.addChild(o),this.UINode.addChild(n),this.scheduleOnce(function(){t.UINode.removeChild(o),t.UINode.removeChild(n)},1.5),p.AudioManager.playSFX("start_game")},t.prototype.StartGame=function(e){v.UIManager.hideLoading(),0==this.gameType?this.centerPanel.hideReadyBtn():1==this.gameType&&this.centerPanel.hideFriendBtn(),g.NetManager.protocolGameCommon.needFlushGold=!1,this.isStartGame=!0,this.centerPanel.onKillTimer();var t=e.room_info,o=t.room_code,n=t.round;this.centerPanel.setRoundNum(n),this.topPanel.setRoomInfo(o),this.GameStartAni(n),1==this.gameType&&(this.centerPanel.hideFriendBtn(),this.avatarPanel.forEach(function(e,t){e.setReadyIcon(!1)}))},t.prototype.showCardOut=function(){this.node_out_card.active=!this.node_out_card.active,this.node_out_card.getComponent("AlreadyOutCard").showAlreadyNum(this.already_outCard_arr)},t.prototype.refOutCard=function(e){var t=this.already_outCard_arr[e];t+=1,this.already_outCard_arr[e]=t,this.node_out_card.getComponent("AlreadyOutCard").showAlreadyNum(this.already_outCard_arr),this.already_outCard_arr[e]>4&&console.log("\u5df2\u51fa\u724c\u578b\u6709\u9519,\u9519\u8bef\u724c\u503c\u4e3a->>",e)},t.prototype.onSubNotifyBank=function(e){this.centerPanel.onKillTimer(),this.centerPanel.setGameTimer({limit_time:e.time_out,playAudio:!0,vibrate:!0}),this.centerPanel.setViewTips("\u8bf7\u9009\u62e9\u62a2\u5e84\u500d\u6570"),this.centerPanel.showGrabBtn(e.bank_info)},t.prototype.setUserBankValue=function(e,t){0==e&&(this.centerPanel.hideGrabBetBtn(),this.centerPanel.setViewTips("\u8bf7\u7b49\u5f85\u5176\u4ed6\u73a9\u5bb6\u62a2\u5e84"),this.centerPanel.pauseAudio(),this.centerPanel.pauseVibrate()),this.avatarPanel[e].setUserBankValue(t)},t.prototype.onSubConfirmBank=function(e){this.centerPanel.onKillTimer(),this.centerPanel.hideGrabBetBtn(),this.onGrabBankerAni(e)},t.prototype.onGrabBankerAni=function(e){for(var t=this,o=[],n=l.default.INVALE_CHAIR,a=0;a<e.banker_compete_seat_id.length;a++)o[a]=f.default.getInstance().getLocalIndex(e.banker_compete_seat_id[a]);n=f.default.getInstance().getLocalIndex(e.banker_seat_id),this.setViewGrabBankerAni(o,n,function(){t.avatarPanel.forEach(function(t,o){o!=n?t.hideUserGrab():t.setUserBankValue(e.bank_value)}),t.avatarPanel[n].setViewBankerSign(!0)})},t.prototype.setViewGrabBankerAni=function(e,t,o){var n=e.length;if(n<=1){var a=cc.sequence(cc.scaleTo(.1,1.1,1.1),cc.scaleTo(.1,1,1)),i=this.avatarPanel[t].blink;i.active=!0,i.runAction(a),o&&o()}else{for(var r=[],c=0,s=0;s<n;s++)r[s]=this.avatarPanel[e[s]].blink,t==e[s]&&(c=s);var l=.1,d=20;n<=2&&(l=.2,d=10);var u=0,p=0,h=cc.sequence(cc.delayTime(l),cc.callFunc(function(){for(var e=0;e<n;e++)r[e].active=!1;++p>=d-1?r[c].active=!0:r[u].active=!0,u++,u%=n})),f=cc.sequence(cc.repeat(h,d),cc.delayTime(.1),cc.callFunc(function(){var e=cc.sequence(cc.scaleTo(.1,1.1,1.1),cc.scaleTo(.1,1,1));r[c].runAction(e),o&&o()}));this.node.runAction(f)}},t.prototype.onSubStartBet=function(e){this.centerPanel.onKillTimer(),console.log("\u6211\u8fdb\u5165\u4e86\u6309\u94ae\u7684\u663e\u793a\u9690\u85cf");var t=f.default.getInstance().getLocalIndex(e.banker_seat_id);0==t?(console.log("\u6211\u662f\u5e84\u5bb6"),this.centerPanel.setViewTips("\u8bf7\u7b49\u5f85\u5176\u4ed6\u95f2\u5bb6\u4e0b\u6ce8")):(this.centerPanel.showBetBtn(e.bet_info),this.centerPanel.setViewTips("\u8bf7\u9009\u62e9\u4e0b\u6ce8\u500d\u6570")),this.centerPanel.setGameTimer({limit_time:e.time_out,playAudio:0!=t,vibrate:0!=t})},t.prototype.setUserBetValue=function(e,t){0==e&&(this.centerPanel.hideGrabBetBtn(),this.centerPanel.setViewTips("\u8bf7\u7b49\u5f85\u5176\u4ed6\u95f2\u5bb6\u4e0b\u6ce8"),this.centerPanel.pauseAudio(),this.centerPanel.pauseVibrate()),this.avatarPanel[e].setUserBetValue(t)},t.prototype.onSubShakeDice=function(e){var t=this;this.centerPanel.onKillTimer(),this.centerPanel.hideViewTips(),this.centerPanel.hideGrabBetBtn();var o=e.dice_val,n=cc.instantiate(this.node_dice);this.UINode.addChild(n);var a=n.getComponent("ShakeDice");a.showDice(o),a.shakeDice(),this.scheduleOnce(function(){t.UINode.removeChild(n)},3),p.AudioManager.playSFX("shake_dice")},t.prototype.onSubSendCard=function(e){var t=this;this.centerPanel.onKillTimer();var o=this.UINode.getChildByName("node_dice");o&&o.removeFromParent();var n=f.default.getInstance().getLocalIndex(e.seat_id),a=this.sortSendCardPos(n);this.avatarPanel[n].setArrowDirect(),this.scheduleOnce(function(){t.dealCardsAni(a)},.3)},t.prototype.sortSendCardPos=function(e){for(var t=[],o=[],n=0;n<4;n++)n<e?t.push(n):o.push(n);return o.concat(t)},t.prototype.dealCardsAni=function(e){var t=this,o=0;e.forEach(function(e,n){var a=t.cardPanel[e],i=.5*o;o++,t.scheduleOnce(function(){a.initCard(),p.AudioManager.playSFX("send_card")},i)})},t.prototype.onSubSendCardEnd=function(e){this.centerPanel.onKillTimer(),this.centerPanel.setShowCard(),this.centerPanel.setGameTimer({limit_time:e.time_out,playAudio:!0,vibrate:!0})},t.prototype.onSubShowCard=function(e){var t=f.default.getInstance().getLocalIndex(e.card_result.seat_id);f.default.getInstance().getUserSexByID(e.card_result.seat_id);0==t&&(this.centerPanel.onKillTimer(),this.centerPanel.hideShowCard(),this.centerPanel.pauseAudio(),this.centerPanel.pauseVibrate()),this.showCardAni(e.card_result)},t.prototype.showCardAni=function(e){for(var t=this,o=f.default.getInstance().getLocalIndex(e.seat_id),n=f.default.getInstance().getUserSexByID(e.seat_id),a=e.card_value,i=e.card_arr,r=this.cardPanel[o],c=0,s=function(e){var t=r.node.children[e].getComponent("MjCard"),o=.5*c;c++,l.refOutCard(i[e]),l.scheduleOnce(function(){t.showFace(i[e])},o)},l=this,d=0;d<i.length;d++)s(d);this.schedule(function(){var e=1==n?"male":"female";p.AudioManager.playGameSFX(e+"/"+a),t.avatarPanel[o].setTypeSprite(a)},.5,0,0)},t.prototype.onSubGameEnd=function(e){this.centerPanel.onKillTimer(),this.centerPanel.hideShowCard(),this.onGameEndAni(e)},t.prototype.onGameEndAni=function(e){var t=this,o=0;this.already_outCard_arr.forEach(function(e,t){o+=e}),console.log("\u7ed3\u7b97\u540e\u5df2\u51fa\u4e86\u591a\u5c11\u5f20\u724c",o);for(var n=0,a=[],i=[],r=f.default.getInstance().getLocalIndex(e.banker_seat_id),c=this.avatarPanel[r].getNodePosition(),s=e.result_info,d=0,u=0;u<s.length;u++){var h=f.default.getInstance().getLocalIndex(s[u].seat_id),m=s[u].score;0==h&&m<0&&(d=1),h!=r&&(m<0?a.push(this.avatarPanel[h].getNodePosition()):i.push(this.avatarPanel[h].getNodePosition())),0==h&&(n=m)}if(0==d?p.AudioManager.playSFX("game_win"):p.AudioManager.playSFX("game_lose"),0==this.gameType)if(0==d)if(e.is_continue_game)this.centerPanel.showResultSpine(d,function(){});else{this.isStartGame=!1;v.UIManager.popup("prefabs/game/ShareBalance",{isChecked:this.IsCheck,spCallBack:function(){t.initData(),1==t.node_out_card.active&&t.node_out_card.getComponent("AlreadyOutCard").showAlreadyNum(t.already_outCard_arr)},btnCallback:function(e){t.centerPanel.setChecked(e),t.centerPanel.sendMatchReq()},winGold:n||0})}else this.centerPanel.showResultSpine(d,function(){if(!e.is_continue_game){t.isStartGame=!1;var o=t.IsCheck;if(o?t.centerPanel.sendMatchReq():0==t.gameType&&t.showReady(),t.initData(),1==t.node_out_card.active)t.node_out_card.getComponent("AlreadyOutCard").showAlreadyNum(t.already_outCard_arr);console.log("\u662f\u5426\u81ea\u52a8\u51c6\u5907",o)}});else this.centerPanel.showResultSpine(d,function(){if(!e.is_continue_game){t.isStartGame=!1;var o=t.IsCheck;if(_.DataManager.isCreaterUser?(t.centerPanel.showFriendBtn(),t.centerPanel.onSetStartCountDown(o)):(t.centerPanel.showFriendReadyBtn(),o&&g.NetManager.protocolGameCommon.sendFriendReadyReq(0)),t.initData(),1==t.node_out_card.active)t.node_out_card.getComponent("AlreadyOutCard").showAlreadyNum(t.already_outCard_arr)}});0==i.length&&a.length>=2&&console.log("\u5e84\u5bb6\u901a\u6740"),0==a.length&&i.length>=2&&console.log("\u5e84\u5bb6\u901a\u8d54"),this.setGoldAnimation(c,a,!0,function(){t.setGoldAnimation(c,i,!1,function(){var e=[];g.NetManager.protocolGameCommon.needFlushGold&&g.NetManager.protocolGameCommon.flushPlayerInfo.forEach(function(t){var o=f.default.getInstance().getLocalIndex(t.seat_id);e[o]=t.gold});for(var o=function(o){var n=f.default.getInstance().getLocalIndex(s[o].seat_id),a=e[n]?e[n]:s[o].gold,i=s[o].score,r=l.default.FLutter_POS;s[o].is_user_conclude||(console.log("\u8fd9\u4eba\u6ca1\u94b1\u7834\u4ea7\u4e86"),t.avatarPanel[n].setUserBroke()),t.avatarPanel[n].flutterScore(i,r,function(){t.avatarPanel[n].setUserScore(a),o==s.length-1&&(g.NetManager.protocolGameCommon.needFlushGold=!1)})},n=0;n<s.length;n++)o(n)})})},t.prototype.setGoldAnimation=function(e,t,o,n){var a=this;if(null==t||t.length<=0)n&&n();else{for(var i=e,r=0,c=0;c<t.length;c++)for(var s=t[c],l=s,d=i,u=0;u<10;u++){var h=new cc.Node;h.addComponent(cc.Sprite),h.getComponent(cc.Sprite).spriteFrame=this.gold_frame,o?(l=s,d=i):(l=i,d=s),h.setPosition(l),this.node_gold.addChild(h);var f=[cc.v2(l.x,l.y),cc.v2(l.x,d.y),cc.v2(d.x,d.y)],_=cc.moveTo(.1*u,cc.v2(d.x,d.y)),m=(cc.bezierTo(.12*u,f),cc.sequence(_,cc.callFunc(function(){++r==10*t.length-1&&(a.node_gold.destroyAllChildren(),n&&n())})));h.runAction(m)}p.AudioManager.playSFX("collect_gold")}},t.prototype.onUpdateUserScore=function(){this.isStartGame||this.avatarPanel[0].setUserScore(_.DataManager.userInfo.gold)},t.prototype.showFriendPlayerState=function(e,t){this.avatarPanel[e].setReadyIcon(!1),this.avatarPanel[e].setOfflineIcon(!1),1==t?this.avatarPanel[e].setReadyIcon(!0):2==t?this.avatarPanel[e].setOfflineIcon(!0):3!=t&&6!=t||(this.avatarPanel[e].setReadyIcon(!1),this.avatarPanel[e].setOfflineIcon(!1))},a([G(c.default)],t.prototype,"avatarPanel",void 0),a([G(s.default)],t.prototype,"cardPanel",void 0),a([G(cc.Node)],t.prototype,"spr_bg",void 0),a([G(d.default)],t.prototype,"topPanel",void 0),a([G(u.default)],t.prototype,"centerPanel",void 0),a([G(cc.Node)],t.prototype,"node_gold",void 0),a([G(cc.Node)],t.prototype,"node_out_card",void 0),a([G(cc.Node)],t.prototype,"UINode",void 0),a([G(cc.SpriteFrame)],t.prototype,"gold_frame",void 0),a([G(cc.Prefab)],t.prototype,"arrow_round",void 0),a([G(cc.Prefab)],t.prototype,"node_dice",void 0),a([G(cc.Prefab)],t.prototype,"start_game",void 0),t=a([P],t)}(cc.Component);o.default=w,cc._RF.pop()},{"../../common/utils/Utils":void 0,"../../manager/AudioManager":void 0,"../../manager/DataManager":void 0,"../../manager/NetManager":void 0,"../../manager/ResManager":void 0,"../../manager/UIManager":void 0,"../../view/common/GameChat":void 0,"./EBGTool":"EBGTool","./model/CMD_EBG":"CMD_EBG","./ui/EBGAvatarPanel":"EBGAvatarPanel","./ui/EBGCenterPanel":"EBGCenterPanel","./ui/EBGMahJongPanel":"EBGMahJongPanel","./ui/EBGTopPanel":"EBGTopPanel"}],EBGMahJongPanel:[function(e,t,o){"use strict";cc._RF.push(t,"7a27cDeU8VD9pM4GxJkFxfH","EBGMahJongPanel");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),a=this&&this.__decorate||function(e,t,o,n){var a,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(a=e[c])&&(r=(i<3?a(r):i>3?a(t,o,r):a(t,o))||r);return i>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var i=e("../model/CMD_EBG"),r=cc._decorator,c=r.ccclass,s=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.MJCard=null,t.LocalPos=0,t.centerPanel=null,t._gameView=null,t}return n(t,e),t.prototype.initzation=function(e,t){this.centerPanel=e,this._gameView=t},t.prototype.initCard=function(){for(var e=0;e<2;e++){var t=cc.instantiate(this.MJCard);t.position=i.default.MJCardPos[e],t.active=!0,t.getComponent("MjCard").init(),this.node.addChild(t)}},t.prototype.removeCard=function(){this.node.destroyAllChildren()},a([s(cc.Prefab)],t.prototype,"MJCard",void 0),a([s()],t.prototype,"LocalPos",void 0),t=a([c],t)}(cc.Component);o.default=l,cc._RF.pop()},{"../model/CMD_EBG":"CMD_EBG"}],EBGRoomView:[function(e,t,o){"use strict";cc._RF.push(t,"06120rYw3BA6oeHLgNLq6K9","EBGRoomView");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),a=this&&this.__decorate||function(e,t,o,n){var a,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(a=e[c])&&(r=(i<3?a(r):i>3?a(t,o,r):a(t,o))||r);return i>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../view/RoomView"),r=e("../../view/common/componet/ButtonEx"),c=cc._decorator,s=c.ccclass,l=(c.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.initEvent=function(){e.prototype.initEvent.call(this)},t.prototype.showRoomList=function(e){for(var t=e.game_room_lists.length,o=Math.ceil(t/6),n=1;n<o;n++){(c=cc.instantiate(this.page_item)).active=!0,this.PageView.addPage(c)}var a=this.PageView.content;for(n=0;n<a.childrenCount;n++){var i=Math.floor(n/6);(c=a.children[i]).children.forEach(function(e){e.active=!1})}for(n=0;n<t;n++){var c,s=e.game_room_lists[n],l=(i=Math.floor(n/6),(c=a.children[i]).children[s.room_level-1]);l.active=!0;var d=l.getChildByName("pot_num").getComponent(cc.Label);s.bet_limit.length>0?d.string=s.bet_limit[0]+"-"+s.bet_limit[1]:d.string=""+s.room_base_note,l.getChildByName("permit_num").getComponent(cc.Label).string=""+s.room_min_entrance,l.getComponent(r.default).disabledScale(),l.getComponent(r.default).registerClick(this.onChooseGameRoom.bind(this,s))}this.PageView.enabled=o>1},t=a([s],t)}(i.default));o.default=l,cc._RF.pop()},{"../../view/RoomView":void 0,"../../view/common/componet/ButtonEx":void 0}],EBGTool:[function(e,t,o){"use strict";cc._RF.push(t,"c1f2aiz4EdJtIIoQ0i7hprO","EBGTool");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),a=this&&this.__decorate||function(e,t,o,n){var a,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(a=e[c])&&(r=(i<3?a(r):i>3?a(t,o,r):a(t,o))||r);return i>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var i=e("./model/CMD_EBG"),r=cc._decorator,c=r.ccclass,s=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var o;return n(t,e),o=t,t.getInstance=function(){return null==this.instance&&(this.instance=new o),this.instance},t.prototype.getLocalIndex=function(e){var t=i.default.MY_SEAT,o=e,n=i.default.GAME_PLAYER;return(o-t+n)%n},t.prototype.UserisExist=function(){return!(i.default.MY_SEAT<0||i.default.MY_SEAT>i.default.GAME_PLAYER)},t.prototype.getPlayerCount=function(e){for(var t=0,o=0;o<i.default.GAME_PLAYER;o++)e[o]&&void 0!=e[o]&&(t+=1);return t},t.prototype.getUserSexByID=function(e){for(var t=0;t<i.default.PLAYER_DATAS.length;t++){var o=i.default.PLAYER_DATAS[t];if(o.seat_id==e)return o.sex}},t=o=a([c],t)}(cc.Component));o.default=s,cc._RF.pop()},{"./model/CMD_EBG":"CMD_EBG"}],EBGTopPanel:[function(e,t,o){"use strict";cc._RF.push(t,"049c0vDUZ9GLK0HA4/dwkXo","EBGTopPanel");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),a=this&&this.__decorate||function(e,t,o,n){var a,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(a=e[c])&&(r=(i<3?a(r):i>3?a(t,o,r):a(t,o))||r);return i>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../common/utils/Utils"),r=cc._decorator,c=r.ccclass,s=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.btn_card_out=null,t.pot_num=null,t.table_num=null,t.room_id=null,t.room_id_node=null,t._gameView=null,t}return n(t,e),t.prototype.initzation=function(e){this._gameView=e,this.initView(),this.addEvenListener()},t.prototype.initView=function(){this.pot_num.string="",this.table_num.string=""},t.prototype.addEvenListener=function(){i.default.addClickEventEND(this.btn_card_out,this.onEvenClickButton.bind(this))},t.prototype.setRoomInfo=function(e){this.table_num.string=e||""},t.prototype.setRoomId=function(e){void 0===e&&(e=""),this.room_id_node.active=!0,this.room_id.string=e},t.prototype.setBasicPot=function(e){this.pot_num.string=e},t.prototype.onEvenClickButton=function(e){"btn_card_out"==e.name&&this._gameView.showCardOut()},a([s(cc.Node)],t.prototype,"btn_card_out",void 0),a([s(cc.Label)],t.prototype,"pot_num",void 0),a([s(cc.Label)],t.prototype,"table_num",void 0),a([s(cc.Label)],t.prototype,"room_id",void 0),a([s(cc.Node)],t.prototype,"room_id_node",void 0),t=a([c],t)}(cc.Component);o.default=l,cc._RF.pop()},{"../../../common/utils/Utils":void 0}],MjCard:[function(e,t,o){"use strict";cc._RF.push(t,"d5bc7ccjHJMj4DFsLGtZV+m","MjCard");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),a=this&&this.__decorate||function(e,t,o,n){var a,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(a=e[c])&&(r=(i<3?a(r):i>3?a(t,o,r):a(t,o))||r);return i>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,r=i.ccclass,c=i.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.back=null,t.value=null,t.mahjongAtlas=null,t}return n(t,e),t.prototype.onLoad=function(){},t.prototype.init=function(){this.value.spriteFrame=null,this.value.node.active=!1,this.back.node.active=!0,this.back.spriteFrame=this.mahjongAtlas.getSpriteFrame("mahjong_back_2")},t.prototype.showFace=function(e){this.value.node.active=!0,this.value.spriteFrame=this.mahjongAtlas.getSpriteFrame("mj"+e),this.back.spriteFrame=this.mahjongAtlas.getSpriteFrame("mahjong_back_1")},a([c(cc.Sprite)],t.prototype,"back",void 0),a([c(cc.Sprite)],t.prototype,"value",void 0),a([c(cc.SpriteAtlas)],t.prototype,"mahjongAtlas",void 0),t=a([r],t)}(cc.Component);o.default=s,cc._RF.pop()},{}],ProtocolEBG:[function(e,t,o){"use strict";cc._RF.push(t,"5fd5bfEps5ByKFTB/dALlaD","ProtocolEBG");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var a=e("../../../net/ProtocolBase"),i=e("../../../manager/DataManager"),r=e("./EBGCmd"),c=e("../../../Define"),s=e("../../../manager/EventManager"),l=e("../../../manager/UIManager"),d=e("../../../manager/NetManager"),u=function(e){function t(){var t=e.call(this,"game/ebg/pb")||this;return t.cmd=r.EBGCmd,t.type=c.SocketType.Game,t.pbName="EBG",s.EventManager.on(t,r.ProtocolEBGCmd.ErrorResp,t.onErrorResp.bind(t)),t}return n(t,e),t.prototype.sendGrabReq=function(e){var t={bank_value:e};console.log("============>\u53d1\u9001\u62a2\u5e84\u8bf7\u6c42"),this.send(t,"game_bank_req")},t.prototype.sendBetReq=function(e){var t={bet_value:e};console.log("============>\u53d1\u9001\u4e0b\u6ce8\u8bf7\u6c42"),this.send(t,"game_bet_req")},t.prototype.sendShowCard=function(){var e={player_id:i.DataManager.userInfo.userid};console.log("============>\u53d1\u9001\u644a\u724c\u8bf7\u6c42"),this.send(e,"game_card_result_req")},t.prototype.onErrorResp=function(e){l.UIManager.showTipsPopup(e.err_msg)},t.prototype.onGameErrRes=function(e){},t}(a.default);o.default=u,d.NetManager.protocolCache.ProtocolEBG=u,cc._RF.pop()},{"../../../Define":void 0,"../../../manager/DataManager":void 0,"../../../manager/EventManager":void 0,"../../../manager/NetManager":void 0,"../../../manager/UIManager":void 0,"../../../net/ProtocolBase":void 0,"./EBGCmd":"EBGCmd"}],ShakeDice:[function(e,t,o){"use strict";cc._RF.push(t,"20714aIr2pNSoKPwdYqsnlx","ShakeDice");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),a=this&&this.__decorate||function(e,t,o,n){var a,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(a=e[c])&&(r=(i<3?a(r):i>3?a(t,o,r):a(t,o))||r);return i>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,r=i.ccclass,c=i.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dice_body=null,t.dice_bottom=null,t.dice_List=[],t.dice_frames=[],t}return n(t,e),t.prototype.onLoad=function(){},t.prototype.showDice=function(e){this.dice_body.active=!1;for(var t=0;t<e.length;t++){var o=e[t];this.dice_List[t].spriteFrame=this.dice_frames[o-1]}},t.prototype.shakeDice=function(){var e=this;this.node.stopAllActions(),this.dice_body.active=!0,this.dice_body.angle=0,this.dice_body.position=cc.v2(0,0);var t=cc.tween(this.node).to(.08,{angle:-20}).to(.08,{angle:0}).to(.08,{angle:20}).to(.08,{angle:0}),o=cc.tween(this.node).by(.08,{y:5}).by(.08,{y:-10}).by(.08,{y:5});cc.tween(this.node).to(.1,{angle:-20}).to(.1,{angle:0}).to(.1,{angle:20}).to(.1,{angle:0}).repeat(5,t).to(.08,{angle:20}).then(o).to(.1,{angle:0}).call(function(){e.node.angle=0,e.dice_body.angle=-20,cc.tween(e.dice_body).by(.3,{position:cc.v2(800,500)}).start()}).start()},a([c(cc.Node)],t.prototype,"dice_body",void 0),a([c(cc.Node)],t.prototype,"dice_bottom",void 0),a([c(cc.Sprite)],t.prototype,"dice_List",void 0),a([c(cc.SpriteFrame)],t.prototype,"dice_frames",void 0),t=a([r],t)}(cc.Component);o.default=s,cc._RF.pop()},{}]},{},["EBGGameScene","EBGGameView","EBGRoomView","EBGTool","CMD_EBG","EBGCmd","ProtocolEBG","AlreadyOutCard","ArrowRound","EBGAvatarPanel","EBGCenterPanel","EBGMahJongPanel","EBGTopPanel","MjCard","ShakeDice"]);