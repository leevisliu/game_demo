window.__require=function e(t,o,n){function r(i,c){if(!o[i]){if(!t[i]){var s=i.split("/");if(s=s[s.length-1],!t[s]){var l="function"==typeof __require&&__require;if(!c&&l)return l(s,!0);if(a)return a(s,!0);throw new Error("Cannot find module '"+i+"'")}i=s}var p=o[i]={exports:{}};t[i][0].call(p.exports,function(e){return r(t[i][1][e]||e)},p,p.exports,e,t,o,n)}return o[i].exports}for(var a="function"==typeof __require&&__require,i=0;i<n.length;i++)r(n[i]);return r}({ESYDAdapter:[function(e,t,o){"use strict";cc._RF.push(t,"51ec74Wd/hOPLa/VG4jSafH","ESYDAdapter"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("../../../common/utils/Utils"),r=function(){function e(){}return e.prototype.getRandomInt=function(e,t){return n.default.getRandomInt(e,t)},e.prototype.getFormatGold=function(e){return n.default.getFormatGold(e)},e.prototype.getSubStringLengTxt=function(e){return n.default.getSubStringLengTxt(e)},e.prototype.getReplaceStrToStar=function(e){return n.default.getReplaceStrToStar(e)},e.instance=new e,e}();o.ESYDAdapter=r.instance,cc._RF.pop()},{"../../../common/utils/Utils":void 0}],ESYDCard:[function(e,t,o){"use strict";cc._RF.push(t,"3b59dGw1UxHZZ9zu/jRaQqo","ESYDCard");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,a=arguments.length,i=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(i=(a<3?r(i):a>3?r(t,o,i):r(t,o))||i);return a>3&&i&&Object.defineProperty(t,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../ESYDDefine"),i=e("../../public/createPoker"),c=e("../../../manager/AudioManager"),s=cc._decorator,l=s.ccclass,p=s.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.content_main=null,t.content_split=null,t.main_spine=null,t.split_spine=null,t.main_di=null,t.split_di=null,t.main_value=null,t.split_value=null,t.poker=null,t.cardTypeSpine=[],t.diFrames=[],t.doubleFrame=null,t.isDealer=!1,t}return n(t,e),t.prototype.resetView=function(){this.content_main.position=a.CARD_NORMAL.ContentPos,this.content_main.destroyAllChildren(),this.content_main.getComponent(cc.Layout).type=cc.Layout.Type.HORIZONTAL,this.main_di.position=a.CARD_NORMAL.DiPos,this.main_di.active=!1,this.main_spine.node.position=a.CARD_NORMAL.CardTypePos,this.main_spine.node.active=!1,this.main_value.string="",this.isDealer||(this.content_split.destroyAllChildren(),this.split_spine.node.active=!1,this.split_di.active=!1,this.split_value.string="")},t.prototype.recHandCard=function(e,t,o,n){for(var r=0;r<o.length;r++){var c=o[r],s=cc.instantiate(this.poker);s.getComponent(i.default).createPoker(c||0),s.y=a.PokerY;var l=1==t?this.content_main:this.content_split;l.addChild(s);var p=l.getComponent(cc.Layout);p.spacingX=-55,p.spacingY=-55,2==e&&(l.width=a.CARD_SPLIT.MaxWidth,this.content_main.position=a.CARD_SPLIT.ContentPos,this.main_di.position=a.CARD_SPLIT.DiPos,this.main_spine.node.position=a.CARD_SPLIT.CardTypePos,l.childrenCount>3?p.type=cc.Layout.Type.GRID:p.type=cc.Layout.Type.HORIZONTAL),n&&r==o.length-1&&this.showDoubleCard(s)}},t.prototype.createPoker=function(e,t,o){var n=cc.instantiate(this.poker);n.getComponent(i.default).createPoker(o||0),n.opacity=0,n.y=a.PokerY;var r=1==t?this.content_main:this.content_split;r.addChild(n);var c=r.getComponent(cc.Layout);return c.spacingX=-55,c.spacingY=-55,2==e&&(r.width=a.CARD_SPLIT.MaxWidth,this.content_main.position=a.CARD_SPLIT.ContentPos,this.main_di.position=a.CARD_SPLIT.DiPos,this.main_spine.node.position=a.CARD_SPLIT.CardTypePos,r.childrenCount>3?c.type=cc.Layout.Type.GRID:c.type=cc.Layout.Type.HORIZONTAL),n},t.prototype.getPoker=function(e){var t=1==e?this.content_main:this.content_split;return t.children[t.childrenCount-1]},t.prototype.showCardType=function(e,t){var o=1==e?this.main_spine:this.split_spine;o.clearTracks(),o.node.active=!0;var n=1==e?this.content_main:this.content_split;(1==e?this.main_di:this.split_di).active=!1,3==t?o.skeletonData=this.cardTypeSpine[0]:4==t&&(o.skeletonData=this.cardTypeSpine[1]),o.setAnimation(0,"animation",!1),o.setToSetupPose(),n.getComponent(cc.Layout).type==cc.Layout.Type.GRID?o.node.y=-90:o.node.y=-40},t.prototype.showValue=function(e,t){(1==e?this.main_value:this.split_value).string=t;var o=1==e?this.main_di:this.split_di;o.getComponent(cc.Sprite).spriteFrame=this.diFrames[0],o.active=!0},t.prototype.showBoom=function(e){(1==e?this.main_value:this.split_value).string="\u7206\u724c";var t=1==e?this.main_di:this.split_di;t.getComponent(cc.Sprite).spriteFrame=this.diFrames[1],t.active=!0;var o=1==e?this.main_spine:this.split_spine;o.clearTracks(),o.node.active=!0,o.skeletonData=this.cardTypeSpine[2],o.setAnimation(0,"animation",!1),o.setToSetupPose(),o.setCompleteListener(function(){o.clearTracks(),o.node.active=!1}),(1==e?this.content_main:this.content_split).getComponent(cc.Layout).type==cc.Layout.Type.GRID?o.node.y=-90:o.node.y=-40,c.AudioManager.playGameSFX("baozha")},t.prototype.showDoubleCard=function(e){var t=new cc.Node;t.position=cc.v2(18.5,32),t.addComponent(cc.Sprite).spriteFrame=this.doubleFrame,e.addChild(t)},t.prototype.enableGreyCard=function(e){this.content_main.children.forEach(function(t){t.getComponent(i.default).setGrey(2==e)}),this.content_split.children.forEach(function(t){t.getComponent(i.default).setGrey(1==e)})},t.prototype.recGreyCard=function(){this.content_main.children.forEach(function(e){e.getComponent(i.default).setGrey(!1)}),this.isDealer||this.content_split.children.forEach(function(e){e.getComponent(i.default).setGrey(!1)})},t.prototype.removeCard=function(){this.content_main.removeAllChildren(),this.isDealer||this.content_split.removeAllChildren()},r([p(cc.Node)],t.prototype,"content_main",void 0),r([p(cc.Node)],t.prototype,"content_split",void 0),r([p(sp.Skeleton)],t.prototype,"main_spine",void 0),r([p(sp.Skeleton)],t.prototype,"split_spine",void 0),r([p(cc.Node)],t.prototype,"main_di",void 0),r([p(cc.Node)],t.prototype,"split_di",void 0),r([p(cc.Label)],t.prototype,"main_value",void 0),r([p(cc.Label)],t.prototype,"split_value",void 0),r([p(cc.Prefab)],t.prototype,"poker",void 0),r([p(sp.SkeletonData)],t.prototype,"cardTypeSpine",void 0),r([p(cc.SpriteFrame)],t.prototype,"diFrames",void 0),r([p(cc.SpriteFrame)],t.prototype,"doubleFrame",void 0),r([p],t.prototype,"isDealer",void 0),t=r([l],t)}(cc.Component);o.default=d,cc._RF.pop()},{"../../../manager/AudioManager":void 0,"../../public/createPoker":void 0,"../ESYDDefine":"ESYDDefine"}],ESYDCenter:[function(e,t,o){"use strict";cc._RF.push(t,"40d92BosatGbJzjjSzkDkuf","ESYDCenter");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,a=arguments.length,i=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(i=(a<3?r(i):a>3?r(t,o,i):r(t,o))||i);return a>3&&i&&Object.defineProperty(t,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../ESYDDefine"),i=e("../../../common/utils/Utils"),c=e("../../../manager/NetManager"),s=e("../../../manager/UIManager"),l=cc._decorator,p=l.ccclass,d=l.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.direct=null,t.btn_start=null,t.btn_share=null,t.GameView=null,t}return n(t,e),t.prototype.start=function(){var e=this;i.default.addClickEventEND(this.btn_start,this.sendMatchReq.bind(this)),i.default.addClickEventEND(this.btn_share,function(){var t=parseFloat(e.GameView.win_gold+"");c.NetManager.protocolChat.sendChatShareRoomReq(t.toFixed(2)+"")})},t.prototype.showReady=function(e){this.btn_start.active=e},t.prototype.showShare=function(e){this.btn_share.active=e},t.prototype.sendMatchReq=function(){s.UIManager.showLoading("\u6b63\u5728\u5feb\u901f\u5339\u914d\u4e2d...",!0,function(){c.NetManager.protocolGameCommon.sendCancelMatch()}),this.GameView.resetGameView(),c.NetManager.protocolGameCommon.sendMatchReq(),this.btn_start.active=!1},t.prototype.displayDirect=function(e){this.direct.angle=a.DirectAngle[e],this.direct.active=!0},t.prototype.hideDirect=function(){this.direct.active=!1},r([d(cc.Node)],t.prototype,"direct",void 0),r([d(cc.Node)],t.prototype,"btn_start",void 0),r([d(cc.Node)],t.prototype,"btn_share",void 0),t=r([p],t)}(cc.Component);o.default=u,cc._RF.pop()},{"../../../common/utils/Utils":void 0,"../../../manager/NetManager":void 0,"../../../manager/UIManager":void 0,"../ESYDDefine":"ESYDDefine"}],ESYDChrome:[function(e,t,o){"use strict";cc._RF.push(t,"a11aa8WCXpIJbVdzdHzKmxl","ESYDChrome");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,a=arguments.length,i=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(i=(a<3?r(i):a>3?r(t,o,i):r(t,o))||i);return a>3&&i&&Object.defineProperty(t,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../../../common/utils/Utils"),i=e("../../../manager/NetManager"),c=cc._decorator,s=c.ccclass,l=c.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.chrome_di=null,t.main_content=null,t.split_content=null,t.bet_di=null,t.bet_num=null,t.can_bet_tips=null,t.can_insure_tips=null,t.btn_click=null,t.GameView=null,t.CHOOSE_SEAT=null,t}return n(t,e),t.prototype.start=function(){var e=this;a.default.addClickEventEND(this.btn_click,function(){i.NetManager.getGameProtocol().sendChooseBetPosReq(e.CHOOSE_SEAT)})},t.prototype.resetView=function(){this.CHOOSE_SEAT=null,this.can_bet_tips.active=!1,this.can_insure_tips.active=!1,this.btn_click.active=!1,this.bet_num.string="",this.bet_di.active=!1,this.main_content.x=0,this.main_content.destroyAllChildren(),this.split_content.destroyAllChildren()},t.prototype.recChrome=function(e,t){for(var o=this.GameView.chrome,n=0;n<t;n++){var r=cc.instantiate(o);r.active=!0,1==e?this.main_content.addChild(r):2==e&&(this.setSeparateContent(),this.main_content.addChild(r),this.split_content.addChild(cc.instantiate(r)))}},t.prototype.showBetTips=function(e,t){this.btn_click.active=e,this.can_bet_tips.active=e,this.CHOOSE_SEAT=t},t.prototype.showBuyTips=function(e){this.can_insure_tips.active=e},t.prototype.showBetNum=function(e){this.bet_num.string=e,this.bet_di.active=!0},t.prototype.setSeparateContent=function(){this.main_content.x=-30},r([l(cc.Node)],t.prototype,"chrome_di",void 0),r([l(cc.Node)],t.prototype,"main_content",void 0),r([l(cc.Node)],t.prototype,"split_content",void 0),r([l(cc.Node)],t.prototype,"bet_di",void 0),r([l(cc.Label)],t.prototype,"bet_num",void 0),r([l(cc.Node)],t.prototype,"can_bet_tips",void 0),r([l(cc.Node)],t.prototype,"can_insure_tips",void 0),r([l(cc.Node)],t.prototype,"btn_click",void 0),t=r([s],t)}(cc.Component);o.default=p,cc._RF.pop()},{"../../../common/utils/Utils":void 0,"../../../manager/NetManager":void 0}],ESYDCmd:[function(e,t,o){"use strict";cc._RF.push(t,"3f5d72JPOlDAb3R+9DMoShh","ESYDCmd"),Object.defineProperty(o,"__esModule",{value:!0}),o.ESYDCmd="221_0",o.ProtocolESYDCmd={GameStartNotify:o.ESYDCmd+"_game_start_notify",GameBetNotify:o.ESYDCmd+"_game_bet_notify",GameSendCardNotify:o.ESYDCmd+"_game_send_card_notify",GameBuyInsureNotify:o.ESYDCmd+"_game_buy_insure_notify",GameInsurePosNotify:o.ESYDCmd+"_game_insure_pos_notify",GameOperateNotify:o.ESYDCmd+"_game_operate_notify",GameBankerHoleCardNotify:o.ESYDCmd+"_game_banker_hole_card_notify",GameBankerShowCardNotify:o.ESYDCmd+"_game_banker_show_card_notify",GameConcludeNotify:o.ESYDCmd+"_game_conclude_notify",GameChooseBetPosRes:o.ESYDCmd+"_game_choose_bet_pos_res",GameBetRes:o.ESYDCmd+"_game_bet_res",GameBetFinishRes:o.ESYDCmd+"_game_bet_finish_res",GameBuyInsureRes:o.ESYDCmd+"_game_buy_insure_res",GameStopCardRes:o.ESYDCmd+"_game_stop_card_res",GameGetCardRes:o.ESYDCmd+"_game_get_card_res",GameSeparateCardRes:o.ESYDCmd+"_game_separate_card_res",GameDoubleRes:o.ESYDCmd+"_game_double_res",GameReconnectInfo:o.ESYDCmd+"_game_reconnect_info"},cc._RF.pop()},{}],ESYDDefine:[function(e,t,o){"use strict";cc._RF.push(t,"16810kyJCRDx4HJ6mqxRjMv","ESYDDefine"),Object.defineProperty(o,"__esModule",{value:!0}),o.CARD_SPLIT={ContentPos:cc.v2(-60,49),DiPos:cc.v2(-60,80),CardTypePos:cc.v2(-60,-40),MaxWidth:124},o.CARD_NORMAL={ContentPos:cc.v2(0,49),DiPos:cc.v2(0,80),CardTypePos:cc.v2(0,-40),TypeHegihtDis:50},o.PokerY=-54,o.DirectAngle=[0,56,86,-86,-56],o.GAME_PLAYER=5,o.DEALER_POS=5,cc._RF.pop()},{}],ESYDFooterBet:[function(e,t,o){"use strict";cc._RF.push(t,"d5ee5kfFR1NMbIU9rRPnxYN","ESYDFooterBet");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,a=arguments.length,i=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(i=(a<3?r(i):a>3?r(t,o,i):r(t,o))||i);return a>3&&i&&Object.defineProperty(t,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../../../common/utils/Utils"),i=e("../../../manager/NetManager"),c=cc._decorator,s=c.ccclass,l=c.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.btn_min_bet=null,t.label_min_bet=[],t.btn_max_bet=null,t.label_max_bet=[],t.btn_downbet=null,t.btn_betdone=null,t.btn_continue=null,t.node_progress=null,t.btn_confirm=null,t.slider=null,t.Mask=null,t.bet_num=null,t.Max_Num=300,t.Min_Num=3,t.progress=0,t.ESYDFooter=null,t}return n(t,e),t.prototype.onLoad=function(){var e=this;a.default.addClickEventEND(this.btn_min_bet.children[0],this.onExtremeBetEvent.bind(this),0),a.default.addClickEventEND(this.btn_max_bet.children[0],this.onExtremeBetEvent.bind(this),1),a.default.addClickEventEND(this.btn_downbet.children[0],function(){e.btn_downbet.active=!1,e.showAddProgress(!0)}),a.default.addClickEventEND(this.btn_betdone,function(){i.NetManager.getGameProtocol().sendGameBetFinishReq()}),a.default.addClickEventEND(this.btn_continue,function(){var e=i.NetManager.getGameProtocol().MY_SEAT,t=i.NetManager.getGameProtocol().LAST_BET_NUM;i.NetManager.getGameProtocol().sendGameBetReq(e,t)}),this.slider.node.on("slide",this.onSliderEvent,this),a.default.addClickEventEND(this.btn_confirm,function(){var t=parseFloat(e.bet_num.string),o=i.NetManager.getGameProtocol().BET_SEAT;i.NetManager.getGameProtocol().sendGameBetReq(o,t)})},t.prototype.onExtremeBetEvent=function(e,t){var o=i.NetManager.getGameProtocol().BET_SEAT;if(0==t){var n=i.NetManager.getGameProtocol().MIN_BET_NUM;i.NetManager.getGameProtocol().sendGameBetReq(o,parseInt(n.toString()))}else if(1==t){var r=i.NetManager.getGameProtocol().MAX_BET_NUM,a=i.NetManager.getGameProtocol().GAME_GOLD;n=a>=r?r:a;i.NetManager.getGameProtocol().sendGameBetReq(o,parseInt(n.toString()))}},t.prototype.setLimitBetNum=function(){var e=i.NetManager.getGameProtocol().MIN_BET_NUM;this.label_min_bet.forEach(function(t){t.string=e+""});var t=i.NetManager.getGameProtocol().MAX_BET_NUM,o=i.NetManager.getGameProtocol().GAME_GOLD,n=o>=t?t:o;this.label_max_bet.forEach(function(e){e.string=parseInt(n.toString())+""})},t.prototype.showView=function(e){this.node.active=e},t.prototype.showFooterBet=function(e,t){this.enableBtnState(this.btn_min_bet,1==e),this.enableBtnState(this.btn_max_bet,1==e),this.enableBtnState(this.btn_downbet,1==e),1==e?(this.btn_continue.active=t,this.btn_betdone.active=!t):(this.btn_continue.active=!1,this.btn_betdone.active=!0),this.btn_downbet.active=!0,this.setLimitBetNum(),this.showAddProgress(!1),this.node.active=!0},t.prototype.enableBtnState=function(e,t){e.children[0].active=t,e.children[1].active=!t},t.prototype.onSliderEvent=function(e){var t=this.Min_Num/this.Max_Num,o=e.progress;this.bet_num.string=o<=t?this.Min_Num.toFixed(0):(o*this.Max_Num).toFixed(0),this.progress=o,this.Mask.height=256*this.progress},t.prototype.showAddProgress=function(e){this.node_progress.active=e,this.progress=0,this.Min_Num=i.NetManager.getGameProtocol().MIN_BET_NUM;var t=i.NetManager.getGameProtocol().GAME_GOLD,o=i.NetManager.getGameProtocol().MAX_BET_NUM,n=t>=o?o:t;this.Max_Num=parseInt(n.toString()),this.bet_num.string=this.Min_Num+"",this.slider.progress=this.progress,this.Mask.height=256*this.progress},r([l(cc.Node)],t.prototype,"btn_min_bet",void 0),r([l(cc.Label)],t.prototype,"label_min_bet",void 0),r([l(cc.Node)],t.prototype,"btn_max_bet",void 0),r([l(cc.Label)],t.prototype,"label_max_bet",void 0),r([l(cc.Node)],t.prototype,"btn_downbet",void 0),r([l(cc.Node)],t.prototype,"btn_betdone",void 0),r([l(cc.Node)],t.prototype,"btn_continue",void 0),r([l(cc.Node)],t.prototype,"node_progress",void 0),r([l(cc.Node)],t.prototype,"btn_confirm",void 0),r([l(cc.Slider)],t.prototype,"slider",void 0),r([l(cc.Node)],t.prototype,"Mask",void 0),r([l(cc.Label)],t.prototype,"bet_num",void 0),t=r([s],t)}(cc.Component);o.default=p,cc._RF.pop()},{"../../../common/utils/Utils":void 0,"../../../manager/NetManager":void 0}],ESYDFooterInsure:[function(e,t,o){"use strict";cc._RF.push(t,"6818erh3pBONpd/+jproOVH","ESYDFooterInsure");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,a=arguments.length,i=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(i=(a<3?r(i):a>3?r(t,o,i):r(t,o))||i);return a>3&&i&&Object.defineProperty(t,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../../../common/utils/Utils"),i=e("../../../manager/NetManager"),c=cc._decorator,s=c.ccclass,l=c.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.btn_no_buy=null,t.btn_buy=null,t}return n(t,e),t.prototype.start=function(){a.default.addClickEventEND(this.btn_no_buy,this.onInsureEvent.bind(this),0),a.default.addClickEventEND(this.btn_buy,this.onInsureEvent.bind(this),1)},t.prototype.onInsureEvent=function(e,t){i.NetManager.getGameProtocol().sendGameBuyInsureReq(1==t),this.node.active=!1},t.prototype.showView=function(e){this.node.active=e},r([l(cc.Node)],t.prototype,"btn_no_buy",void 0),r([l(cc.Node)],t.prototype,"btn_buy",void 0),t=r([s],t)}(cc.Component);o.default=p,cc._RF.pop()},{"../../../common/utils/Utils":void 0,"../../../manager/NetManager":void 0}],ESYDFooterPlay:[function(e,t,o){"use strict";cc._RF.push(t,"e150fZyp/5JI4Wlt3BfvMrX","ESYDFooterPlay");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,a=arguments.length,i=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(i=(a<3?r(i):a>3?r(t,o,i):r(t,o))||i);return a>3&&i&&Object.defineProperty(t,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../../../common/utils/Utils"),i=e("../../../manager/NetManager"),c=cc._decorator,s=c.ccclass,l=c.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.btn_split=null,t.btn_double=null,t.btn_stop=null,t.btn_hit=null,t}return n(t,e),t.prototype.start=function(){var e=this;a.default.addClickEventEND(this.btn_split.children[0],function(){e.node.active=!1,i.NetManager.getGameProtocol().sendGameSeparateCardReq()}),a.default.addClickEventEND(this.btn_double.children[0],function(){e.node.active=!1,i.NetManager.getGameProtocol().sendGameDoubleReq()}),a.default.addClickEventEND(this.btn_stop,function(){e.node.active=!1,i.NetManager.getGameProtocol().sendGameStopCardReq()}),a.default.addClickEventEND(this.btn_hit,function(){e.node.active=!1,i.NetManager.getGameProtocol().sendGameGetCardReq()})},t.prototype.showFooterPlay=function(e){this.enableBtnState(this.btn_split,1==e[0]),this.enableBtnState(this.btn_double,1==e[1]),this.btn_stop.active=!0,this.btn_hit.active=!0,this.showView(!0)},t.prototype.showView=function(e){this.node.active=e},t.prototype.enableBtnState=function(e,t){e.children[0].active=t,e.children[1].active=!t},r([l(cc.Node)],t.prototype,"btn_split",void 0),r([l(cc.Node)],t.prototype,"btn_double",void 0),r([l(cc.Node)],t.prototype,"btn_stop",void 0),r([l(cc.Node)],t.prototype,"btn_hit",void 0),t=r([s],t)}(cc.Component);o.default=p,cc._RF.pop()},{"../../../common/utils/Utils":void 0,"../../../manager/NetManager":void 0}],ESYDFooter:[function(e,t,o){"use strict";cc._RF.push(t,"e9e6751agxMC7KYEYjkymuz","ESYDFooter");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,a=arguments.length,i=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(i=(a<3?r(i):a>3?r(t,o,i):r(t,o))||i);return a>3&&i&&Object.defineProperty(t,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var a=e("./ESYDFooterBet"),i=e("./ESYDFooterInsure"),c=e("./ESYDFooterPlay"),s=cc._decorator,l=s.ccclass,p=s.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ESYDFooterBet=null,t.ESYDFooterInsure=null,t.ESYDFooterPlay=null,t}return n(t,e),t.prototype.onLoad=function(){this.ESYDFooterBet.ESYDFooter=this},t.prototype.showFooterBet=function(e,t){this.ESYDFooterBet.showFooterBet(e,t)},t.prototype.showFooterInsure=function(e){this.ESYDFooterInsure.showView(e)},t.prototype.showFooterPlay=function(e){this.ESYDFooterPlay.showFooterPlay(e)},r([p(a.default)],t.prototype,"ESYDFooterBet",void 0),r([p(i.default)],t.prototype,"ESYDFooterInsure",void 0),r([p(c.default)],t.prototype,"ESYDFooterPlay",void 0),t=r([l],t)}(cc.Component);o.default=d,cc._RF.pop()},{"./ESYDFooterBet":"ESYDFooterBet","./ESYDFooterInsure":"ESYDFooterInsure","./ESYDFooterPlay":"ESYDFooterPlay"}],ESYDGameScene:[function(e,t,o){"use strict";cc._RF.push(t,"32a70E5rXlNQro/2Q9scjMT","ESYDGameScene");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,a=arguments.length,i=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(i=(a<3?r(i):a>3?r(t,o,i):r(t,o))||i);return a>3&&i&&Object.defineProperty(t,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var a=e("./ESYDGameView"),i=e("../../../manager/EventManager"),c=e("../../../net/NetCmd"),s=e("../protocol/ESYDCmd"),l=e("../../../manager/UIManager"),p=e("../../../common/log/LogWrap"),d=e("../../../Define"),u=cc._decorator,_=u.ccclass,h=u.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.GameView=null,t}return n(t,e),t.prototype.onLoad=function(){this.GameView.GameScene=this,this.initEvent()},t.prototype.initEvent=function(){i.EventManager.on(this,c.ProtocolGameCmd.GameLoginResp,this.onGameLoginResp.bind(this)),i.EventManager.on(this,c.ProtocolGameCmd.MatchResp,this.onMatchResp.bind(this)),i.EventManager.on(this,c.ProtocolGameCmd.CancelMatchResp,this.onCancelMatchResp.bind(this)),i.EventManager.on(this,s.ProtocolESYDCmd.GameStartNotify,this.onGameStart.bind(this)),i.EventManager.on(this,s.ProtocolESYDCmd.GameBetNotify,this.onSubGameBet.bind(this)),i.EventManager.on(this,s.ProtocolESYDCmd.GameSendCardNotify,this.onSendCardNotify.bind(this)),i.EventManager.on(this,s.ProtocolESYDCmd.GameBuyInsureNotify,this.onBuyInsureNotify.bind(this)),i.EventManager.on(this,s.ProtocolESYDCmd.GameInsurePosNotify,this.onBuyInsurePosNotify.bind(this)),i.EventManager.on(this,s.ProtocolESYDCmd.GameOperateNotify,this.onOperateNotify.bind(this)),i.EventManager.on(this,s.ProtocolESYDCmd.GameBankerHoleCardNotify,this.onBankerHoleCardNotify.bind(this)),i.EventManager.on(this,s.ProtocolESYDCmd.GameBankerShowCardNotify,this.onBankerShowCardNotify.bind(this)),i.EventManager.on(this,s.ProtocolESYDCmd.GameConcludeNotify,this.onSubGameEnd.bind(this)),i.EventManager.on(this,s.ProtocolESYDCmd.GameChooseBetPosRes,this.onGameChooseBetPosRes.bind(this)),i.EventManager.on(this,s.ProtocolESYDCmd.GameBetRes,this.onGameBetRes.bind(this)),i.EventManager.on(this,s.ProtocolESYDCmd.GameBetFinishRes,this.onGameBetFinishRes.bind(this)),i.EventManager.on(this,s.ProtocolESYDCmd.GameBuyInsureRes,this.onGameBuyInsureRes.bind(this)),i.EventManager.on(this,s.ProtocolESYDCmd.GameStopCardRes,this.onGameStopCardRes.bind(this)),i.EventManager.on(this,s.ProtocolESYDCmd.GameGetCardRes,this.onGameGetCardRes.bind(this)),i.EventManager.on(this,s.ProtocolESYDCmd.GameSeparateCardRes,this.onGameSeparateCardRes.bind(this)),i.EventManager.on(this,s.ProtocolESYDCmd.GameDoubleRes,this.onGameDoubleRes.bind(this)),i.EventManager.on(this,s.ProtocolESYDCmd.GameReconnectInfo,this.onGameReconnectInfo.bind(this)),i.EventManager.on(this,d.EventDef.UpdateUserGold,this.onUpdateUserScore.bind(this))},t.prototype.onGameLoginResp=function(e){p.LogWrap.log("\u6548\u9a8c\u6210\u529f====>",e),this.GameView.resetGameView(),this.GameView.initUserInfo(),0==e.state&&this.GameView.ESYDCenter.showReady(!0)},t.prototype.onMatchResp=function(e){1==e.status?(p.LogWrap.log("\u5339\u914d\u6210\u529f====>",e),l.UIManager.hideLoading()):2==e.status||4==e.status?(l.UIManager.showTips(2==e.status?"\u5339\u914d\u8d85\u65f6":"\u91d1\u5e01\u4e0d\u8db3"),this.GameView.ESYDCenter.showReady(!0),l.UIManager.hideLoading()):3==e.status?(p.LogWrap.log("\u5339\u914d\u88ab\u53d6\u6d88"),l.UIManager.hideLoading()):100==e.status&&(l.UIManager.showTips("\u5339\u914d\u5931\u8d25"),this.GameView.ESYDCenter.showReady(!0),l.UIManager.hideLoading())},t.prototype.onCancelMatchResp=function(e){l.UIManager.showTips(e.ok?"\u53d6\u6d88\u5339\u914d\u6210\u529f":"\u53d6\u6d88\u5339\u914d\u5931\u8d25"),e.ok&&this.GameView.ESYDCenter.showReady(!0)},t.prototype.onGameStart=function(e){p.LogWrap.log("\u6e38\u620f\u5f00\u59cb",e),this.GameView.onGameStart(e)},t.prototype.onSubGameBet=function(e){p.LogWrap.log("%c \u901a\u77e5\u5f00\u59cb\u4e0b\u6ce8","font-size:30px;color:blue;",e),this.GameView.onSubGameBet(e)},t.prototype.onSendCardNotify=function(e){p.LogWrap.log("%c \u901a\u77e5\u53d1\u724c","font-size:28px;color:red;",e),this.GameView.onSendCardNotify(e)},t.prototype.onBuyInsureNotify=function(e){p.LogWrap.log("%c \u901a\u77e5\u6240\u6709\u73a9\u5bb6\u4e70\u4fdd\u9669","font-size:26px;color:red;",e),this.GameView.onBuyInsureNotify(e)},t.prototype.onBuyInsurePosNotify=function(e){p.LogWrap.log("%c \u4e70\u4fdd\u9669\u4f4d\u7f6e\u901a\u77e5","font-size:26px;color:red;",e),this.GameView.onBuyInsurePosNotify(e)},t.prototype.onOperateNotify=function(e){p.LogWrap.log("%c \u901a\u77e5\u73a9\u5bb6\u64cd\u4f5c","font-size:26px;color:green;",e),this.GameView.onOperateNotify(e)},t.prototype.onBankerHoleCardNotify=function(e){p.LogWrap.log("%c \u5e84\u5bb6\u63ed\u5e95\u724c\u901a\u77e5","font-size:26px;color:#3535C3;",e),this.GameView.onBankerHoleCardNotify(e)},t.prototype.onBankerShowCardNotify=function(e){p.LogWrap.log("%c \u5e84\u5bb6\u5f00\u724c\u901a\u77e5","font-size:26px;color:blue;",e),this.GameView.onBankerShowCardNotify(e)},t.prototype.onSubGameEnd=function(e){this.GameView.onSubGameEnd(e)},t.prototype.onGameChooseBetPosRes=function(e){this.GameView.onGameChooseBetPosRes(e)},t.prototype.onGameBetRes=function(e){this.GameView.onGameBetRes(e)},t.prototype.onGameBetFinishRes=function(e){this.GameView.onGameBetFinishRes(e)},t.prototype.onGameBuyInsureRes=function(e){this.GameView.onGameBuyInsureRes(e)},t.prototype.onGameStopCardRes=function(e){this.GameView.onGameStopCardRes(e)},t.prototype.onGameGetCardRes=function(e){this.GameView.onGameGetCardRes(e)},t.prototype.onGameSeparateCardRes=function(e){this.GameView.onGameSeparateCardRes(e)},t.prototype.onGameDoubleRes=function(e){this.GameView.onGameDoubleRes(e)},t.prototype.onGameReconnectInfo=function(e){p.LogWrap.log("%c \u91cd\u8fde\u52a0\u5165\u623f\u95f4","font-size:30px;color:red;",e),this.GameView.onSubJoinRoom(e)},t.prototype.onUpdateUserScore=function(){this.GameView.onUpdateUserScore()},t.prototype.onDestroy=function(){i.EventManager.off(this)},r([h(a.default)],t.prototype,"GameView",void 0),t=r([_],t)}(cc.Component);o.default=f,cc._RF.pop()},{"../../../Define":void 0,"../../../common/log/LogWrap":void 0,"../../../manager/EventManager":void 0,"../../../manager/UIManager":void 0,"../../../net/NetCmd":void 0,"../protocol/ESYDCmd":"ESYDCmd","./ESYDGameView":"ESYDGameView"}],ESYDGameView:[function(e,t,o){"use strict";cc._RF.push(t,"d64aarwGbZGLKS+oKb+gs1q","ESYDGameView");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,a=arguments.length,i=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(i=(a<3?r(i):a>3?r(t,o,i):r(t,o))||i);return a>3&&i&&Object.defineProperty(t,o,i),i},a=this&&this.__awaiter||function(e,t,o,n){return new(o||(o=Promise))(function(r,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function c(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?r(e.value):new o(function(t){t(e.value)}).then(i,c)}s((n=n.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var o,n,r,a,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(e){return function(t){return s([e,t])}}function s(a){if(o)throw new TypeError("Generator is already executing.");for(;i;)try{if(o=1,n&&(r=2&a[0]?n.return:a[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,a[1])).done)return r;switch(n=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){i.label=a[1];break}if(6===a[0]&&i.label<r[1]){i.label=r[1],r=a;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(a);break}r[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{o=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var c=e("./ESYDCard"),s=e("../../public/createPoker"),l=e("./ESYDTool"),p=e("./ESYDPlayer"),d=e("./ESYDAdapter"),u=e("../../../manager/DataManager"),_=e("../../../manager/NetManager"),h=e("./ESYDTop"),f=e("./ESYDFooter"),m=e("../../../manager/UIManager"),y=e("./ESYDCenter"),g=e("../../../common/log/LogWrap"),S=e("./ESYDChrome"),v=e("../ESYDDefine"),E=e("../../../manager/AudioManager"),D=e("../../../manager/ResManager"),b=e("../../../view/common/GameChat"),Y=cc._decorator,C=Y.ccclass,G=Y.property,P=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ESYDTop=null,t.ESYDCenter=null,t.ESYDFooter=null,t.ESYDCard=[],t.ESYDPlayer=[],t.ESYDChrome=[],t.banker_node=null,t.esydSend=null,t.chrome=null,t.ALREADY_BET=!1,t.BET_DONE=!1,t.isStartGame=!1,t.win_gold=0,t}return n(t,e),t.prototype.onLoad=function(){var e=this;E.AudioManager.playGameBGM("esyd_bgm"),this.ESYDCenter.GameView=this,this.ESYDChrome.forEach(function(t){t.GameView=e}),this.initChat()},t.prototype.initChat=function(){return a(this,void 0,void 0,function(){var e,t;return i(this,function(o){switch(o.label){case 0:return[4,D.ResManager.loadResAsync("prefabs/common/GameChat",cc.Prefab,!1)];case 1:return(e=o.sent())&&cc.isValid(this.node)&&!this.node.getChildByName("GameChat")&&(t=cc.instantiate(e),this.node.addChild(t),t.getComponent(b.default).setTalkPositionY()),[2]}})})},t.prototype.initUserInfo=function(){var e={username:d.ESYDAdapter.getSubStringLengTxt(u.DataManager.userInfo.nickname)||d.ESYDAdapter.getReplaceStrToStar(u.DataManager.userInfo.userid),gold:u.DataManager.userInfo.gold,headimg_id:u.DataManager.userInfo.headimgurl};this.ESYDPlayer[0].setUserInfo(e)},t.prototype.resetGameView=function(){this.node.stopAllActions(),_.NetManager.getGameProtocol().ResetData(),this.ALREADY_BET=!1,this.BET_DONE=!1,this.ESYDPlayer.forEach(function(e){e.initUser()}),this.initUserInfo(),this.ESYDCard.forEach(function(e){e.resetView()}),this.ESYDChrome.forEach(function(e){e.resetView()}),this.ESYDCenter.hideDirect(),this.ESYDCenter.showReady(!1),this.ESYDCenter.showShare(!1),this.ESYDFooter.showFooterInsure(!1),this.ESYDFooter.ESYDFooterBet.showView(!1),this.ESYDFooter.ESYDFooterPlay.showView(!1)},t.prototype.onSubJoinRoom=function(e){var t=this;this.resetGameView();var o=e.game_start_notify;this.onGameStart(o),_.NetManager.getGameProtocol().BET_SEAT=_.NetManager.getGameProtocol().MY_SEAT,_.NetManager.getGameProtocol().MIN_BET_NUM=e.min_bet_value,_.NetManager.getGameProtocol().MAX_BET_NUM=e.max_bet_value,this.ESYDTop.setMaxAnteNum(e.max_bet_value);var n=[],r=[];e.game_player_data.forEach(function(e,o){var a=e.seat_id,i=l.ESYDTool.getLocalIndex(a),c=e.is_main;if(c&&0==i&&e,0==c){var s={username:e.username,player_id:e.player_id};t.ESYDPlayer[i].showOccupy(s,a)}for(var p=e.hand_card_info,d=p.length,u=e.double_bet_idx,_=0;_<p.length;_++){var h=p[_],f=h.card_index,m=h.card_arr,y=h.card_value_str,g=h.card_type;t.ESYDCard[i].recHandCard(d,f,m,u==f),1==g?t.ESYDCard[i].showValue(f,y):2==g?t.ESYDCard[i].showBoom(f):t.ESYDCard[i].showCardType(f,g)}n[i]=e.bet_station;var S=e.cur_bet;t.ESYDChrome[i].showBetNum(S),S>0&&t.ESYDChrome[i].recChrome(d,3);var v=e.is_buy_insure;t.ESYDPlayer[i].setInsure(v),e.is_continue_buy&&c&&r.push(a)}),e.left_bet_seat.forEach(function(e){var o=l.ESYDTool.getLocalIndex(e);t.ESYDChrome[o].showBetTips(!0,e)});var a=e.banker_card_info,i=a.banker_card,c=a.banker_card_value_str,s=a.banker_card_type;this.ESYDCard[v.DEALER_POS].recHandCard(1,1,i,!1),1==s?this.ESYDCard[v.DEALER_POS].showValue(1,c):2==s?this.ESYDCard[v.DEALER_POS].showBoom(1):this.ESYDCard[v.DEALER_POS].showCardType(1,s);var p=e.game_station,d=e.time_out,u=e.state_time_out;1==p||(2==p?n.forEach(function(e,o){if(0==o&&(1==e?t.ESYDFooter.showFooterBet(1,!1):2==e?(t.ALREADY_BET=!0,t.ESYDFooter.showFooterBet(2,!1)):3==e&&(t.BET_DONE=!0)),3!=e){var n={limit_time:d,state_time_num:u,playAudio:0==o&&1==e,vibrate:0==o&&1==e};t.ESYDPlayer[o].setGameTimer(n)}}):3==p||4==p&&r.forEach(function(e){var o=l.ESYDTool.getLocalIndex(e),n={limit_time:d,state_time_num:u,playAudio:0==o,vibrate:0==o};t.ESYDPlayer[o].setGameTimer(n),0==o&&t.ESYDFooter.showFooterInsure(!0)})),p>2&&this.ESYDPlayer.forEach(function(e){e.showPlayerStatus(!1)}),this.isStartGame=!0,7==p&&(this.isStartGame=!1,this.ESYDCenter.showReady(!0))},t.prototype.onGameStart=function(e){var t=this;m.UIManager.hideLoading(),_.NetManager.protocolGameCommon.needFlushGold=!1,this.isStartGame=!0,this.resetGameView(),_.NetManager.getGameProtocol().PLAYER_DATAS=e.player_list;for(var o=0;o<e.player_list.length;o++){var n=e.player_list[o];n.player_id==u.DataManager.userInfo.userid&&(_.NetManager.getGameProtocol().MY_DATA=n,_.NetManager.getGameProtocol().MY_SEAT=n.seat_id,_.NetManager.getGameProtocol().GAME_GOLD=n.gold,g.LogWrap.log("\u6211\u7684\u7528\u6237\u4fe1\u606f======>",n))}_.NetManager.getGameProtocol().PLAYER_DATAS.forEach(function(e){var o=l.ESYDTool.getLocalIndex(e.seat_id);t.ESYDPlayer[o].setUserInfo(e),t.ESYDPlayer[o].setSeatNum(e.seat_id)})},t.prototype.onSubGameBet=function(e){var t=this;_.NetManager.getGameProtocol().MAX_BET_NUM=e.max_bet_value,_.NetManager.getGameProtocol().MIN_BET_NUM=e.min_bet_value,_.NetManager.getGameProtocol().BET_SEAT=_.NetManager.getGameProtocol().MY_SEAT,this.ESYDTop.setMaxAnteNum(e.max_bet_value);var o=_.NetManager.getGameProtocol().LAST_BET_NUM>0;this.ESYDFooter.showFooterBet(1,o);var n=e.time_out;_.NetManager.getGameProtocol().PLAYER_DATAS.forEach(function(e){var o=l.ESYDTool.getLocalIndex(e.seat_id),r={limit_time:n,playAudio:0==o,vibrate:0==o};t.ESYDPlayer[o].setGameTimer(r)})},t.prototype.GameChromeAni=function(e,t,o,n){for(var r=this.ESYDPlayer[t],a=this.ESYDChrome[e],i=r.node.parent.convertToWorldSpaceAR(r.node.position),c=a.node.convertToNodeSpaceAR(i),s=a.chrome_di.position,l=function(e){var t=cc.instantiate(p.chrome);t.setPosition(c),t.active=!0,a.node.addChild(t);var n=cc.sequence(cc.delayTime(.1*e),cc.moveTo(.2,s),cc.callFunc(function(){t.removeFromParent(),t.parent=1==o?a.main_content:a.split_content}));t.runAction(n)},p=this,d=0;d<n;d++)l(d);E.AudioManager.playSFX("flychip")},t.prototype.onGameBetRes=function(e){var t=this,o=e.result,n=e.player_seat_id,r=l.ESYDTool.getLocalIndex(n);if(0==o){var a=e.bet_seat_id,i=l.ESYDTool.getLocalIndex(a),c=e.bet_value;this.ESYDChrome[i].showBetNum(c),this.GameChromeAni(i,r,1,3);var s=e.left_gold;0==r&&(this.ALREADY_BET||(_.NetManager.getGameProtocol().LAST_BET_NUM=c,this.ALREADY_BET=!0),_.NetManager.getGameProtocol().GAME_GOLD=s),this.ESYDPlayer[r].setUserScore(s);var p=e.left_bet_seat;p.length>0&&this.ALREADY_BET&&!this.BET_DONE&&p.forEach(function(e){var o=l.ESYDTool.getLocalIndex(e);t.ESYDChrome[o].showBetTips(!0,e)}),0==r&&this.ESYDFooter.showFooterBet(2,!1)}else if(0==r)switch(o){case 1:m.UIManager.showTips("\u975e\u6cd5\u72b6\u6001");break;case 2:m.UIManager.showTips("\u975e\u6cd5\u4e0b\u6ce8\u989d");break;case 3:m.UIManager.showTips("\u91d1\u5e01\u4e0d\u8db3");break;case 4:m.UIManager.showTips("\u4e0b\u6ce8\u5ea7\u4f4d\u88ab\u5360\u7528");break;case 5:m.UIManager.showTips("\u8be5\u4f4d\u7f6e\u5f53\u524d\u73a9\u5bb6\u5df2\u7ecf\u4e0b\u6ce8")}},t.prototype.onGameChooseBetPosRes=function(e){if(0==e.result){var t=e.player_seat_id,o=l.ESYDTool.getLocalIndex(t),n=e.choose_seat_id,r=l.ESYDTool.getLocalIndex(n),a=l.ESYDTool.getPlayerInfo(t);this.ESYDPlayer[r].showOccupy(a,n),0==o&&this.ESYDFooter.showFooterBet(1,!1),_.NetManager.getGameProtocol().BET_SEAT=n,this.ESYDChrome.forEach(function(e){e.showBetTips(!1)})}},t.prototype.onGameBetFinishRes=function(e){if(0==e.result){var t=l.ESYDTool.getLocalIndex(e.player_seat_id);this.ESYDPlayer[t].onKillTimer(),0==t&&(this.BET_DONE=!0,this.ESYDChrome.forEach(function(e){e.showBetTips(!1)}),this.ESYDFooter.ESYDFooterBet.showView(!1))}},t.prototype.onSendCardNotify=function(e){var t=this;this.ESYDChrome.forEach(function(e){e.showBetTips(!1)}),this.ESYDFooter.ESYDFooterBet.showView(!1),_.NetManager.getGameProtocol().PLAYER_DATAS.forEach(function(e){var o=l.ESYDTool.getLocalIndex(e.seat_id);t.ESYDPlayer[o].onKillTimer()});var o=e.player_card;this.StartSendCard(o)},t.prototype.StartSendCard=function(e){for(var t=e.length,o=function(o){var r=e[o],a=r.seat_id,i=l.ESYDTool.getLocalIndex(a),c=n.ESYDCard[i];c.resetView();for(var p=function(e){var a=r.card_arr,i=c.createPoker(1,1,a[e]),l=i.parent.convertToWorldSpaceAR(i.position),p=cc.v2(n.esydSend.convertToNodeSpaceAR(l)),d=.2*(o+t*e),u=cc.instantiate(c.poker);u.getComponent(s.default).createPoker(0),u.scale=.9,n.esydSend.addChild(u);var _=cc.sequence(cc.delayTime(d),cc.callFunc(function(){E.AudioManager.playSFX("licensing")}),cc.moveTo(.2,p),cc.callFunc(function(){u.destroy(),i.opacity=255,1==e&&(1==r.card_type?c.showValue(1,r.card_value_str):2==r.card_type?c.showBoom(1):c.showCardType(1,r.card_type))}));u.runAction(_)},d=0;d<2;d++)p(d)},n=this,r=0;r<t;r++)o(r)},t.prototype.GameSendCard=function(e,t,o){var n=this.ESYDCard[e],r=-1==_.NetManager.getGameProtocol().SPLIT_ARR.indexOf(e)?1:2,a=t.card_index,i=n.createPoker(r,a,t.card_value),c=i.parent.convertToWorldSpaceAR(i.position),l=cc.v2(this.esydSend.convertToNodeSpaceAR(c));o&&n.showDoubleCard(i);var p=cc.instantiate(n.poker);p.getComponent(s.default).createPoker(0),p.scale=.9,this.esydSend.addChild(p);var d=cc.sequence(cc.moveTo(.2,l),cc.callFunc(function(){p.destroy(),i.opacity=255,1==t.card_type?n.showValue(a,t.card_value_str):2==t.card_type?n.showBoom(a):n.showCardType(a,t.card_type)}));p.runAction(d),E.AudioManager.playSFX("licensing")},t.prototype.onBuyInsureNotify=function(e){var t=this,o=e.time_out,n=e.state_time_out;_.NetManager.getGameProtocol().PLAYER_DATAS.forEach(function(e){var r=l.ESYDTool.getLocalIndex(e.seat_id),a={limit_time:o,state_time_out:n,playAudio:0==r,vibrate:0==r};t.ESYDPlayer[r].setGameTimer(a)})},t.prototype.onBuyInsurePosNotify=function(e){var t=e.insure_seat_id,o=l.ESYDTool.getLocalIndex(t);this.ESYDChrome[o].showBuyTips(!0),this.ESYDFooter.showFooterInsure(!0)},t.prototype.onGameBuyInsureRes=function(e){var t=e.result,o=e.player_seat_id,n=l.ESYDTool.getLocalIndex(o);if(0==t){var r=e.buy_seat_id,a=e.left_gold,i=e.is_buy,c=e.is_continue_buy,s=e.bet_value;0==n&&(_.NetManager.getGameProtocol().GAME_GOLD=a),this.ESYDPlayer[n].setUserScore(a);var p=l.ESYDTool.getLocalIndex(r);this.ESYDChrome[p].showBuyTips(!1),this.ESYDPlayer[p].setInsure(i),i&&(this.ESYDChrome[p].showBetNum(s),this.GameChromeAni(p,n,1,1)),c||this.ESYDPlayer[n].onKillTimer()}else 0==n&&m.UIManager.showTips("\u91d1\u5e01\u4e0d\u8db3")},t.prototype.onOperateNotify=function(e){this.ESYDFooter.showFooterInsure(!1),this.ESYDPlayer.forEach(function(e){e.onKillTimer()}),this.ESYDCard.forEach(function(e){e.recGreyCard()});var t=e.time_out,o=e.state_time_out,n=e.operate_seat_id,r=l.ESYDTool.getLocalIndex(n);g.LogWrap.log("%c\u64cd\u4f5c\u4f4d\u7f6e","color:red",r);var a=e.operate_type,i=e.card_index;this.ESYDCard[r].enableGreyCard(i),this.ESYDCenter.displayDirect(r);var c=e.player_seat_id,s=l.ESYDTool.getLocalIndex(c);g.LogWrap.log("%c\u73a9\u5bb6\u4f4d\u7f6e","color:red",s);var p={limit_time:t,state_time_out:o,playAudio:0==s,vibrate:0==s};this.ESYDPlayer[s].setGameTimer(p),0==s&&this.ESYDFooter.showFooterPlay(a),e.turn_next_operate&&this.ESYDPlayer.forEach(function(e){e.showPlayerStatus(!1)})},t.prototype.onGameDoubleRes=function(e){var t=e.left_gold,o=e.card_info,n=e.player_seat_id,r=l.ESYDTool.getLocalIndex(n);0==r&&(_.NetManager.getGameProtocol().GAME_GOLD=t),this.ESYDPlayer[r].setUserScore(t);var a=e.double_seat_id,i=l.ESYDTool.getLocalIndex(a);this.ESYDPlayer[r].showPlayerStatus(!0,"\u53cc\u500d");var c=e.bet_value;if(this.ESYDChrome[i].showBetNum(c),this.GameChromeAni(i,r,o.card_index,3),this.GameSendCard(i,o,!0),3==o.card_type||4==o.card_type){var s=1==l.ESYDTool.getUserSexByID(n)?"male/":"female/",p=3==o.card_type?"wxl":"hjk";E.AudioManager.playGameSFX(s+p,!1)}else if(1==o.card_type&&21==o.card_value_str){s=1==l.ESYDTool.getUserSexByID(n)?"male/":"female/";E.AudioManager.playGameSFX(s+o.card_value_str,!1)}},t.prototype.onGameSeparateCardRes=function(e){var t=e.player_seat_id,o=l.ESYDTool.getLocalIndex(t),n=e.split_seat_id,r=l.ESYDTool.getLocalIndex(n),a={main_card_arr:e.main_card_arr,main_card_value_str:e.main_card_value_str},i={split_card_arr:e.split_card_arr,split_card_value_str:e.split_card_value_str},c=e.left_gold;0==o&&(_.NetManager.getGameProtocol().GAME_GOLD=c),this.ESYDPlayer[o].setUserScore(c),_.NetManager.getGameProtocol().SPLIT_ARR.push(r),this.ESYDPlayer[o].showPlayerStatus(!0,"\u5206\u724c"),this.onSeparateCard(r,a,i),this.onSeparateChrome(r,o);var s=e.bet_value;this.ESYDChrome[r].showBetNum(s)},t.prototype.onSeparateCard=function(e,t,o){var n=this.ESYDCard[e];n.removeCard(),n.createPoker(2,1,t.main_card_arr[0]).opacity=255,n.createPoker(2,2,o.split_card_arr[0]).opacity=255;for(var r=function(e){var r,i,c=void 0;0==e?(c=t.main_card_arr[1],i=t.main_card_value_str,r=1):(c=o.split_card_arr[1],i=o.split_card_value_str,r=2);var l=n.createPoker(2,r,c),p=l.parent.convertToWorldSpaceAR(l.position),d=cc.v2(a.esydSend.convertToNodeSpaceAR(p)),u=.2*e,_=cc.instantiate(n.poker);_.getComponent(s.default).createPoker(0),_.scale=.9,a.esydSend.addChild(_);var h=cc.sequence(cc.delayTime(u),cc.moveTo(.2,d),cc.callFunc(function(){_.destroy(),l.opacity=255,n.showValue(r,i)}));_.runAction(h)},a=this,i=0;i<2;i++)r(i)},t.prototype.onSeparateChrome=function(e,t){this.ESYDChrome[e].setSeparateContent(),this.GameChromeAni(e,t,2,3)},t.prototype.onGameStopCardRes=function(e){if(0==e.result){var t=e.player_seat_id,o=l.ESYDTool.getLocalIndex(t),n=e.stop_seat_id,r=l.ESYDTool.getLocalIndex(n),a=e.card_index,i=e.card_value_str;this.ESYDCard[r].showValue(a,i),0==r&&(this.ESYDFooter.ESYDFooterBet.showView(!1),this.ESYDFooter.ESYDFooterPlay.showView(!1),this.ESYDFooter.ESYDFooterInsure.showView(!1)),this.ESYDPlayer[o].showPlayerStatus(!0,"\u505c\u724c");var c=1==l.ESYDTool.getUserSexByID(t)?"male/":"female/";E.AudioManager.playGameSFX(c+i,!1)}},t.prototype.onGameGetCardRes=function(e){var t=e.card_info,o=e.player_seat_id,n=l.ESYDTool.getLocalIndex(o),r=e.get_seat_id,a=l.ESYDTool.getLocalIndex(r);if(this.GameSendCard(a,t),this.ESYDPlayer[n].showPlayerStatus(!0,"\u8981\u724c"),3==t.card_type||4==t.card_type){var i=1==l.ESYDTool.getUserSexByID(o)?"male/":"female/",c=3==t.card_type?"wxl":"hjk";E.AudioManager.playGameSFX(i+c,!1)}else if(1==t.card_type&&21==t.card_value_str){i=1==l.ESYDTool.getUserSexByID(o)?"male/":"female/";E.AudioManager.playGameSFX(i+t.card_value_str,!1)}},t.prototype.onBankerHoleCardNotify=function(e){this.ESYDPlayer.forEach(function(e){e.showPlayerStatus(!1),e.onKillTimer()}),this.ESYDCard.forEach(function(e){e.recGreyCard()}),this.ESYDCenter.hideDirect(),this.ESYDFooter.ESYDFooterPlay.showView(!1);var t=this.ESYDCard[v.DEALER_POS];if(t.content_main.children[1].getComponent(s.default).setCardAni(e.banker_card),1==e.card_type?t.showValue(1,e.card_value_str):2==e.card_type?t.showBoom(1):t.showCardType(1,e.card_type),1==e.end_action)if(3==e.card_type||4==e.card_type){var o=3==e.card_type?"wxl":"hjk";E.AudioManager.playGameSFX("female/"+o,!1)}else 1==e.card_type&&E.AudioManager.playGameSFX("female/"+e.card_value_str,!1)},t.prototype.onBankerShowCardNotify=function(e){this.ESYDCenter.hideDirect();var t={card_index:1,card_value:e.banker_card,card_value_str:e.card_value_str,card_type:e.card_type};if(this.GameSendCard(v.DEALER_POS,t),1==e.end_action)if(3==e.card_type||4==e.card_type){var o=3==e.card_type?"wxl":"hjk";E.AudioManager.playGameSFX("female/"+o,!1)}else 1==e.card_type&&E.AudioManager.playGameSFX("female/"+e.card_value_str,!1)},t.prototype.onLoseGhromeAni=function(e,t){if(0!=e.length){var o=this.banker_node.parent.convertToWorldSpaceAR(this.banker_node.position);for(var n in e)for(var r=e[n],a=0;a<r.length;a++){var i=1==r[a]?this.ESYDChrome[n].main_content:this.ESYDChrome[n].split_content,c=i.childrenCount;i.destroyAllChildren();for(var s=cc.v2(this.ESYDChrome[n].node.convertToNodeSpaceAR(o)),l=function(e){var t=cc.instantiate(p.chrome);t.active=!0,p.ESYDChrome[n].node.addChild(t);var o=cc.sequence(cc.delayTime(.1*e),cc.moveTo(.2,s),cc.callFunc(function(){t.removeFromParent()}));t.runAction(o)},p=this,d=0;d<c;d++)l(d)}E.AudioManager.playSFX("flychip"),this.node.runAction(cc.sequence(cc.delayTime(1.5),cc.callFunc(function(){t()})))}else t()},t.prototype.onWinChromeAni=function(e,t){if(0!=e.length){var o=this.banker_node.parent.convertToWorldSpaceAR(this.banker_node.position);for(var n in e)for(var r=e[n],a=function(e){for(var t=1==r[e]?i.ESYDChrome[n].main_content:i.ESYDChrome[n].split_content,a=cc.v2(i.ESYDChrome[n].node.convertToNodeSpaceAR(o)),c=t.position,s=function(e){var o=cc.instantiate(i.chrome);o.active=!0,o.setPosition(a),i.ESYDChrome[n].node.addChild(o);var r=cc.sequence(cc.delayTime(.1*e),cc.moveTo(.2,c),cc.callFunc(function(){o.removeFromParent(),t.addChild(o)}));o.runAction(r)},l=0;l<3;l++)s(l)},i=this,c=0;c<r.length;c++)a(c);E.AudioManager.playSFX("flychip"),this.node.runAction(cc.sequence(cc.delayTime(1.5),cc.callFunc(function(){t()})))}else t()},t.prototype.onSubGameEnd=function(e){var t=this;this.isStartGame=!1;var o=e.result_info,n=[],r=[],a=e.area_result;a.forEach(function(e){for(var t=e.area_seat_id,o=l.ESYDTool.getLocalIndex(t),a=e.result,i=0;i<a.length;i++){var c=a[i].chrome_index,s=a[i].result_status;1==s?(r[o]||(r[o]=[]),r[o].push(c)):-1==s&&(n[o]||(n[o]=[]),n[o].push(c))}});var i=[];this.scheduleOnce(function(){_.NetManager.protocolGameCommon.needFlushGold&&_.NetManager.protocolGameCommon.flushPlayerInfo.forEach(function(e){var t=l.ESYDTool.getLocalIndex(e.seat_id);i[t]=e.gold})},.1);this.onLoseGhromeAni(n,function(){t.onWinChromeAni(r,function(){a.forEach(function(e,n){var r=e.area_seat_id,c=l.ESYDTool.getLocalIndex(r),s=e.total_score;t.ESYDPlayer[c].flutterScore(s,cc.v2(0,80),function(){n==a.length-1&&o.forEach(function(e){var o=e.player_seat_id,n=l.ESYDTool.getLocalIndex(o),r=i[n]?i[n]:e.gold,a=e.score;t.ESYDPlayer[n].setUserScore(r),0==n&&(_.NetManager.getGameProtocol().GAME_GOLD=r,u.DataManager.userInfo.gold=r,_.NetManager.protocolGameCommon.needFlushGold=!1,t.ESYDCenter.showReady(!0),a>0&&(t.win_gold=a,t.ESYDCenter.showShare(!0)))})})})})})},t.prototype.onUpdateUserScore=function(){this.isStartGame||this.ESYDPlayer[0].setUserScore(u.DataManager.userInfo.gold)},r([G(h.default)],t.prototype,"ESYDTop",void 0),r([G(y.default)],t.prototype,"ESYDCenter",void 0),r([G(f.default)],t.prototype,"ESYDFooter",void 0),r([G(c.default)],t.prototype,"ESYDCard",void 0),r([G(p.default)],t.prototype,"ESYDPlayer",void 0),r([G(S.default)],t.prototype,"ESYDChrome",void 0),r([G(cc.Node)],t.prototype,"banker_node",void 0),r([G(cc.Node)],t.prototype,"esydSend",void 0),r([G(cc.Node)],t.prototype,"chrome",void 0),t=r([C],t)}(cc.Component);o.default=P,cc._RF.pop()},{"../../../common/log/LogWrap":void 0,"../../../manager/AudioManager":void 0,"../../../manager/DataManager":void 0,"../../../manager/NetManager":void 0,"../../../manager/ResManager":void 0,"../../../manager/UIManager":void 0,"../../../view/common/GameChat":void 0,"../../public/createPoker":void 0,"../ESYDDefine":"ESYDDefine","./ESYDAdapter":"ESYDAdapter","./ESYDCard":"ESYDCard","./ESYDCenter":"ESYDCenter","./ESYDChrome":"ESYDChrome","./ESYDFooter":"ESYDFooter","./ESYDPlayer":"ESYDPlayer","./ESYDTool":"ESYDTool","./ESYDTop":"ESYDTop"}],ESYDPlayer:[function(e,t,o){"use strict";cc._RF.push(t,"6a70cpMno9Jya6E3OtvB4ot","ESYDPlayer");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,a=arguments.length,i=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(i=(a<3?r(i):a>3?r(t,o,i):r(t,o))||i);return a>3&&i&&Object.defineProperty(t,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../../public/BorderTime"),i=e("./ESYDAdapter"),c=e("../../../common/UIHelper"),s=cc._decorator,l=s.ccclass,p=s.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.player_node=null,t.sprHead=null,t.border_time=null,t.user_name=null,t.user_money=null,t.icon_insurance=null,t.flutter=null,t.seat_num=null,t.status_text=null,t.occupy_node=null,t.occupy_name=null,t.occupy_seat_num=null,t.occupy_insurance=null,t.lose_score=null,t.win_score=null,t.interVal=null,t}return n(t,e),t.prototype.onLoad=function(){this.originFlutterPos=this.flutter.node.position},t.prototype.initUser=function(){this.sprHead.spriteFrame=null,this.border_time.onKillTimer(),this.user_name.string="",this.user_money.string="",this.icon_insurance.active=!1,this.flutter.node.stopAllActions(),this.flutter.node.active=!1,this.flutter.string="",this.unschedule(this.interVal),this.interVal=null,this.seat_num.string="",this.seat_num.node.parent.active=!1,this.status_text.string="",this.status_text.node.parent.active=!1,this.player_node.active=!1,this.occupy_name.string="",this.occupy_seat_num.string="",this.occupy_insurance.active=!1,this.occupy_node.active=!1,this.node.active=!1},t.prototype.setUserHead=function(e){c.default.setHeadIcon(e,this.sprHead.node)},t.prototype.setUserScore=function(e){this.user_money.string=i.ESYDAdapter.getFormatGold(e)},t.prototype.setUserInfo=function(e){var t=e,o=i.ESYDAdapter.getSubStringLengTxt(e.username)||i.ESYDAdapter.getReplaceStrToStar(e.player_id);this.user_name.string=o,this.setUserHead(e.headimg_id),this.setUserScore(t.gold),this.player_node.active=!0,this.node.active=!0},t.prototype.showOccupy=function(e,t){var o=i.ESYDAdapter.getSubStringLengTxt(e.username)||i.ESYDAdapter.getReplaceStrToStar(e.player_id);this.occupy_name.string=o,this.occupy_seat_num.string=t,this.occupy_node.active=!0,this.node.active=!0},t.prototype.setGameTimer=function(e){this.border_time.setGameTimer({limit_time:e.limit_time,all_limit_time:e.state_time_num||null,playAudio:e.playAudio||null,vibrate:e.vibrate||null})},t.prototype.onKillTimer=function(){this.border_time.onKillTimer()},t.prototype.setInsure=function(e){this.icon_insurance.active=e,this.occupy_insurance.active=e},t.prototype.setSeatNum=function(e){this.seat_num.string=e,this.seat_num.node.parent.active=!0},t.prototype.showPlayerStatus=function(e,t){e&&(this.status_text.string=t),this.status_text.node.parent.active=e},t.prototype.flutterScore=function(e,t,o){var n=this;this.flutter.node.position=this.originFlutterPos,this.flutter.node.active=!0;var r="";e>=0?(this.flutter.font=this.win_score,r="+"):(this.flutter.font=this.lose_score,r="-");var a=Math.abs(e),i=a/parseFloat(50..toFixed(2)),c=0,s="";this.interVal=function(){s=(c+=i).toFixed(2),n.flutter.string=r+s,c>=a&&(s=a.toString(),n.flutter.string=r+parseFloat(s).toFixed(2),n.unschedule(n.interVal))},this.schedule(this.interVal,.01,cc.macro.REPEAT_FOREVER);var l=cc.moveBy(.5,t),p=cc.sequence(l,cc.delayTime(.5),cc.callFunc(function(){o&&o()}));this.flutter.node.runAction(p)},t.prototype.onDestroy=function(){this.unschedule(this.interVal),this.interVal=null},r([p(cc.Node)],t.prototype,"player_node",void 0),r([p(cc.Sprite)],t.prototype,"sprHead",void 0),r([p(a.default)],t.prototype,"border_time",void 0),r([p(cc.Label)],t.prototype,"user_name",void 0),r([p(cc.Label)],t.prototype,"user_money",void 0),r([p(cc.Node)],t.prototype,"icon_insurance",void 0),r([p(cc.Label)],t.prototype,"flutter",void 0),r([p(cc.Label)],t.prototype,"seat_num",void 0),r([p(cc.Label)],t.prototype,"status_text",void 0),r([p(cc.Node)],t.prototype,"occupy_node",void 0),r([p(cc.Label)],t.prototype,"occupy_name",void 0),r([p(cc.Label)],t.prototype,"occupy_seat_num",void 0),r([p(cc.Node)],t.prototype,"occupy_insurance",void 0),r([p(cc.BitmapFont)],t.prototype,"lose_score",void 0),r([p(cc.BitmapFont)],t.prototype,"win_score",void 0),t=r([l],t)}(cc.Component);o.default=d,cc._RF.pop()},{"../../../common/UIHelper":void 0,"../../public/BorderTime":void 0,"./ESYDAdapter":"ESYDAdapter"}],ESYDTool:[function(e,t,o){"use strict";cc._RF.push(t,"b48986mtUpFIrIze6OYff/K","ESYDTool");var n=this&&this.__decorate||function(e,t,o,n){var r,a=arguments.length,i=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(i=(a<3?r(i):a>3?r(t,o,i):r(t,o))||i);return a>3&&i&&Object.defineProperty(t,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../ESYDDefine"),a=e("../../../manager/NetManager"),i=cc._decorator,c=i.ccclass,s=(i.property,function(){function e(){}var t;return t=e,e.prototype.getLocalIndex=function(e){var t=a.NetManager.getGameProtocol().MY_SEAT,o=e;if(6==o)return 5;var n=r.GAME_PLAYER;return(o-t+n)%n},e.prototype.getUserSexByID=function(e){for(var t=0;t<a.NetManager.getGameProtocol().PLAYER_DATAS.length;t++){var o=a.NetManager.getGameProtocol().PLAYER_DATAS[t];if(o.seat_id==e)return o.sex}},e.prototype.getPlayerInfo=function(e){for(var t=a.NetManager.getGameProtocol().PLAYER_DATAS,o=0;o<t.length;o++){var n=t[o];if(n.seat_id==e)return n}},e.instance=new t,e=t=n([c],e)}());o.ESYDTool=s.instance,cc._RF.pop()},{"../../../manager/NetManager":void 0,"../ESYDDefine":"ESYDDefine"}],ESYDTop:[function(e,t,o){"use strict";cc._RF.push(t,"ddb67SM+RtHEb1REXoegvW5","ESYDTop");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,a=arguments.length,i=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(i=(a<3?r(i):a>3?r(t,o,i):r(t,o))||i);return a>3&&i&&Object.defineProperty(t,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,i=a.ccclass,c=a.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ante_num=null,t}return n(t,e),t.prototype.setMaxAnteNum=function(e){this.ante_num.string=e},r([c(cc.Label)],t.prototype,"ante_num",void 0),t=r([i],t)}(cc.Component);o.default=s,cc._RF.pop()},{}],ProtocolESYD:[function(e,t,o){"use strict";cc._RF.push(t,"b5926qcr7pK8rZIk7aKTIiX","ProtocolESYD");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../manager/DataManager"),a=e("../../../net/ProtocolBase"),i=e("../../../manager/NetManager"),c=e("../../../manager/UIManager"),s=e("../../../Define"),l=e("./ESYDCmd"),p=e("../../../common/log/LogWrap"),d=function(e){function t(){var t=e.call(this,"game/esyd/pb")||this;return t.cmd=l.ESYDCmd,t.type=s.SocketType.Game,t.pbName="ESYD",t.PLAYER_DATAS=[],t.MY_DATA=[],t.MY_SEAT=0,t.MAX_BET_NUM=0,t.MIN_BET_NUM=0,t.LAST_BET_NUM=0,t.GAME_GOLD=0,t.BET_SEAT=0,t.SPLIT_ARR=[],t.ResetData=function(){t.PLAYER_DATAS=[],t.MY_DATA=[],t.MY_SEAT=0,t.MAX_BET_NUM=0,t.MIN_BET_NUM=0,t.GAME_GOLD=0,t.BET_SEAT=0,t.SPLIT_ARR=[]},t}return n(t,e),t.prototype.sendChooseBetPosReq=function(e){var t={player_id:r.DataManager.userInfo.userid,choose_seat_id:e};p.LogWrap.log("============>\u9009\u62e9\u4e0b\u6ce8\u4f4d\u7f6e\u8bf7\u6c42"),this.send(t,"game_choose_bet_pos_req")},t.prototype.sendGameBetReq=function(e,t){var o={player_id:r.DataManager.userInfo.userid,bet_seat_id:e,bet_value:t};p.LogWrap.log("============>\u53d1\u9001\u4e0b\u6ce8\u8bf7\u6c42"),this.send(o,"game_bet_req")},t.prototype.sendGameBetFinishReq=function(){var e={player_id:r.DataManager.userInfo.userid};p.LogWrap.log("============>\u53d1\u9001\u4e0b\u6ce8\u5b8c\u6210\u8bf7\u6c42"),this.send(e,"game_bet_finish_req")},t.prototype.sendGameBuyInsureReq=function(e){var t={player_id:r.DataManager.userInfo.userid,is_buy:e};p.LogWrap.log("============>\u53d1\u9001\u4fdd\u9669\u8bf7\u6c42"),this.send(t,"game_buy_insure_req")},t.prototype.sendGameStopCardReq=function(){var e={player_id:r.DataManager.userInfo.userid};p.LogWrap.log("============>\u53d1\u9001\u505c\u724c\u8bf7\u6c42"),this.send(e,"game_stop_card_req")},t.prototype.sendGameGetCardReq=function(){var e={player_id:r.DataManager.userInfo.userid};p.LogWrap.log("============>\u53d1\u9001\u8981\u724c\u8bf7\u6c42"),this.send(e,"game_get_card_req")},t.prototype.sendGameSeparateCardReq=function(){var e={player_id:r.DataManager.userInfo.userid};p.LogWrap.log("============>\u53d1\u9001\u5206\u724c\u8bf7\u6c42"),this.send(e,"game_separate_card_req")},t.prototype.sendGameDoubleReq=function(){var e={player_id:r.DataManager.userInfo.userid};p.LogWrap.log("============>\u53d1\u9001\u53cc\u500d\u8bf7\u6c42"),this.send(e,"game_double_req")},t.prototype.dealError=function(e){c.UIManager.showTipsPopup(e.err_msg)},t}(a.default);o.default=d,i.NetManager.protocolCache.ProtocolESYD=d,cc._RF.pop()},{"../../../Define":void 0,"../../../common/log/LogWrap":void 0,"../../../manager/DataManager":void 0,"../../../manager/NetManager":void 0,"../../../manager/UIManager":void 0,"../../../net/ProtocolBase":void 0,"./ESYDCmd":"ESYDCmd"}]},{},["ESYDDefine","ESYDCmd","ProtocolESYD","ESYDAdapter","ESYDCard","ESYDCenter","ESYDChrome","ESYDFooter","ESYDFooterBet","ESYDFooterInsure","ESYDFooterPlay","ESYDGameScene","ESYDGameView","ESYDPlayer","ESYDTool","ESYDTop"]);