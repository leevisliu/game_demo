window.__require=function e(t,o,n){function i(a,s){if(!o[a]){if(!t[a]){var c=a.split("/");if(c=c[c.length-1],!t[c]){var l="function"==typeof __require&&__require;if(!s&&l)return l(c,!0);if(r)return r(c,!0);throw new Error("Cannot find module '"+a+"'")}a=c}var p=o[a]={exports:{}};t[a][0].call(p.exports,function(e){return i(t[a][1][e]||e)},p,p.exports,e,t,o,n)}return o[a].exports}for(var r="function"==typeof __require&&__require,a=0;a<n.length;a++)i(n[a]);return i}({ProtocolQHB:[function(e,t,o){"use strict";cc._RF.push(t,"cb948ncqsBGKZAvrXrM4XTY","ProtocolQHB");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../manager/DataManager"),r=e("../../../net/ProtocolBase"),a=e("../../../manager/NetManager"),s=e("../../../manager/UIManager"),c=e("../../../Define"),l=e("./QHBCmd"),p=function(e){function t(){var t=e.call(this,"game/qhb/pb")||this;return t.cmd=l.QHBCmd,t.type=c.SocketType.Game,t.pbName="QHB",t.CLICK_BAG_STATE=null,t.BOUNS_MONEY_NUM=null,t.BOUNS_USER_ID=null,t.BOUNS_DATA_CONFIRM=null,t.BOUNS_GAME_PEILV=null,t.BIG_WIN_DATA=null,t}return n(t,e),t.prototype.sendRobBounsReq=function(){var e={player_id:i.DataManager.userInfo.userid};console.log("============>\u53d1\u9001\u62a2\u7ea2\u5305\u8bf7\u6c42"),this.send(e,"rob_bouns_req")},t.prototype.SendSetupBounsReq=function(){var e={player_id:i.DataManager.userInfo.userid};console.log("============>\u73a9\u5bb6\u70b9\u51fb\u53d1\u7ea2\u5305"),this.send(e,"setup_bouns_req")},t.prototype.SendXuFaReq=function(){var e={player_id:i.DataManager.userInfo.userid};console.log("============>\u73a9\u5bb6\u70b9\u51fb\u7eed\u53d1\u7ea2\u5305"),this.send(e,"xu_fa_req")},t.prototype.SendConfirmBounsReq=function(e){1==e.code&&Number(i.DataManager.userInfo.gold)>Number(e.bouns_info.totalMoney)*Number(e.bouns_info.bounsNums)&&(this.BOUNS_DATA_CONFIRM=e.bouns_info);var t={code:e.code,bouns_info:e.bouns_info};console.log("============>\u73a9\u5bb6\u786e\u8ba4\u53d1\u7ea2\u5305"),this.send(t,"confirm_bouns_req")},t.prototype.sendGetOnlineUser=function(){var e={player_id:i.DataManager.userInfo.userid};console.log("============>\u53d1\u9001\u83b7\u53d6\u5728\u7ebf\u4eba\u6570\u8bf7\u6c42"),this.send(e,"player_list_req")},t.prototype.sendUserLeaveRoom=function(){var e={player_id:i.DataManager.userInfo.userid};console.log("============>\u53d1\u9001\u9000\u51fa\u8bf7\u6c42"),this.send(e,"qhb_leave_room")},t.prototype.sendSureLeaveRoom=function(){var e={player_id:i.DataManager.userInfo.userid};console.log("============>\u53d1\u9001\u9000\u51fa\u786e\u8ba4\u8bf7\u6c42"),this.send(e,"qhb_leave_confirm")},t.prototype.dealError=function(e){s.UIManager.showTipsPopup(e.err_msg)},t}(r.default);o.default=p,a.NetManager.protocolCache.ProtocolQHB=p,cc._RF.pop()},{"../../../Define":void 0,"../../../manager/DataManager":void 0,"../../../manager/NetManager":void 0,"../../../manager/UIManager":void 0,"../../../net/ProtocolBase":void 0,"./QHBCmd":"QHBCmd"}],QHBAdapter:[function(e,t,o){"use strict";cc._RF.push(t,"94ee4xJjVRLKaT7LX49H/AF","QHBAdapter");var n=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../common/utils/Utils"),r=cc._decorator,a=r.ccclass,s=(r.property,function(){function e(){}var t;return t=e,e.prototype.getRandomInt=function(e,t){return i.default.getRandomInt(e,t)},e.prototype.addClickEventEND=function(e,t,o){return i.default.addClickEventEND(e,t,o)},e.prototype.getFormatGold=function(e){return i.default.getFormatGold(e)},e.prototype.getSubStringLengTxt=function(e){return i.default.getSubStringLengTxt(e)},e.prototype.getReplaceStrToStar=function(e){return i.default.getReplaceStrToStar(e)},e.instance=new t,e=t=n([a],e)}());o.default=s,o.QHBAdapter=s.instance,cc._RF.pop()},{"../../../common/utils/Utils":void 0}],QHBCenter:[function(e,t,o){"use strict";cc._RF.push(t,"941b0e0TQlNYLUrfE5FTKsx","QHBCenter");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=e("./../../../game/public/TimeClock"),a=cc._decorator,s=a.ccclass,c=a.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.alarm_clock=null,t.label_tips=null,t.node_layout=null,t.jc_item=null,t.zhadanSp=null,t.tipsSp=[],t}return n(t,e),t.prototype.onLoad=function(){},t.prototype.setJcGold=function(e){this.node_layout.removeAllChildren();var t=e.split("").reverse();console.log("\u7ffb\u8f6c\u540e\u7684string\u5217\u8868",t);for(var o=0;o<t.length;o++){var n=t[o],i=cc.instantiate(this.jc_item),r=i.getChildByName("node_num");if("."!=n){var a=32*Number(n)/96;(s=cc.moveBy(a,0,-32*Number(n))).easing(cc.easeCubicActionOut()),r.runAction(s)}else{var s;a=320/96;(s=cc.moveBy(a,0,-320)).easing(cc.easeCubicActionOut()),r.runAction(s)}this.node_layout.addChild(i)}},t.prototype.setGameTimer=function(e){this.alarm_clock.setGameTimer(e)},t.prototype.onKillTimer=function(){this.alarm_clock.onKillTimer()},t.prototype.pauseAudio=function(){this.alarm_clock.pauseAudio()},t.prototype.pauseVibrate=function(){this.alarm_clock.pauseVibrate()},t.prototype.setViewTips=function(e){this.label_tips.node.active=!0,this.label_tips.spriteFrame=this.tipsSp[e-1]},t.prototype.hideViewTips=function(){this.label_tips.node.active=!1},t.prototype.showZhadanSpine=function(e,t){this.zhadanSp.node.active=e;var o=this.zhadanSp,n=o.animation;o.setAnimation(0,n,!1)&&o.setCompleteListener(function(e,o){t&&t()})},i([c(r.default)],t.prototype,"alarm_clock",void 0),i([c(cc.Sprite)],t.prototype,"label_tips",void 0),i([c(cc.Node)],t.prototype,"node_layout",void 0),i([c(cc.Prefab)],t.prototype,"jc_item",void 0),i([c(sp.Skeleton)],t.prototype,"zhadanSp",void 0),i([c(cc.SpriteFrame)],t.prototype,"tipsSp",void 0),t=i([s],t)}(cc.Component);o.default=l,cc._RF.pop()},{"./../../../game/public/TimeClock":void 0}],QHBCmd:[function(e,t,o){"use strict";cc._RF.push(t,"891fdv2jVxESZNabalY/VdU","QHBCmd"),Object.defineProperty(o,"__esModule",{value:!0}),o.QHBCmd="219_0",o.ProtocolQHBCmd={GameStartNotify:o.QHBCmd+"_game_start_notify",SendBounsNotify:o.QHBCmd+"_send_bouns_notify",RobBounsRes:o.QHBCmd+"_rob_bouns_res",RobBounsNotify:o.QHBCmd+"_rob_bouns_notify",GameConcludeNotify:o.QHBCmd+"_game_conclude_notify",ConfirmBounsRes:o.QHBCmd+"_confirm_bouns_res",GameReconnectInfo:o.QHBCmd+"_game_reconnect_info",SetupBounsRes:o.QHBCmd+"_setup_bouns_res",PlayerListRes:o.QHBCmd+"_player_list_res",LeaveRoomNotify:o.QHBCmd+"_qhb_leave_notify"},cc._RF.pop()},{}],QHBFooter:[function(e,t,o){"use strict";cc._RF.push(t,"0c569qftFFLpY2i67qRZAqA","QHBFooter");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=e("./QHBAdapter"),a=e("../../../manager/DataManager"),s=e("../../../manager/UIManager"),c=e("../../../manager/NetManager"),l=cc._decorator,p=l.ccclass,u=l.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cancel=null,t.node_auto=null,t.node_send=null,t.btn_continue=null,t.node_special=null,t.node_xftips=null,t.special_nums=[],t.special_tips=null,t.auto_state=!1,t}return n(t,e),t.prototype.onLoad=function(){var e=this;r.QHBAdapter.addClickEventEND(this.node_auto.getChildByName("active"),this.onAutoClickEvent.bind(this)),r.QHBAdapter.addClickEventEND(this.btn_continue.getChildByName("active"),this.onContinueClickEvent.bind(this)),r.QHBAdapter.addClickEventEND(this.node_send.getChildByName("active"),this.onSendClickEvent.bind(this)),r.QHBAdapter.addClickEventEND(this.node_special.getChildByName("btn_help"),this.onHelpClickEvent.bind(this)),r.QHBAdapter.addClickEventEND(this.cancel,function(){e.resetSpecialHelp()}),this.special_nums[0]=this.node_special.getChildByName("num1").getComponent(cc.Label),this.special_nums[1]=this.node_special.getChildByName("num2").getComponent(cc.Label),this.special_nums[2]=this.node_special.getChildByName("num3").getComponent(cc.Label),this.special_nums[3]=this.node_special.getChildByName("num4").getComponent(cc.Label),this.special_tips=this.node_special.getChildByName("helptips"),this.special_tips.active=!1},t.prototype.onHelpClickEvent=function(){this.special_tips.active=!this.special_tips.active},t.prototype.resetSpecialHelp=function(){this.special_tips.active=!1},t.prototype.resetSpecial=function(e){console.log("\u7279\u6b8a\u7ea2\u5305\u4e2a\u6570",e),this.special_nums[0].string=e[0],this.special_nums[1].string=e[1],this.special_nums[2].string=e[2],this.special_nums[3].string=e[3]},t.prototype.enableContinue=function(e){var t=!0,o="";0==e.totalMoney?(t=!1,this.node_xftips.active=!1):(t=!0,this.node_xftips.active=!0,o=e.nums+"\u5305  "+e.totalMoney+"\u5143  "+e.bounsNums+"\u6b21",this.node_xftips.getChildByName("game_tips").getComponent(cc.Label).string=o),this.btn_continue.getChildByName("active").active=t,this.btn_continue.getChildByName("disable").active=!t},t.prototype.enableAuto=function(e){var t=!1;console.log("\u6211\u7684\u94b1\u548c\u5305\u7684\u94b1\uff1a",Number(a.DataManager.userInfo.gold),Number(e)),Number(a.DataManager.userInfo.gold)>Number(e)*Number(c.NetManager.getGameProtocol().BOUNS_GAME_PEILV)?t=!0:(1==this.auto_state&&s.UIManager.showTips("\u91d1\u5e01\u4e0d\u8db3\uff0c\u8bf7\u524d\u5f80\u5927\u5385\u5145\u503c"),c.NetManager.getGameProtocol().CLICK_BAG_STATE=!1,this.auto_state=!1),this.node_auto.getChildByName("light").active=this.auto_state,this.node_auto.getChildByName("active").active=t,this.node_auto.getChildByName("disable").active=!t,1==this.auto_state&&(0==c.NetManager.getGameProtocol().CLICK_BAG_STATE?(console.log("\u73a9\u5bb6\u4e3b\u52a8\u62a2\u7ea2\u5305\u4e8b\u4ef6"),c.NetManager.getGameProtocol().sendRobBounsReq()):s.UIManager.showTips("\u60a8\u5df2\u62a2\u8fc7\u8be5\u7ea2\u5305\uff0c\u8bf7\u7b49\u5f85\u4e0b\u5c40"))},t.prototype.onContinueClickEvent=function(){console.log("\u73a9\u5bb6\u70b9\u51fb\u7eed\u53d1\u7ea2\u5305"),c.NetManager.getGameProtocol().SendXuFaReq()},t.prototype.onAutoClickEvent=function(e,t){var o=this.node_auto.getChildByName("light");if(void 0!=t)return this.auto_state=!1,void(o.active=!1);this.auto_state=!this.auto_state,o.active=this.auto_state},t.prototype.onSendClickEvent=function(){console.log("\u73a9\u5bb6\u70b9\u51fb\u53d1\u7ea2\u5305"),c.NetManager.getGameProtocol().SendSetupBounsReq()},i([u(cc.Node)],t.prototype,"cancel",void 0),i([u(cc.Node)],t.prototype,"node_auto",void 0),i([u(cc.Node)],t.prototype,"node_send",void 0),i([u(cc.Node)],t.prototype,"btn_continue",void 0),i([u(cc.Node)],t.prototype,"node_special",void 0),i([u(cc.Node)],t.prototype,"node_xftips",void 0),t=i([p],t)}(cc.Component);o.default=d,cc._RF.pop()},{"../../../manager/DataManager":void 0,"../../../manager/NetManager":void 0,"../../../manager/UIManager":void 0,"./QHBAdapter":"QHBAdapter"}],QHBGameScene:[function(e,t,o){"use strict";cc._RF.push(t,"8053aNrOwpAppZvtK1+Bs2e","QHBGameScene");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=e("./QHBGameView"),a=e("../../../manager/EventManager"),s=e("../../../net/NetCmd"),c=e("../protocol/QHBCmd"),l=e("../../../manager/UIManager"),p=cc._decorator,u=p.ccclass,d=p.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.GameView=null,t}return n(t,e),t.prototype.onLoad=function(){this.GameView.GameScene=this,this.initData(),this.initEvent(),l.UIManager.hideMarquee()},t.prototype.initData=function(){},t.prototype.initEvent=function(){a.EventManager.on(this,s.ProtocolGameCmd.GameLoginResp,this.onGameLoginResp.bind(this)),a.EventManager.on(this,c.ProtocolQHBCmd.GameStartNotify,this.onSubGameStart.bind(this)),a.EventManager.on(this,c.ProtocolQHBCmd.SendBounsNotify,this.onSubSendBouns.bind(this)),a.EventManager.on(this,c.ProtocolQHBCmd.RobBounsRes,this.onSubRobBounsRes.bind(this)),a.EventManager.on(this,c.ProtocolQHBCmd.RobBounsNotify,this.onRobBounsNotify.bind(this)),a.EventManager.on(this,c.ProtocolQHBCmd.GameConcludeNotify,this.onSubGameEnd.bind(this)),a.EventManager.on(this,c.ProtocolQHBCmd.ConfirmBounsRes,this.onConfirmBounsRes.bind(this)),a.EventManager.on(this,c.ProtocolQHBCmd.GameReconnectInfo,this.onSubJoinRoom.bind(this)),a.EventManager.on(this,c.ProtocolQHBCmd.SetupBounsRes,this.onSetupBounsRes.bind(this)),a.EventManager.on(this,c.ProtocolQHBCmd.PlayerListRes,this.onGetOnlineUserRes.bind(this)),a.EventManager.on(this,c.ProtocolQHBCmd.LeaveRoomNotify,this.LeaveRoomNotify.bind(this))},t.prototype.onGameLoginResp=function(e){console.log("\u6548\u9a8c\u6210\u529f====>",e),this.GameView.resetGameView(),this.GameView.initUserInfo()},t.prototype.onSubGameStart=function(e){console.log("\u6e38\u620f\u5f00\u59cb"),this.GameView.onSubGameStart(e)},t.prototype.onSubSendBouns=function(e){console.log("%c \u64ad\u653e\u62a2\u7ea2\u5305\u52a8\u753b","font-size:30px;color:blue;",e),this.GameView.onSubSendBouns(e)},t.prototype.onSubRobBounsRes=function(e){console.log("%c \u62a2\u7ea2\u5305\u56de\u5e94","font-size:30px;color:green;",e),this.GameView.onSubRobBounsRes(e)},t.prototype.onSetupBounsRes=function(e){console.log("%c \u73a9\u5bb6\u6253\u5f00\u53d1\u7ea2\u5305","font-size:30px;color:red;",e),this.GameView.onSetupBounsRes(e)},t.prototype.onConfirmBounsRes=function(e){console.log("%c \u73a9\u5bb6\u786e\u8ba4\u53d1\u7ea2\u5305","font-size:30px;color:red;",e),this.GameView.onConfirmBounsRes(e)},t.prototype.onRobBounsNotify=function(e){console.log("%c \u62a2\u7ea2\u5305\u901a\u77e5","font-size:30px;color:red;",e),this.GameView.onRobBounsNotify(e)},t.prototype.onSubGameEnd=function(e){var t=this;console.log("%c \u901a\u77e5\u7ed3\u7b97","font-size:30px;color:orange;",e),setTimeout(function(){t.GameView.onSubGameEnd(e)},100)},t.prototype.onSubJoinRoom=function(e){console.log("%c \u52a0\u5165\u623f\u95f4 \u6062\u590d\u573a\u666f","font-size:30px;color:red;",e),this.GameView.onSubJoinRoom(e)},t.prototype.onGetOnlineUserRes=function(e){console.log("%c \u83b7\u53d6\u5728\u7ebf\u73a9\u5bb6\u4eba\u6570\u56de\u5e94","font-size:30px;color:blue;",e),this.GameView.onGetOnlineUserRes(e)},t.prototype.LeaveRoomNotify=function(e){console.log("%c \u9000\u51fa\u786e\u8ba4\u5f39\u7a97","font-size:30px;color:blue;",e),this.GameView.LeaveRoomNotify(e)},t.prototype.onDestroy=function(){a.EventManager.off(this)},i([d(r.default)],t.prototype,"GameView",void 0),t=i([u],t)}(cc.Component);o.default=h,cc._RF.pop()},{"../../../manager/EventManager":void 0,"../../../manager/UIManager":void 0,"../../../net/NetCmd":void 0,"../protocol/QHBCmd":"QHBCmd","./QHBGameView":"QHBGameView"}],QHBGameView:[function(e,t,o){"use strict";cc._RF.push(t,"0f7d2IQ5edEi6vLyJr9F6JH","QHBGameView");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=e("./QHBAdapter"),a=e("./QHBOnlinePlayer"),s=e("./QHBTopPanel"),c=e("./QHBFooter"),l=e("./QHBPlayer"),p=e("./QHBCenter"),u=e("./QHBHongbaoView"),d=e("./QHBOpenLeftPlayer"),h=e("./QHBOpenRightPlayer"),_=e("../../../Define"),m=e("../../../manager/NetManager"),f=e("../../../manager/DataManager"),y=e("../../../manager/AudioManager"),g=e("../../../manager/UIManager"),v=e("../../../manager/EventManager"),b=cc._decorator,B=b.ccclass,C=b.property,H=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.QHBCenter=null,t.QHBFooter=null,t.QHBPlayer=null,t.QHBOnlinePlayer=null,t.QHBTopPanel=null,t.QHBHongbaoView=null,t.OpenLeftPlayer=null,t.OpenRightPlayer=null,t.UINode=null,t.user_node=null,t.yuanbaoSp=null,t.GameScene=null,t.room_nums=0,t}return n(t,e),t.prototype.onLoad=function(){this.CLICK_TIMES=0,y.AudioManager.playGameBGM("qhb_bgm"),v.EventManager.off("ReflashSpecialBagNums"),v.EventManager.on(this,"ReflashSpecialBagNums",this.onSpecNotify.bind(this))},t.prototype.initUserInfo=function(){var e={username:r.QHBAdapter.getSubStringLengTxt(f.DataManager.userInfo.nickname)||r.QHBAdapter.getReplaceStrToStar(f.DataManager.userInfo.userid),gold:f.DataManager.userInfo.gold,headimg_id:f.DataManager.userInfo.headimgurl};this.QHBPlayer.setUserInfo(e)},t.prototype.resetGameView=function(){m.NetManager.getGameProtocol().BIG_WIN_DATA=null,this.node.stopAllActions(),this.QHBPlayer.resetView(),this.initUserInfo()},t.prototype.onSubJoinRoom=function(e){this.resetGameView(),m.NetManager.getGameProtocol().CLICK_BAG_STATE=1==e.hasRob,this.room_nums=e.room_info.nums,m.NetManager.getGameProtocol().BOUNS_GAME_PEILV=e.room_info.peilv,this.QHBTopPanel.setRoomInfo(e.room_info.room_code),f.DataManager.userInfo.gold=e.gold,this.QHBPlayer.setUserScore(e.gold),this.QHBFooter.enableContinue(e.xufa_info),this.QHBFooter.resetSpecial(e.specCards),this.QHBFooter.onAutoClickEvent("",!1);var t=e.game_state,o={mineNumber:e.bouns_info.mineNumber,bankScore:e.bankScore,headimg_id:e.headimg_id,score:e.score};if(this.OpenLeftPlayer.deleteUserList(),this.OpenRightPlayer.deleteUserList(),this.CLICK_TIMES=0,m.NetManager.getGameProtocol().BOUNS_USER_ID=e.bouns_info.player_id,1==t);else if(2==t){this.QHBHongbaoView.resetCloseView(e.bouns_info);for(var n=0;n<e.rob_bouns_info.length;n++){var i=e.rob_bouns_info[n];this.onRobBounsNotify(i)}this.QHBFooter.enableAuto(e.bouns_info.totalMoney)}else if(3==t){this.QHBHongbaoView.resetOpenView(o);for(n=0;n<e.rob_bouns_info.length;n++)this.onRobBounsNotify(e.rob_bouns_info),n%2==0?this.OpenLeftPlayer.reflashUserList(e.rob_bouns_info[n],n):this.OpenRightPlayer.reflashUserList(e.rob_bouns_info[n],n)}this.QHBCenter.onKillTimer(),this.QHBCenter.setGameTimer({limit_time:e.time_out,playAudio:2==t&&1!=e.hasRob,vibrate:2==t&&1!=e.hasRob}),this.QHBCenter.setViewTips(t),this.QHBCenter.setJcGold(e.poolGold)},t.prototype.onSubGameStart=function(e){m.NetManager.protocolGameCommon.needFlushGold=!1,this.CLICK_TIMES=0,this.QHBPlayer.resetView(),m.NetManager.getGameProtocol().CLICK_BAG_STATE=!1,this.QHBFooter.enableContinue(e.xufa_info),this.OpenLeftPlayer.deleteUserList(),this.OpenRightPlayer.deleteUserList(),m.NetManager.getGameProtocol().BOUNS_GAME_PEILV=e.room_info.peilv,this.room_nums=e.room_info.nums,this.QHBCenter.onKillTimer(),this.QHBCenter.setGameTimer({limit_time:e.time_out}),this.QHBCenter.setViewTips(1)},t.prototype.onSubSendBouns=function(e){this.QHBHongbaoView.resetCloseView(e.bouns_info),m.NetManager.getGameProtocol().BOUNS_USER_ID=e.bouns_info.player_id,this.QHBFooter.enableAuto(e.bouns_info.totalMoney),this.QHBCenter.onKillTimer(),this.QHBCenter.setGameTimer({limit_time:e.time_out,playAudio:!0,vibrate:!0}),this.QHBCenter.setViewTips(2)},t.prototype.onSubRobBounsRes=function(e){console.log("\u62a2\u7ea2\u5305\u56de\u5e94",e);var t=e.result;0==t?(m.NetManager.getGameProtocol().CLICK_BAG_STATE=!0,0==e.specEvent||(m.NetManager.getGameProtocol().BOUNS_MONEY_NUM=e.bounsMoney),this.QHBCenter.pauseAudio(),this.QHBCenter.pauseVibrate()):1==t?g.UIManager.showTips("\u8be5\u7ea2\u5305\u5df2\u88ab\u62a2\u5b8c\uff0c\u8bf7\u7b49\u5f85\u4e0b\u5c40"):2==t&&g.UIManager.showTips("\u91d1\u5e01\u4e0d\u8db3\uff0c\u8bf7\u524d\u5f80\u5927\u5385\u5145\u503c")},t.prototype.onSetupBounsRes=function(e){console.log("\u53d1\u7ea2\u5305\u754c\u9762\u6570\u636e",e),e.nums=this.room_nums,g.UIManager.popup("game/qhb/prefab/QHBSendBagView",e)},t.prototype.onConfirmBounsRes=function(e){console.log("\u53d1\u7ea2\u5305\u6210\u529f\u6570\u636e",e),0==e.result?(f.DataManager.userInfo.gold=e.gold,this.QHBPlayer.setUserScore(e.gold),e.score>0?g.UIManager.showTips("\u5df2\u6210\u529f\u53d6\u6d88\u7ea2\u5305\u53d1\u9001"):(null==m.NetManager.getGameProtocol().BOUNS_DATA_CONFIRM&&void 0==m.NetManager.getGameProtocol().BOUNS_DATA_CONFIRM||this.QHBFooter.enableContinue(m.NetManager.getGameProtocol().BOUNS_DATA_CONFIRM),g.UIManager.showTips("\u53d1\u9001\u6210\u529f"))):1==e.result?g.UIManager.showTips("\u91d1\u5e01\u4e0d\u8db3\uff0c\u8bf7\u524d\u5f80\u5927\u5385\u5145\u503c"):2==e.result&&g.UIManager.showTips("\u65e0\u9700\u8981\u53d6\u6d88\u7684\u7ea2\u5305")},t.prototype.onRobBounsNotify=function(e){this.CLICK_TIMES%2==0?this.OpenLeftPlayer.addUserList(e,this.CLICK_TIMES):this.OpenRightPlayer.addUserList(e,this.CLICK_TIMES),this.QHBHongbaoView.setRedBagAction(this.CLICK_TIMES),this.CLICK_TIMES=this.CLICK_TIMES+1,null==e.leftNum&&void 0==e.leftNum||(console.log("\u53d6\u5230\u7684\u7ea2\u5305\u4e2a\u6570",e.leftNum),this.QHBHongbaoView.resetCloseData(e.leftNum))},t.prototype.onSubGameEnd=function(e){var t=e.gold;f.DataManager.userInfo.gold=e.gold;var o=parseFloat(e.score);e.enter_result;this.QHBHongbaoView.resetOpenView(e);for(var n=0;n<e.rob_bouns_info.length;n++)n%2==0?this.OpenLeftPlayer.reflashUserList(e.rob_bouns_info[n],n):this.OpenRightPlayer.reflashUserList(e.rob_bouns_info[n],n);this.CLICK_TIMES=0,0!=o&&(Number(o)<0&&m.NetManager.getGameProtocol().BOUNS_USER_ID!=f.DataManager.userInfo.userid&&(y.AudioManager.playGameSFX("qhb_bz"),this.QHBCenter.showZhadanSpine(!0)),this.QHBPlayer.flutterScore(o,cc.v2(0,20),function(){})),this.QHBPlayer.setUserScore(t),0!=e.specEvent&&(e.bounsMoney=m.NetManager.getGameProtocol().BOUNS_MONEY_NUM,g.UIManager.popup("game/qhb/prefab/QHBSpecialGetView",e)),this.QHBFooter.resetSpecial(e.specCards),this.QHBCenter.onKillTimer(),this.QHBCenter.setGameTimer({limit_time:e.time_out}),this.QHBCenter.setViewTips(3),this.QHBCenter.setJcGold(e.poolGold);var i={isCaishen:e.isCaishen,caishenSpecCards:e.caishenSpecCards,caishen_score:e.caishen_score,caishen_gold:e.caishen_gold};m.NetManager.getGameProtocol().BIG_WIN_DATA=i},t.prototype.onGetOnlineUserRes=function(e){this.QHBOnlinePlayer.refPeopleTips(e.totalplayers),this.QHBOnlinePlayer.refUserList(e.player_list),this.QHBOnlinePlayer.playMoveOut()},t.prototype.onSpecNotify=function(){var e=this;if(void 0!=this.yuanbaoSp&&null!=this.yuanbaoSp){this.yuanbaoSp.node.active=!0;var t=this.yuanbaoSp,o=t.animation;t.setAnimation(0,o,!1)&&t.setCompleteListener(function(t,o){e.yuanbaoSp.node.active=!1,e.showBigWin()})}else this.showBigWin()},t.prototype.showBigWin=function(){null==m.NetManager.getGameProtocol().BIG_WIN_DATA&&void 0==m.NetManager.getGameProtocol().BIG_WIN_DATA||1==m.NetManager.getGameProtocol().BIG_WIN_DATA.isCaishen&&(this.reflashByBigWin(),g.UIManager.popup("game/qhb/prefab/QHBSpecialBag",m.NetManager.getGameProtocol().BIG_WIN_DATA))},t.prototype.reflashByBigWin=function(){this.QHBFooter&&(this.QHBFooter.resetSpecial(m.NetManager.getGameProtocol().BIG_WIN_DATA.caishenSpecCards),f.DataManager.userInfo.gold=m.NetManager.getGameProtocol().BIG_WIN_DATA.caishen_gold,this.QHBPlayer.setUserScore(m.NetManager.getGameProtocol().BIG_WIN_DATA.caishen_gold))},t.prototype.LeaveRoomNotify=function(e){if(0==e.code)this.onSubLeaveRoom(e);else if(1==e.code)g.UIManager.showTips("\u6b63\u5728\u6e38\u620f\u4e2d,\u4e0d\u80fd\u9000\u51fa\u623f\u95f4");else{g.UIManager.showTipsPopup("\u60a8\u6b63\u5728\u7b49\u5f85\u53d1\u5305\u961f\u5217\u4e2d\uff0c\u662f\u5426\u9000\u51fa",function(e){e&&m.NetManager.getGameProtocol().sendSureLeaveRoom()},3)}},t.prototype.onSubLeaveRoom=function(e){v.EventManager.off("ReflashSpecialBagNums"),m.NetManager.close(_.SocketType.Game);var t=f.DataManager.getGameName(f.DataManager.gameType),o="game/"+t+"/"+t.toUpperCase()+"RoomView";g.UIManager.open(o,f.DataManager.gameType)},i([C(p.default)],t.prototype,"QHBCenter",void 0),i([C(c.default)],t.prototype,"QHBFooter",void 0),i([C(l.default)],t.prototype,"QHBPlayer",void 0),i([C(a.default)],t.prototype,"QHBOnlinePlayer",void 0),i([C(s.default)],t.prototype,"QHBTopPanel",void 0),i([C(u.default)],t.prototype,"QHBHongbaoView",void 0),i([C(d.default)],t.prototype,"OpenLeftPlayer",void 0),i([C(h.default)],t.prototype,"OpenRightPlayer",void 0),i([C(cc.Node)],t.prototype,"UINode",void 0),i([C(cc.Node)],t.prototype,"user_node",void 0),i([C(sp.Skeleton)],t.prototype,"yuanbaoSp",void 0),t=i([B],t)}(cc.Component);o.default=H,cc._RF.pop()},{"../../../Define":void 0,"../../../manager/AudioManager":void 0,"../../../manager/DataManager":void 0,"../../../manager/EventManager":void 0,"../../../manager/NetManager":void 0,"../../../manager/UIManager":void 0,"./QHBAdapter":"QHBAdapter","./QHBCenter":"QHBCenter","./QHBFooter":"QHBFooter","./QHBHongbaoView":"QHBHongbaoView","./QHBOnlinePlayer":"QHBOnlinePlayer","./QHBOpenLeftPlayer":"QHBOpenLeftPlayer","./QHBOpenRightPlayer":"QHBOpenRightPlayer","./QHBPlayer":"QHBPlayer","./QHBTopPanel":"QHBTopPanel"}],QHBHongbaoClose:[function(e,t,o){"use strict";cc._RF.push(t,"4dca2JT3mtNKrCgaMuzA3S1","QHBHongbaoClose");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=e("./QHBAdapter"),a=e("../../../manager/UIManager"),s=e("../../../manager/NetManager"),c=e("../../../common/UIHelper"),l=cc._decorator,p=l.ccclass,u=l.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.user_head=null,t.user_money=null,t.hb_num=null,t.lei_num=null,t.btn_open=null,t.node_red=null,t.node_left=null,t.node_right=null,t.red_item=null,t.bao_nums=null,t}return n(t,e),t.prototype.onLoad=function(){r.QHBAdapter.addClickEventEND(this.btn_open,this.onOpenEvent.bind(this))},t.prototype.onOpenEvent=function(e){0==s.NetManager.getGameProtocol().CLICK_BAG_STATE?(console.log("\u73a9\u5bb6\u4e3b\u52a8\u62a2\u7ea2\u5305\u4e8b\u4ef6"),s.NetManager.getGameProtocol().sendRobBounsReq()):a.UIManager.showTips("\u60a8\u5df2\u62a2\u8fc7\u8be5\u7ea2\u5305\uff0c\u8bf7\u7b49\u5f85\u4e0b\u5c40")},t.prototype.resetView=function(e){this.node_red.removeAllChildren(),this.bao_nums=e.nums,this.user_money.string=e.totalMoney+"\u5143",this.hb_num.string=e.nums,this.lei_num.string=e.mineNumber,this.setUserHead(e.headimg_id)},t.prototype.resetBaoNums=function(e){this.hb_num.string=e+""},t.prototype.setUserHead=function(e){c.default.setHeadIcon(e,this.user_head.node),this.user_head.spriteFrame||console.log("\u7a7a\u4e86!!!!!!!")},t.prototype.createRedAndMove=function(e){var t=null,o=null;if(e%2==0){this.node_left.getComponent(cc.Layout).updateLayout();var n=this.node_left.getChildByName("item"+e);o=this.node_left.convertToWorldSpaceAR(cc.v2(0,n.y)),t=this.node_red.convertToNodeSpaceAR(o)}else{this.node_right.getComponent(cc.Layout).updateLayout();n=this.node_right.getChildByName("item"+e);o=this.node_right.convertToWorldSpaceAR(cc.v2(0,n.y)),t=this.node_red.convertToNodeSpaceAR(o)}var i=cc.instantiate(this.red_item);this.node_red.addChild(i),i.runAction(cc.sequence(cc.moveBy(.2,cc.v2(t.x,t.y)),cc.callFunc(function(){i.destroy()})))},t.prototype.onDestroy=function(){},i([u(cc.Sprite)],t.prototype,"user_head",void 0),i([u(cc.Label)],t.prototype,"user_money",void 0),i([u(cc.Label)],t.prototype,"hb_num",void 0),i([u(cc.Label)],t.prototype,"lei_num",void 0),i([u(cc.Node)],t.prototype,"btn_open",void 0),i([u(cc.Node)],t.prototype,"node_red",void 0),i([u(cc.Node)],t.prototype,"node_left",void 0),i([u(cc.Node)],t.prototype,"node_right",void 0),i([u(cc.Prefab)],t.prototype,"red_item",void 0),t=i([p],t)}(cc.Component);o.default=d,cc._RF.pop()},{"../../../common/UIHelper":void 0,"../../../manager/NetManager":void 0,"../../../manager/UIManager":void 0,"./QHBAdapter":"QHBAdapter"}],QHBHongbaoOpen:[function(e,t,o){"use strict";cc._RF.push(t,"05058iH4P9Oer9hUkAIYRor","QHBHongbaoOpen");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../common/UIHelper"),a=cc._decorator,s=a.ccclass,c=a.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.user_head=null,t.user_money=null,t.zj_txt=null,t.frame_bg=null,t.lei_num=null,t.yellow_bmfont=null,t.grey_bmfont=null,t.zjIcon=[],t.bgFrame=[],t}return n(t,e),t.prototype.onLoad=function(){},t.prototype.resetView=function(e){console.log("\u7ea2\u5305\u91cc\u9762\u7684\u4fe1\u606f",e);var t="";Number(e.bankScore)>=0?(this.user_money.font=this.yellow_bmfont,t="+",this.zj_txt.spriteFrame=this.zjIcon[0]):(this.user_money.font=this.grey_bmfont,t="-",this.zj_txt.spriteFrame=this.zjIcon[1]);var o=Math.abs(e.bankScore),n=parseFloat(o+"").toFixed(2);this.user_money.string=t+n,0==Number(e.score)?this.frame_bg.spriteFrame=this.bgFrame[1]:Number(e.score)>0?this.frame_bg.spriteFrame=this.bgFrame[2]:Number(e.score)<0&&(this.frame_bg.spriteFrame=this.bgFrame[0]),this.lei_num.string=e.mineNumber,this.setUserHead(e.headimg_id)},t.prototype.setUserHead=function(e){r.default.setHeadIcon(e,this.user_head.node),this.user_head.spriteFrame||console.log("\u7a7a\u4e86!!!!!!!")},t.prototype.onDestroy=function(){},i([c(cc.Sprite)],t.prototype,"user_head",void 0),i([c(cc.Label)],t.prototype,"user_money",void 0),i([c(cc.Sprite)],t.prototype,"zj_txt",void 0),i([c(cc.Sprite)],t.prototype,"frame_bg",void 0),i([c(cc.Label)],t.prototype,"lei_num",void 0),i([c(cc.Font)],t.prototype,"yellow_bmfont",void 0),i([c(cc.Font)],t.prototype,"grey_bmfont",void 0),i([c(cc.SpriteFrame)],t.prototype,"zjIcon",void 0),i([c(cc.SpriteFrame)],t.prototype,"bgFrame",void 0),t=i([s],t)}(cc.Component);o.default=l,cc._RF.pop()},{"../../../common/UIHelper":void 0}],QHBHongbaoView:[function(e,t,o){"use strict";cc._RF.push(t,"d3b18pZagtA3IFQa1GUJXkI","QHBHongbaoView");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=e("./QHBAdapter"),a=cc._decorator,s=a.ccclass,c=a.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.spineHongbao=null,t.node_open=null,t.node_close=null,t.game_tips=null,t.interVal=null,t}return n(t,e),t.prototype.onLoad=function(){},t.prototype.resetOpenView=function(e){var t=this;console.log("\u5f53\u524d\u5c5e\u4e8e\u7ea2\u5305\u6253\u5f00\u72b6\u6001",e),this.node_close.active=!1,this.node_open.scale=1,this.node_open.active=!0,this.node_open.getComponent("QHBHongbaoOpen").resetView(e),this.scheduleOnce(function(){t.bagAction()},4)},t.prototype.resetCloseData=function(e){this.node_close.getComponent("QHBHongbaoClose").resetBaoNums(e)},t.prototype.resetCloseView=function(e){console.log("\u5f53\u524d\u5c5e\u4e8e\u7ea2\u5305\u5173\u95ed\u72b6\u6001",e),this.node_close.active=!0,this.node_open.active=!1,this.node_close.getComponent("QHBHongbaoClose").resetView(e)},t.prototype.bagAction=function(){var e=this,t=cc.sequence(cc.scaleBy(.5,2),cc.callFunc(function(){e.node_open.active=!1,e.spineHongbao.setAnimation(0,"animation",!1)}));this.node_open.runAction(t)},t.prototype.setRedBagAction=function(e){this.node_close.getComponent("QHBHongbaoClose").createRedAndMove(e)},t.prototype.resetView=function(){this.unschedule(this.interVal),this.interVal=null},t.prototype.setUserHead=function(e){},t.prototype.setUserInfo=function(e){var t=e;r.QHBAdapter.getSubStringLengTxt(e.username)||r.QHBAdapter.getReplaceStrToStar(e.player_id);this.setUserHead(e.headimg_id),this.setUserScore(t.gold)},t.prototype.setUserScore=function(e){},t.prototype.shakeHead=function(){},t.prototype.flutterScore=function(e,t,o){var n=this;var i=Math.abs(e),r=i/parseFloat(50..toFixed(2)),a=0;this.interVal=function(){(a+=r).toFixed(2),a>=i&&(i.toString(),n.unschedule(n.interVal),n.interVal=null)},this.schedule(this.interVal,.01,cc.macro.REPEAT_FOREVER);var s=cc.moveBy(.5,t);cc.sequence(s,cc.delayTime(.5),cc.callFunc(function(){o&&o()}))},t.prototype.onDestroy=function(){this.interVal&&(this.unschedule(this.interVal),this.interVal=null)},i([c(sp.Skeleton)],t.prototype,"spineHongbao",void 0),i([c(cc.Node)],t.prototype,"node_open",void 0),i([c(cc.Node)],t.prototype,"node_close",void 0),i([c(cc.Label)],t.prototype,"game_tips",void 0),t=i([s],t)}(cc.Component);o.default=l,cc._RF.pop()},{"./QHBAdapter":"QHBAdapter"}],QHBOnlinePlayer:[function(e,t,o){"use strict";cc._RF.push(t,"eabccgP07FDrZeKfIIX9/Dw","QHBOnlinePlayer");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../common/utils/Utils"),a=e("../../../manager/NetManager"),s=e("../../../common/UIHelper"),c=cc._decorator,l=c.ccclass,p=c.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cancel=null,t.spr=null,t.arrow=null,t.btn_click=null,t.user_panel=null,t.tips=null,t.ScrollView=null,t.user_item=null,t.is_move_out=!1,t.is_done=!0,t}return n(t,e),t.prototype.start=function(){var e=this;r.default.addClickEventEND(this.btn_click,function(){e.onClickEvent()}),r.default.addClickEventEND(this.cancel,function(){e.onCancelEvent()})},t.prototype.onClickEvent=function(){console.log("\u70b9\u51fb\u5728\u7ebf\u4eba\u6570"),this.is_done?(this.is_done=!1,this.is_move_out?this.playMoveBack():a.NetManager.getGameProtocol().sendGetOnlineUser()):console.log("\u52a8\u753b\u8fd8\u672a\u7ed3\u675f \u4e0d\u53ef\u70b9\u51fb")},t.prototype.onCancelEvent=function(){this.is_done?this.is_move_out?(this.is_done=!1,this.playMoveBack()):console.log("\u672a\u79fb\u52a8\u51fa\u53bb"):console.log("\u52a8\u753b\u8fd8\u672a\u7ed3\u675f \u4e0d\u53ef\u70b9\u51fb")},t.prototype.playMoveOut=function(){var e=this;this.user_panel.active=!0,this.arrow.scaleX=-1,this.is_move_out=!0;var t=cc.sequence(cc.moveBy(.5,cc.v2(this.user_panel.width,0)),cc.callFunc(function(){e.is_done=!0}));this.spr.runAction(t)},t.prototype.playMoveBack=function(){var e=this;this.arrow.scaleX=1;var t=cc.sequence(cc.moveBy(.5,cc.v2(-this.user_panel.width,0)),cc.callFunc(function(){e.user_panel.active=!1,e.is_done=!0,e.is_move_out=!1}));this.spr.runAction(t)},t.prototype.refPeopleTips=function(e){this.tips.string="\u672c\u684c\u5171"+e+"\u4eba\n\u968f\u673a\u663e\u793a20\u540d\u73a9\u5bb6"},t.prototype.refUserList=function(e){var t=this,o=cc.find("view/content",this.ScrollView);o.removeAllChildren(),e.forEach(function(e,n){var i=cc.instantiate(t.user_item);i.active=!0;var a=i.getChildByName("head"),c=i.getChildByName("name"),l=i.getChildByName("gold");s.default.setHeadIcon(e.headimg_id,a),c.getComponent(cc.Label).string=r.default.getSubStringLengTxt(e.username)||r.default.getReplaceStrToStar(e.player_id),l.getComponent(cc.Label).string=parseFloat(e.gold).toFixed(2),o.addChild(i)})},i([p(cc.Node)],t.prototype,"cancel",void 0),i([p(cc.Node)],t.prototype,"spr",void 0),i([p(cc.Node)],t.prototype,"arrow",void 0),i([p(cc.Node)],t.prototype,"btn_click",void 0),i([p(cc.Node)],t.prototype,"user_panel",void 0),i([p(cc.Label)],t.prototype,"tips",void 0),i([p(cc.Node)],t.prototype,"ScrollView",void 0),i([p(cc.Node)],t.prototype,"user_item",void 0),t=i([l],t)}(cc.Component);o.default=u,cc._RF.pop()},{"../../../common/UIHelper":void 0,"../../../common/utils/Utils":void 0,"../../../manager/NetManager":void 0}],QHBOpenLeftPlayer:[function(e,t,o){"use strict";cc._RF.push(t,"d50a3ebXY5IHLLSawWozIkV","QHBOpenLeftPlayer");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../common/utils/Utils"),a=e("../../../common/UIHelper"),s=e("../../../manager/DataManager"),c=cc._decorator,l=c.ccclass,p=c.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ScrollView=null,t.user_item=null,t.yellow_bmfont=null,t.grey_bmfont=null,t.moneyBgSp=[],t}return n(t,e),t.prototype.start=function(){},t.prototype.addUserList=function(e,t){this.unscheduleAllCallbacks();var o=e,n=this.ScrollView,i=cc.instantiate(this.user_item),c=i.getChildByName("head"),l=i.getChildByName("name"),p=i.getChildByName("gold");a.default.setHeadIcon(o.headimg_id,c),l.getComponent(cc.Label).string=r.default.getSubStringLengTxt(o.username)||r.default.getReplaceStrToStar(o.player_id),p.getComponent(cc.Label).string="\u6682\u672a\u516c\u5e03",n.addChild(i,0,"item"+t),o.player_id==s.DataManager.userInfo.userid&&(l.color=cc.color(255,255,255))},t.prototype.reflashUserList=function(e,t){var o=this.ScrollView.getChildByName("item"+t);if(null!=o&&void 0!=o){var n=o.getChildByName("gold"),i=o.getChildByName("win_bg").getChildByName("getnum"),c=o.getChildByName("node_icon"),l=o.getChildByName("name"),p=o.getChildByName("head");if(a.default.setHeadIcon(e.headimg_id,p),l.getComponent(cc.Label).string=r.default.getSubStringLengTxt(e.username)||r.default.getReplaceStrToStar(e.player_id),n.getComponent(cc.Label).string=parseFloat(e.bounsMoney).toFixed(2),this.flutterScore(i.getComponent(cc.Label),Number(e.score),cc.v2(0,100)),e.player_id==s.DataManager.userInfo.userid)c.getChildByName("icon1").active=!0,l.color=cc.color(255,255,255);if(e.islucky)c.getChildByName("icon3").active=!0;if(e.isBankuser)c.getChildByName("icon2").active=!0;else if(Number(e.score)<0&&1==e.isMine){var u=o.getChildByName("zhadan");u.active=!0;var d=u.getComponent(sp.Skeleton);d.clearTracks(),d.setAnimation(0,"animation",!1),c.getChildByName("icon4").active=!0}}},t.prototype.flutterScore=function(e,t,o,n){var i=this;e.node.parent.active=!0;var r="";t>=0?(e.font=this.yellow_bmfont,r="+",e.node.parent.getComponent(cc.Sprite).spriteFrame=this.moneyBgSp[0]):(e.font=this.grey_bmfont,r="-",e.node.parent.getComponent(cc.Sprite).spriteFrame=this.moneyBgSp[1]);var a=Math.abs(t);e.string=r+parseFloat(a+"").toFixed(2);var s=cc.moveBy(2.5,o),c=cc.sequence(s,cc.delayTime(.5),cc.callFunc(function(){n&&n()}));e.node.parent.runAction(c),this.scheduleOnce(function(){i.deleteUserList()},2.5)},t.prototype.deleteUserList=function(){this.unscheduleAllCallbacks(),this.ScrollView.removeAllChildren()},i([p(cc.Node)],t.prototype,"ScrollView",void 0),i([p(cc.Prefab)],t.prototype,"user_item",void 0),i([p(cc.Font)],t.prototype,"yellow_bmfont",void 0),i([p(cc.Font)],t.prototype,"grey_bmfont",void 0),i([p(cc.SpriteFrame)],t.prototype,"moneyBgSp",void 0),t=i([l],t)}(cc.Component);o.default=u,cc._RF.pop()},{"../../../common/UIHelper":void 0,"../../../common/utils/Utils":void 0,"../../../manager/DataManager":void 0}],QHBOpenRightPlayer:[function(e,t,o){"use strict";cc._RF.push(t,"f0607zPG7hOeLCWDDUuUsGa","QHBOpenRightPlayer");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../common/utils/Utils"),a=e("../../../common/UIHelper"),s=e("../../../manager/DataManager"),c=cc._decorator,l=c.ccclass,p=c.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ScrollView=null,t.user_item=null,t.yellow_bmfont=null,t.grey_bmfont=null,t.moneyBgSp=[],t}return n(t,e),t.prototype.start=function(){},t.prototype.addUserList=function(e,t){this.unscheduleAllCallbacks();var o=e,n=this.ScrollView,i=cc.instantiate(this.user_item),c=i.getChildByName("head"),l=i.getChildByName("name"),p=i.getChildByName("gold");a.default.setHeadIcon(o.headimg_id,c),l.getComponent(cc.Label).string=r.default.getSubStringLengTxt(o.username)||r.default.getReplaceStrToStar(o.player_id),p.getComponent(cc.Label).string="\u6682\u672a\u516c\u5e03",n.addChild(i,0,"item"+t),o.player_id==s.DataManager.userInfo.userid&&(l.color=cc.color(255,255,255))},t.prototype.reflashUserList=function(e,t){var o=this.ScrollView.getChildByName("item"+t);if(null!=o&&void 0!=o){var n=o.getChildByName("gold"),i=o.getChildByName("win_bg").getChildByName("getnum"),c=o.getChildByName("node_icon"),l=o.getChildByName("name"),p=o.getChildByName("head");if(a.default.setHeadIcon(e.headimg_id,p),l.getComponent(cc.Label).string=r.default.getSubStringLengTxt(e.username)||r.default.getReplaceStrToStar(e.player_id),n.getComponent(cc.Label).string=parseFloat(e.bounsMoney).toFixed(2),this.flutterScore(i.getComponent(cc.Label),Number(e.score),cc.v2(0,100)),e.player_id==s.DataManager.userInfo.userid)c.getChildByName("icon1").active=!0,l.color=cc.color(255,255,255);if(e.islucky)c.getChildByName("icon3").active=!0;if(e.isBankuser)c.getChildByName("icon2").active=!0;else if(Number(e.score)<0&&1==e.isMine){var u=o.getChildByName("zhadan");u.active=!0;var d=u.getComponent(sp.Skeleton);d.clearTracks(),d.setAnimation(0,"animation",!1),c.getChildByName("icon4").active=!0}}},t.prototype.flutterScore=function(e,t,o,n){var i=this;e.node.parent.active=!0;var r="";t>=0?(e.font=this.yellow_bmfont,r="+",e.node.parent.getComponent(cc.Sprite).spriteFrame=this.moneyBgSp[0]):(e.font=this.grey_bmfont,r="-",e.node.parent.getComponent(cc.Sprite).spriteFrame=this.moneyBgSp[1]);var a=Math.abs(t);e.string=r+parseFloat(a+"").toFixed(2);var s=cc.moveBy(2.5,o),c=cc.sequence(s,cc.delayTime(.5),cc.callFunc(function(){n&&n()}));e.node.parent.runAction(c),this.scheduleOnce(function(){i.deleteUserList()},2.5)},t.prototype.deleteUserList=function(){this.unscheduleAllCallbacks(),this.ScrollView.removeAllChildren()},i([p(cc.Node)],t.prototype,"ScrollView",void 0),i([p(cc.Prefab)],t.prototype,"user_item",void 0),i([p(cc.Font)],t.prototype,"yellow_bmfont",void 0),i([p(cc.Font)],t.prototype,"grey_bmfont",void 0),i([p(cc.SpriteFrame)],t.prototype,"moneyBgSp",void 0),t=i([l],t)}(cc.Component);o.default=u,cc._RF.pop()},{"../../../common/UIHelper":void 0,"../../../common/utils/Utils":void 0,"../../../manager/DataManager":void 0}],QHBPlayer:[function(e,t,o){"use strict";cc._RF.push(t,"e2db9jSvddMUZzI2Wh5jzZo","QHBPlayer");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=e("./QHBAdapter"),a=e("../../../common/UIHelper"),s=cc._decorator,c=s.ccclass,l=s.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.user_head=null,t.user_name=null,t.user_money=null,t.flutter=null,t.yellow_bmfont=null,t.grey_bmfont=null,t.interVal=null,t}return n(t,e),t.prototype.onLoad=function(){this.originHeadPos=this.user_head.node.position,this.originFlutterPos=this.flutter.node.position},t.prototype.resetView=function(){this.flutter.node.active=!1,this.flutter.string="",this.user_head.node.stopAllActions(),this.unschedule(this.interVal),this.interVal=null},t.prototype.setUserHead=function(e){a.default.setHeadIcon(e,this.user_head.node),this.user_head.spriteFrame||console.log("\u7a7a\u4e86!!!!!!!")},t.prototype.setUserInfo=function(e){var t=e,o=r.QHBAdapter.getSubStringLengTxt(e.username)||r.QHBAdapter.getReplaceStrToStar(e.player_id);this.user_name.string=o,this.setUserHead(e.headimg_id),this.setUserScore(t.gold)},t.prototype.setUserScore=function(e){this.user_money.string=r.QHBAdapter.getFormatGold(e)},t.prototype.shakeHead=function(){this.user_head.node.stopAllActions(),this.user_head.node.position=this.originHeadPos,cc.tween(this.user_head.node).by(.05,{position:cc.v2(0,10)}).by(.05,{position:cc.v2(0,-12)}).by(.05,{position:cc.v2(0,-2)}).start()},t.prototype.flutterScore=function(e,t,o){var n=this;this.flutter.node.position=this.originFlutterPos,this.flutter.node.active=!0;var i="";e>=0?(this.flutter.font=this.yellow_bmfont,i="+"):(this.flutter.font=this.grey_bmfont,i="-");var r=Math.abs(e);this.flutter.string=i+parseFloat(r+"").toFixed(2);var a=cc.moveBy(1.5,t),s=cc.sequence(a,cc.delayTime(.5),cc.callFunc(function(){o&&(o(),n.flutter.node.active=!1)}));this.flutter.node.runAction(s)},t.prototype.onDestroy=function(){this.interVal&&(this.unschedule(this.interVal),this.interVal=null)},i([l(cc.Sprite)],t.prototype,"user_head",void 0),i([l(cc.Label)],t.prototype,"user_name",void 0),i([l(cc.Label)],t.prototype,"user_money",void 0),i([l(cc.Label)],t.prototype,"flutter",void 0),i([l(cc.Font)],t.prototype,"yellow_bmfont",void 0),i([l(cc.Font)],t.prototype,"grey_bmfont",void 0),t=i([c],t)}(cc.Component);o.default=p,cc._RF.pop()},{"../../../common/UIHelper":void 0,"./QHBAdapter":"QHBAdapter"}],QHBRoomView:[function(e,t,o){"use strict";cc._RF.push(t,"f93e2wwEEdDa5pAywCfJVsP","QHBRoomView");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../view/RoomView"),a=e("../../../view/common/componet/ButtonEx"),s=cc._decorator,c=s.ccclass,l=(s.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.initEvent=function(){e.prototype.initEvent.call(this);var t=cc.winSize.width-1280;t>60&&(this.node.getChildByName("nv").getComponent(cc.Widget).left=.3*t-90,this.PageView.getComponent(cc.Widget).right=.3*t+10)},t.prototype.showRoomList=function(e){for(var t=Math.ceil(1),o=1;o<t;o++){var n=cc.instantiate(this.page_item);n.active=!0,this.PageView.addPage(n)}var i=this.PageView.content;for(o=0;o<6;o++){var r=e.game_room_lists[o],s=Math.floor(o/6),c=i.children[s].children[o%6];if(c.opacity=255,r){c.active=!0,c.getChildByName("room_name").getComponent(cc.Label).string=r.room_info.substr(0,1);var l=c.getChildByName("pot_num").getComponent(cc.Label);r.bet_limit.length>0?l.string=r.bet_limit[0]+"-"+r.bet_limit[1]:12==this.data?l.string="\u5927\u76f2\u6ce8: "+r.room_base_note:l.string=""+r.room_base_note,c.getChildByName("permit_num").getComponent(cc.Label).string=""+r.room_min_entrance,c.getComponent(a.default).disabledScale(),c.getComponent(a.default).registerClick(this.onChooseGameRoom.bind(this,r))}else c.active=!1}this.PageView.enabled=t>1},t=i([c],t)}(r.default));o.default=l,cc._RF.pop()},{"../../../view/RoomView":void 0,"../../../view/common/componet/ButtonEx":void 0}],QHBSendBagView:[function(e,t,o){"use strict";cc._RF.push(t,"ab76eM5b1lGhKJQGQadmUF8","QHBSendBagView");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../view/base/PopupView"),a=e("./QHBAdapter"),s=e("../../../manager/DataManager"),c=e("../../../common/utils/Utils"),l=e("../../../manager/NetManager"),p=cc._decorator,u=p.ccclass,d=p.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.btn_close=null,t.btn_sure=null,t.btn_cancel=null,t.node_lei=null,t.node_money=null,t.node_times=null,t.user_item=null,t.ScrollView=null,t.progress_money=null,t.progress_times=null,t.lei_btns=[],t.bao_number=10,t.lei_number=10,t.best_money=0,t.money_type=1,t.cur_money=1,t.cur_times=1,t}return n(t,e),t.prototype.initComponent=function(){var e=this;a.QHBAdapter.addClickEventEND(this.btn_close,this.onClickClose.bind(this)),a.QHBAdapter.addClickEventEND(this.btn_sure,this.onSureTouchEvent.bind(this)),a.QHBAdapter.addClickEventEND(this.btn_cancel,this.onCancelTouchEvent.bind(this)),this.lei_btns=this.node_lei.children,this.lei_btns.forEach(function(t,o){a.QHBAdapter.addClickEventEND(t,e.onLeiTouchEvent.bind(e),o)}),a.QHBAdapter.addClickEventEND(this.node_money.getChildByName("btn_jia"),this.onTouchMoneyAddEvent.bind(this)),a.QHBAdapter.addClickEventEND(this.node_money.getChildByName("btn_jian"),this.onTouchMoneyReduceEvent.bind(this)),a.QHBAdapter.addClickEventEND(this.node_times.getChildByName("btn_jia"),this.onTouchTimesAddEvent.bind(this)),a.QHBAdapter.addClickEventEND(this.node_times.getChildByName("btn_jian"),this.onTouchTimesReduceEvent.bind(this))},t.prototype.initEvent=function(){this.money_number=this.node_money.getChildByName("tips_money").getComponent(cc.Label),this.times_number=this.node_times.getChildByName("tips_times").getComponent(cc.Label),this.times_dot=this.node_times.getChildByName("dot"),this.money_dot=this.node_money.getChildByName("dot"),this.progress_money.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMoveMoney,this),this.progress_times.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMoveTimes,this),this.progress_times.progress=.1,this.times_dot.x=-144,this.times_number.string=1},t.prototype.start=function(){},t.prototype.initData=function(e){this.best_money=Number(e.maxValue),this.money_type=e.maxValue/20,this.cur_money=this.money_type,this.progress_money.progress=this.cur_money/this.best_money,null!=this.money_dot&&void 0!=this.money_dot||(this.money_number=this.node_money.getChildByName("tips_money").getComponent(cc.Label),this.money_dot=this.node_money.getChildByName("dot")),this.money_number.string=this.cur_money+"",this.money_dot.x=this.cur_money/this.best_money*360-180,this.bao_number=e.nums,this.showAutoView(e)},t.prototype.onTouchMoveMoney=function(e){var t=e.getLocation(),o=(this.node.convertToWorldSpaceAR(cc.v2(0,0)),this.node.convertToNodeSpaceAR(t));o.x>=330&&(o.x=330),o.x<=-12&&(o.x=-12);var n=(o.x+30)/360,i=this.best_money/this.money_type,r=Math.floor(n*i);this.progress_money.progress=r/i,this.cur_money=r*this.money_type,this.money_number.string=this.cur_money,this.money_dot.x=r/i*360-180},t.prototype.onTouchMoveTimes=function(e){var t=e.getLocation(),o=(this.node.convertToWorldSpaceAR(cc.v2(0,0)),this.node.convertToNodeSpaceAR(t));o.x>=330&&(o.x=330),o.x<=6&&(o.x=6);var n=(o.x+30)/360,i=Math.floor(10*n);this.progress_times.progress=i/10,this.cur_times=i,this.times_number.string=this.cur_times,this.times_dot.x=i/10*360-180},t.prototype.showAutoView=function(e){var t=this,o=cc.find("view/content",this.ScrollView);o.removeAllChildren(),e.bank_list.forEach(function(e,n){var i=cc.instantiate(t.user_item);i.active=!0;var r=i.getChildByName("name"),a=i.getChildByName("gold"),l=i.getChildByName("icon_wo");r.getComponent(cc.Label).string=c.default.getSubStringLengTxt(e.username)||c.default.getReplaceStrToStar(e.player_id),a.getComponent(cc.Label).string=e.totalMoney,o.addChild(i),e.player_id==s.DataManager.userInfo.userid&&(l.active=!0)}),e.bouns_info&&(this.onLeiTouchEvent(this.node_lei,e.bouns_info.mineNumber),this.progress_money.progress=e.bouns_info.totalMoney/this.best_money,this.money_dot.x=e.bouns_info.totalMoney/this.best_money*360-180,this.cur_money=e.bouns_info.totalMoney,this.money_number.string=e.bouns_info.totalMoney)},t.prototype.onTouchMoneyAddEvent=function(e,t){this.cur_money=this.cur_money+this.money_type,this.cur_money>=this.best_money?(this.cur_money=this.best_money,this.progress_money.progress=1,this.money_dot.x=180):(this.progress_money.progress=this.cur_money/this.best_money,this.money_dot.x=this.cur_money/this.best_money*360-180),this.money_number.string=this.cur_money},t.prototype.onTouchMoneyReduceEvent=function(e,t){this.cur_money=this.cur_money-this.money_type,this.cur_money<this.money_type?(this.cur_money=this.money_type,this.progress_money.progress=this.money_type/this.best_money,this.money_dot.x=this.money_type/this.best_money*360-180):(this.progress_money.progress=this.cur_money/this.best_money,this.money_dot.x=this.cur_money/this.best_money*360-180),this.money_number.string=this.cur_money},t.prototype.onTouchTimesAddEvent=function(e,t){this.cur_times=this.cur_times+1,this.cur_times>=10?(this.cur_times=10,this.progress_times.progress=1,this.times_dot.x=180):(this.progress_times.progress=this.cur_times/10,this.times_dot.x=this.cur_times/10*360-180),this.times_number.string=this.cur_times},t.prototype.onTouchTimesReduceEvent=function(e,t){this.cur_times=this.cur_times-1,this.cur_times<1?(this.cur_times=1,this.progress_times.progress=.1,this.times_dot.x=-144):(this.progress_times.progress=this.cur_times/10,this.times_dot.x=this.cur_times/10*360-180),this.times_number.string=this.cur_times},t.prototype.onLeiTouchEvent=function(e,t){console.log("\u5f53\u524d\u9009\u62e9\u7684\u96f7\u53f7\u662f\uff1a",t),this.lei_btns.forEach(function(e,o){t==o?(e.getComponent(cc.Button).interactable=!1,e.getChildByName("label").color=cc.color(255,255,255)):(e.getComponent(cc.Button).interactable=!0,e.getChildByName("label").color=cc.color(157,70,14))}),this.lei_number=t},t.prototype.onSureTouchEvent=function(){console.log("\u73a9\u5bb6\u4e3b\u52a8\u53d1\u7ea2\u5305\u4e8b\u4ef6");var e={code:0,bouns_info:{},sendNums:0};e.code=1,e.bouns_info={nums:this.bao_number,totalMoney:this.cur_money+"",mineNumber:this.lei_number,player_id:s.DataManager.userInfo.userid,headimg_id:Number(s.DataManager.userInfo.headimgurl),bounsNums:this.cur_times},l.NetManager.getGameProtocol().SendConfirmBounsReq(e),this.onClickClose()},t.prototype.onCancelTouchEvent=function(){console.log("\u73a9\u5bb6\u53d6\u6d88\u53d1\u7ea2\u5305\u4e8b\u4ef6");var e={code:0,bouns_info:{},sendNums:0};e.code=2,e.bouns_info={nums:this.bao_number,totalMoney:this.cur_money+"",mineNumber:this.lei_number,player_id:s.DataManager.userInfo.userid,headimg_id:Number(s.DataManager.userInfo.headimgurl),bounsNums:this.cur_times},l.NetManager.getGameProtocol().SendConfirmBounsReq(e),this.onClickClose()},t.prototype.onClickClose=function(){console.log("fuck you exit"),this.node.destroy()},i([d(cc.Node)],t.prototype,"btn_close",void 0),i([d(cc.Node)],t.prototype,"btn_sure",void 0),i([d(cc.Node)],t.prototype,"btn_cancel",void 0),i([d(cc.Node)],t.prototype,"node_lei",void 0),i([d(cc.Node)],t.prototype,"node_money",void 0),i([d(cc.Node)],t.prototype,"node_times",void 0),i([d(cc.Prefab)],t.prototype,"user_item",void 0),i([d(cc.Node)],t.prototype,"ScrollView",void 0),i([d(cc.ProgressBar)],t.prototype,"progress_money",void 0),i([d(cc.ProgressBar)],t.prototype,"progress_times",void 0),t=i([u],t)}(r.default);o.default=h,cc._RF.pop()},{"../../../common/utils/Utils":void 0,"../../../manager/DataManager":void 0,"../../../manager/NetManager":void 0,"../../../view/base/PopupView":void 0,"./QHBAdapter":"QHBAdapter"}],QHBSpecialBag:[function(e,t,o){"use strict";cc._RF.push(t,"f1361062gdDopQpQhAio0HL","QHBSpecialBag");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../view/base/PopupView"),a=e("./QHBAdapter"),s=cc._decorator,c=s.ccclass,l=s.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.btn_sure=null,t.node_gold=null,t.gold_num=null,t.bigwinSp=null,t.clock_times=3,t}return n(t,e),t.prototype.initComponent=function(){a.QHBAdapter.addClickEventEND(this.btn_sure,this.onSureTouchEvent.bind(this))},t.prototype.initData=function(e){this.node_gold.active=!0,this.gold_num.string="+"+parseFloat(e.caishen_score).toFixed(2),this.schedule(this.onUpdateTimer,1)},t.prototype.onUpdateTimer=function(){this.clock_times=this.clock_times-1,this.clock_times<=0&&(this.clock_times=0,this.onKillTimer())},t.prototype.onKillTimer=function(){this.onUpdateTimer&&this.unschedule(this.onUpdateTimer),this.onSureTouchEvent()},t.prototype.onSureTouchEvent=function(){console.log("\u73a9\u5bb6\u4e3b\u52a8\u5173\u95ed\u7279\u6b8a\u7ea2\u5305\u4e8b\u4ef6"),this.onUpdateTimer&&this.unschedule(this.onUpdateTimer),this.node.destroy()},i([l(cc.Node)],t.prototype,"btn_sure",void 0),i([l(cc.Node)],t.prototype,"node_gold",void 0),i([l(cc.Label)],t.prototype,"gold_num",void 0),i([l(sp.Skeleton)],t.prototype,"bigwinSp",void 0),t=i([c],t)}(r.default);o.default=p,cc._RF.pop()},{"../../../view/base/PopupView":void 0,"./QHBAdapter":"QHBAdapter"}],QHBSpecialGetView:[function(e,t,o){"use strict";cc._RF.push(t,"5ade0az7MVEQ6BA50nKZPeL","QHBSpecialGetView");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../view/base/PopupView"),a=e("./QHBAdapter"),s=e("../../../manager/EventManager"),c=cc._decorator,l=c.ccclass,p=c.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.btn_sure=null,t.bag_name=null,t.bag_string=null,t.spr_mask=null,t.clock_times=3,t.spec_bags=[],t}return n(t,e),t.prototype.initComponent=function(){a.QHBAdapter.addClickEventEND(this.btn_sure,this.onKillTimer.bind(this))},t.prototype.initData=function(e){this.showAutoView(e),this.schedule(this.onUpdateTimer,1)},t.prototype.onUpdateTimer=function(){this.clock_times=this.clock_times-1,this.clock_times<=0&&(this.clock_times=0,this.onKillTimer())},t.prototype.onKillTimer=function(){s.EventManager.emit("ReflashSpecialBagNums",this.spec_bags),this.onUpdateTimer&&this.unschedule(this.onUpdateTimer),this.node.destroy()},t.prototype.showAutoView=function(e){console.log("\u5f53\u524d\u7279\u6b8a\u7ea2\u5305\u4e2a\u6570\u5217\u8868",e.specCards),this.spec_bags=e.specCards;var t="";1==e.specEvent?t="\u6700\u5c0f\u7ea2\u5305":2==e.specEvent?t="\u53cd\u987a\u7ea2\u5305":3==e.specEvent?t="\u987a\u5b50\u7ea2\u5305":4==e.specEvent&&(t="\u8c79\u5b50\u7ea2\u5305"),this.bag_name.string=t,this.bag_string.string="("+parseFloat(e.bounsMoney).toFixed(2)+")"},t.prototype.onDestroy=function(){},i([p(cc.Node)],t.prototype,"btn_sure",void 0),i([p(cc.Label)],t.prototype,"bag_name",void 0),i([p(cc.Label)],t.prototype,"bag_string",void 0),i([p(cc.Node)],t.prototype,"spr_mask",void 0),t=i([l],t)}(r.default);o.default=u,cc._RF.pop()},{"../../../manager/EventManager":void 0,"../../../view/base/PopupView":void 0,"./QHBAdapter":"QHBAdapter"}],QHBTopPanel:[function(e,t,o){"use strict";cc._RF.push(t,"1453fgu6thF4p/UIpRvDxmK","QHBTopPanel");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=e("./QHBAdapter"),a=e("../../../manager/NetManager"),s=cc._decorator,c=s.ccclass,l=s.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.node_back=null,t.table_num=null,t}return n(t,e),t.prototype.onLoad=function(){this.initView(),this.addEvenListener()},t.prototype.initView=function(){this.table_num.string=""},t.prototype.addEvenListener=function(){r.QHBAdapter.addClickEventEND(this.node_back,this.onEvenClickButton.bind(this))},t.prototype.setRoomInfo=function(e){this.table_num.string=e||""},t.prototype.onEvenClickButton=function(e){"node_back"==e.name&&a.NetManager.getGameProtocol().sendUserLeaveRoom()},i([l(cc.Node)],t.prototype,"node_back",void 0),i([l(cc.Label)],t.prototype,"table_num",void 0),t=i([c],t)}(cc.Component);o.default=p,cc._RF.pop()},{"../../../manager/NetManager":void 0,"./QHBAdapter":"QHBAdapter"}]},{},["ProtocolQHB","QHBCmd","QHBAdapter","QHBCenter","QHBFooter","QHBGameScene","QHBGameView","QHBHongbaoClose","QHBHongbaoOpen","QHBHongbaoView","QHBOnlinePlayer","QHBOpenLeftPlayer","QHBOpenRightPlayer","QHBPlayer","QHBRoomView","QHBSendBagView","QHBSpecialBag","QHBSpecialGetView","QHBTopPanel"]);