window.__require=function t(e,o,n){function r(a,c){if(!o[a]){if(!e[a]){var s=a.split("/");if(s=s[s.length-1],!e[s]){var l="function"==typeof __require&&__require;if(!c&&l)return l(s,!0);if(i)return i(s,!0);throw new Error("Cannot find module '"+a+"'")}a=s}var d=o[a]={exports:{}};e[a][0].call(d.exports,function(t){return r(e[a][1][t]||t)},d,d.exports,t,e,o,n)}return o[a].exports}for(var i="function"==typeof __require&&__require,a=0;a<n.length;a++)r(n[a]);return r}({LHDAdapter:[function(t,e,o){"use strict";cc._RF.push(e,"7a77fLAjzFJvpcJii+u3SVF","LHDAdapter");var n=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../../common/utils/Utils"),i=cc._decorator,a=i.ccclass,c=(i.property,function(){function t(){}var e;return e=t,t.prototype.getRandomInt=function(t,e){return r.default.getRandomInt(t,e)},t.prototype.addClickEventEND=function(t,e,o){return r.default.addClickEventEND(t,e,o)},t.prototype.getFormatGold=function(t){return r.default.getFormatGold(t)},t.prototype.getSubStringLengTxt=function(t){return r.default.getSubStringLengTxt(t)},t.prototype.getReplaceStrToStar=function(t){return r.default.getReplaceStrToStar(t)},t.instance=new e,t=e=n([a],t)}());o.LHDAdapter=c.instance,cc._RF.pop()},{"../../../common/utils/Utils":void 0}],LHDBetArea:[function(t,e,o){"use strict";cc._RF.push(e,"73d25OHrKxEnoRCgzhwx9U/","LHDBetArea");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=t("./LHDAdapter"),a=t("./LHDChrome"),c=t("../../../manager/AudioManager"),s=t("../../../manager/NetManager"),l=t("../../../manager/UIManager"),d=cc._decorator,p=d.ccclass,u=d.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.blink=null,e.bet_num=null,e.game_multiple=null,e.chrome_content=null,e.spine=null,e.btn_bet=null,e.chip=null,e.MaxArea=cc.v2(0,0),e.MinArea=cc.v2(0,0),e.LocIdx=0,e.chipPool=null,e.BANKER_VPOS=cc.v2(0,220),e.can_bet=!1,e}return n(e,t),e.prototype.onLoad=function(){this.resetArea(),this.initNodePool(),i.LHDAdapter.addClickEventEND(this.btn_bet,this.onBetEvent.bind(this))},e.prototype.onDestroy=function(){this.chipPool.clear()},e.prototype.initNodePool=function(){this.chipPool=new cc.NodePool},e.prototype.resetArea=function(){this.blink.active=!1,this.bet_num.string="",this.spine.clearTracks(),this.spine.node.active=!1,this.removeAreaChip()},e.prototype.createChip=function(t){var e=null;return(e=this.chipPool.size()>0?this.chipPool.get():cc.instantiate(this.chip)).getComponent(a.default).setViewChip(t),e},e.prototype.clearChip=function(t){(t=t||this.chrome_content.children[0]).stopAllActions(),this.chipPool.put(t),t.removeFromParent()},e.prototype.onBetChipAni=function(t){var e=-(cc.view.getVisibleSize().width/2+this.node.x+100),o=i.LHDAdapter.getRandomInt(-150,150),n=this.createChip(t);n.setPosition(cc.v2(e,o));var r=i.LHDAdapter.getRandomInt(this.MinArea.x,this.MaxArea.x),a=i.LHDAdapter.getRandomInt(this.MinArea.y,this.MaxArea.y),c=i.LHDAdapter.getRandomInt(-360,360),s=cc.moveTo(.2,cc.v2(r,a)),l=cc.rotateTo(.3,c);n.runAction(cc.spawn(s,l)),this.chrome_content.addChild(n)},e.prototype.onUserBetChipAni=function(t,e){var o=t.convertToWorldSpaceAR(cc.v2(0,0)),n=this.chrome_content.convertToNodeSpaceAR(o),r=this.createChip(e);r.setPosition(cc.v2(n.x,n.y));var a=i.LHDAdapter.getRandomInt(this.MinArea.x,this.MaxArea.x),c=i.LHDAdapter.getRandomInt(this.MinArea.y,this.MaxArea.y),s=i.LHDAdapter.getRandomInt(-360,360),l=cc.moveTo(.2,cc.v2(a,c)),d=cc.rotateTo(.3,s);r.runAction(cc.spawn(l,d)),this.chrome_content.addChild(r)},e.prototype.onRecoverChipInAre=function(t){var e=this;t.forEach(function(t,o){var n=e.createChip(t),r=i.LHDAdapter.getRandomInt(e.MinArea.x,e.MaxArea.x),a=i.LHDAdapter.getRandomInt(e.MinArea.y,e.MaxArea.y),c=i.LHDAdapter.getRandomInt(-360,360);n.setPosition(cc.v2(r,a)),n.angle=c,n.active=!0,e.chrome_content.addChild(n)})},e.prototype.onAreaToBanker=function(){for(var t=this,e=this.node.parent.convertToWorldSpaceAR(this.BANKER_VPOS),o=this.node.convertToNodeSpaceAR(e),n=this.chrome_content.childrenCount,r=function(e){var n=i.chrome_content.children[e],r=cc.moveTo(.5,cc.v2(o.x,o.y)),a=cc.sequence(r,cc.callFunc(function(){t.clearChip(n)}));n.runAction(a)},i=this,a=0;a<n;a++)r(a);c.AudioManager.playSFX("flychip")},e.prototype.onBankerToArea=function(){for(var t=this,e=this.node.parent.convertToWorldSpaceAR(this.BANKER_VPOS),o=this.node.convertToNodeSpaceAR(e),n=i.LHDAdapter.getRandomInt(5,15),r=0;r<n;r++){var a=o.x+i.LHDAdapter.getRandomInt(-50,50),l=o.y+i.LHDAdapter.getRandomInt(-50,50),d=i.LHDAdapter.getRandomInt(this.MinArea.x,this.MaxArea.x),p=i.LHDAdapter.getRandomInt(this.MinArea.y,this.MaxArea.y),u=i.LHDAdapter.getRandomInt(0,4),h=s.NetManager.getGameProtocol().BET_CHROME_VALUE[u],f=this.createChip(h);f.setPosition(cc.v2(a,l));var _=cc.moveTo(.5,cc.v2(d,p));f.runAction(_),this.chrome_content.addChild(f)}this.scheduleOnce(function(){t.onAreaToPlayer()},.6),c.AudioManager.playSFX("flychip")},e.prototype.onAreaToPlayer=function(){for(var t=this,e=-(cc.view.getVisibleSize().width/2+this.node.x+100),o=this.chrome_content.childrenCount,n=function(o){var n=r.chrome_content.children[o],a=i.LHDAdapter.getRandomInt(-150,150),c=cc.moveTo(.5,cc.v2(e,a)),s=cc.sequence(c,cc.callFunc(function(){t.clearChip(n)}));n.runAction(s)},r=this,a=0;a<o;a++)n(a);c.AudioManager.playSFX("flychip")},e.prototype.onWinAreaBlink=function(t){if(void 0===t&&(t=!0),this.blink.active=!0,t){this.blink.opacity=0;var e=cc.blink(1,4);this.blink.runAction(e)}},e.prototype.setViewBetNum=function(t,e){this.bet_num.string="<color=#FFF153>"+e+"</c><color=#FFFFFF>/"+t+"</color>"},e.prototype.clearViewBetChip=function(){this.bet_num.string=""},e.prototype.setAreaGameMultiple=function(t){this.game_multiple.string="x"+t},e.prototype.switchBetTouch=function(t){this.can_bet=t},e.prototype.setViewWinSpine=function(){var t=this;this.spine.node.active=!0,this.spine.clearTracks(),this.spine.setAnimation(0,"animation",!1),this.spine.setCompleteListener(function(){console.log("\u64ad\u653e\u5b8c\u6bd5"),t.spine.clearTracks(),t.spine.node.active=!1})},e.prototype.onBetEvent=function(t){if(this.can_bet){var e=s.NetManager.getGameProtocol().BET_VALUE;e*=1,console.log("\u53d1\u9001\u4e0b\u6ce8\u4e8b\u4ef6 \u6570\u503c:",e,"\u8303\u56f4:",this.LocIdx),s.NetManager.getGameProtocol().sendBetReq(e,this.LocIdx)}else l.UIManager.showTips("\u975e\u4e0b\u6ce8\u72b6\u6001, \u8bf7\u7b49\u5f85")},e.prototype.removeAreaChip=function(){for(var t=this.chrome_content.childrenCount,e=0;e<t;e++)this.clearChip()},r([u(cc.Node)],e.prototype,"blink",void 0),r([u(cc.RichText)],e.prototype,"bet_num",void 0),r([u(cc.Label)],e.prototype,"game_multiple",void 0),r([u(cc.Node)],e.prototype,"chrome_content",void 0),r([u(sp.Skeleton)],e.prototype,"spine",void 0),r([u(cc.Node)],e.prototype,"btn_bet",void 0),r([u(cc.Prefab)],e.prototype,"chip",void 0),r([u],e.prototype,"MaxArea",void 0),r([u],e.prototype,"MinArea",void 0),r([u],e.prototype,"LocIdx",void 0),e=r([p],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../../../manager/AudioManager":void 0,"../../../manager/NetManager":void 0,"../../../manager/UIManager":void 0,"./LHDAdapter":"LHDAdapter","./LHDChrome":"LHDChrome"}],LHDCard:[function(t,e,o){"use strict";cc._RF.push(e,"30c95MEF39DWIHJSsTSbzj5","LHDCard");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../public/createPoker"),a=t("../../../manager/AudioManager"),c=cc._decorator,s=c.ccclass,l=c.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.poker=[],e.originPokerPos=[],e.originPokerScale=[],e}return n(e,t),e.prototype.onLoad=function(){var t=this;this.poker.forEach(function(e,o){e.createPoker(),e.node.active=!1,t.originPokerPos[o]=t.poker[o].node.position,t.originPokerScale[o]=t.poker[o].node.scale})},e.prototype.sendCardAni=function(){for(var t=this.node.parent.convertToWorldSpaceAR(cc.v2(0,0)),e=this.node.convertToNodeSpaceAR(t),o=0;o<2;o++){this.poker[o].node.active=!0,this.poker[o].node.setPosition(e),this.poker[o].createPoker(),this.poker[o].node.scale=0;var n=cc.sequence(cc.delayTime(.15*o),cc.spawn(cc.scaleTo(.3,this.originPokerScale[o]),cc.moveTo(.3,this.originPokerPos[o])));this.poker[o].node.runAction(n)}a.AudioManager.playSFX("send_card")},e.prototype.showPoker=function(t){var e=this;void 0===t&&(t=!0),this.poker.forEach(function(o,n){o.node.stopAllActions(),o.node.setPosition(e.originPokerPos[n]),o.node.setScale(e.originPokerScale[n]),o.node.active=t,o.createPoker()})},e.prototype.openPoker=function(t,e,o){if(void 0===o&&(o=!0),this.poker[t].node.active=!0,this.poker[t].node.stopAllActions(),this.poker[t].node.scale=this.originPokerScale[t],this.poker[t].node.setPosition(this.originPokerPos[t]),o){this.poker[t].setCardAni(e);var n=0==t?"lhd_dragon":"lhd_tiger",r=this.poker[t].getCardLogicValue();a.AudioManager.playGameSFX(n),this.scheduleOnce(function(){a.AudioManager.playGameSFX("lhd_"+r)},.5)}else this.poker[t].createPoker(e)},r([l(i.default)],e.prototype,"poker",void 0),e=r([s],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../../../manager/AudioManager":void 0,"../../public/createPoker":void 0}],LHDChrome:[function(t,e,o){"use strict";cc._RF.push(e,"2ac0713sb5MSZPD4ciU6+Ih","LHDChrome");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../../manager/NetManager"),a=cc._decorator,c=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.fnt_bg=null,e.fnt_num=null,e.FNT_NUM_LIST=["Z","X","C","V","B"],e}return n(e,t),e.prototype.setViewChip=function(t){var e=this.node.getChildByName("num_node");e&&this.node.removeChild(e);var o="";o=t>=1e3&&t<1e4?(t/1e3).toString().slice(0,3)+"K":t>=1e4?(t/1e4).toString().slice(0,3)+"W":t,this.fnt_num.string=o;for(var n=i.NetManager.getGameProtocol().BET_CHROME_VALUE,r=0;r<n.length;r++){if(t==n[r]){this.fnt_bg.string=this.FNT_NUM_LIST[r];break}}},r([s(cc.Label)],e.prototype,"fnt_bg",void 0),r([s(cc.Label)],e.prototype,"fnt_num",void 0),e=r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{"../../../manager/NetManager":void 0}],LHDCmd:[function(t,e,o){"use strict";cc._RF.push(e,"03366Sf1LtHlJylequIPsal","LHDCmd"),Object.defineProperty(o,"__esModule",{value:!0}),o.LHDCmd="217_0",o.ProtocolLHDCmd={GameStartNotify:o.LHDCmd+"_game_start_notify",GameBetNotify:o.LHDCmd+"_game_bet_notify",BetNotify:o.LHDCmd+"_bet_notify",OtherBetNotify:o.LHDCmd+"_other_bet_notify",ShowCardNotify:o.LHDCmd+"_show_card_notify",GameConcludeNotify:o.LHDCmd+"_game_conclude_notify",GameReconnectInfo:o.LHDCmd+"_game_reconnect_info",OtherUsersRes:o.LHDCmd+"_other_users_res"},cc._RF.pop()},{}],LHDFooterAllRoad:[function(t,e,o){"use strict";cc._RF.push(e,"b6b7eigzcpNTqUMFWJSOQEj","LHDFooterAllRoad");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=t("./LHDRoadList"),a=cc._decorator,c=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.LHDRoadList=null,e.node_bead_road=null,e.frame_bead_road=[],e.node_big_road=null,e.frame_big_road=[],e.node_big_eye_road=null,e.frame_big_eye_road=[],e.node_small_eye_road=null,e.frame_small_eye_road=[],e.node_roach_road=null,e.frame_roach_road=[],e}return n(e,t),e.prototype.drawRoad=function(){this.drawBeadRoad(),this.drawBigRoad(),this.drawBigEyeRoad(),this.drawSmallEyeRoad(),this.drawRoachRoad()},e.prototype.drawBeadRoad=function(){var t=0,e=this.LHDRoadList.beadRoad,o=this.LHDRoadList.chess_item;e.length>48&&(t=e.length-48),this.node_bead_road.children.forEach(function(t,e){t.active=!1});for(var n=0,r=t;r<e.length;r++){var i=e[r],a=void 0;this.node_bead_road.children[n]?(a=this.node_bead_road.children[n]).getComponent(cc.Sprite).spriteFrame=null:(a=cc.instantiate(o),this.node_bead_road.addChild(a)),a.active=!0,n++,a.getComponent(cc.Sprite).spriteFrame=this.frame_bead_road[i-1]}},e.prototype.drawBigRoad=function(){var t=0,e=7,o=this.LHDRoadList.bRList,n=this.LHDRoadList.getChessItem(),r=this.LHDRoadList.getTextItem();for(var i in o){var a=i.toString().split("-"),c=parseInt(a[0]);c>=e&&(e=c)}e>7&&(t=e-7),this.node_big_road.children.forEach(function(t,e){t.active=!1});for(var s=0,l=t;l<=e;l++)for(var d=0;d<6;d++){var p=o[l+"-"+d],u=void 0;if(this.node_big_road.children[s]?((u=this.node_big_road.children[s]).getComponent(cc.Sprite).spriteFrame=null,u.removeAllChildren()):(u=cc.instantiate(n),this.node_big_road.addChild(u)),u.active=!0,p&&(p.long_hu&&(u.getComponent(cc.Sprite).spriteFrame=this.frame_big_road[1==p.long_hu?0:1]),p.num)){var h=cc.instantiate(r);h.getComponent(cc.Label).string=p.num+"",u.addChild(h)}s++}},e.prototype.drawBigEyeRoad=function(){var t=0,e=7,o=this.LHDRoadList.bEyeRList,n=this.LHDRoadList.getChessItem();for(var r in o){var i=r.toString().split("-"),a=parseInt(i[0]);a>=e&&(e=a)}e>7&&(t=e-7),this.node_big_eye_road.children.forEach(function(t,e){t.active=!1});for(var c=0,s=t;s<=e;s++)for(var l=0;l<6;l++){var d=o[s+"-"+l],p=void 0;this.node_big_eye_road.children[c]?(p=this.node_big_eye_road.children[c]).getComponent(cc.Sprite).spriteFrame=null:(p=cc.instantiate(n),this.node_big_eye_road.addChild(p)),p.active=!0,d&&(p.getComponent(cc.Sprite).spriteFrame=this.frame_big_eye_road[1==d.lan_hong?0:1]),c++}},e.prototype.drawSmallEyeRoad=function(){var t=0,e=14,o=this.LHDRoadList.sEyeRList,n=this.LHDRoadList.getChessItem();for(var r in o){var i=r.toString().split("-"),a=parseInt(i[0]);a>=e&&(e=a)}e>14&&(t=e-14),this.node_small_eye_road.children.forEach(function(t,e){t.active=!1});for(var c=0,s=t;s<=e;s++)for(var l=0;l<6;l++){var d=o[s+"-"+l],p=void 0;this.node_small_eye_road.children[c]?(p=this.node_small_eye_road.children[c]).getComponent(cc.Sprite).spriteFrame=null:(p=cc.instantiate(n),this.node_small_eye_road.addChild(p)),p.active=!0,p.setContentSize(cc.size(6,6)),d&&(p.getComponent(cc.Sprite).spriteFrame=this.frame_small_eye_road[1==d.lan_hong?0:1]),c++}},e.prototype.drawRoachRoad=function(){var t=0,e=14,o=this.LHDRoadList.roachRList,n=this.LHDRoadList.getChessItem();for(var r in o){var i=r.toString().split("-"),a=parseInt(i[0]);a>=e&&(e=a)}e>14&&(t=e-14),this.node_roach_road.children.forEach(function(t,e){t.active=!1});for(var c=0,s=t;s<=e;s++)for(var l=0;l<6;l++){var d=o[s+"-"+l],p=void 0;this.node_roach_road.children[c]?(p=this.node_roach_road.children[c]).getComponent(cc.Sprite).spriteFrame=null:(p=cc.instantiate(n),this.node_roach_road.addChild(p)),p.setContentSize(cc.size(6,7)),p.active=!0,d&&(p.getComponent(cc.Sprite).spriteFrame=this.frame_roach_road[1==d.lan_hong?0:1]),c++}},r([s(i.default)],e.prototype,"LHDRoadList",void 0),r([s(cc.Node)],e.prototype,"node_bead_road",void 0),r([s(cc.SpriteFrame)],e.prototype,"frame_bead_road",void 0),r([s(cc.Node)],e.prototype,"node_big_road",void 0),r([s(cc.SpriteFrame)],e.prototype,"frame_big_road",void 0),r([s(cc.Node)],e.prototype,"node_big_eye_road",void 0),r([s(cc.SpriteFrame)],e.prototype,"frame_big_eye_road",void 0),r([s(cc.Node)],e.prototype,"node_small_eye_road",void 0),r([s(cc.SpriteFrame)],e.prototype,"frame_small_eye_road",void 0),r([s(cc.Node)],e.prototype,"node_roach_road",void 0),r([s(cc.SpriteFrame)],e.prototype,"frame_roach_road",void 0),e=r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{"./LHDRoadList":"LHDRoadList"}],LHDFooterBeadRoad:[function(t,e,o){"use strict";cc._RF.push(e,"5247bY/F+JMiIWsVSOcRGJA","LHDFooterBeadRoad");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=t("./LHDRoadList"),a=cc._decorator,c=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.LHDRoadList=null,e.node_bead_road=null,e.frame_bead_road=[],e}return n(e,t),e.prototype.drawRoad=function(){this.drawBeadRoad()},e.prototype.drawBeadRoad=function(){var t=0,e=this.LHDRoadList.beadRoad,o=this.LHDRoadList.getChessItem();e.length>180&&(t=e.length-180),this.node_bead_road.children.forEach(function(t,e){t.active=!1});for(var n=0,r=t;r<e.length;r++){var i=e[r],a=void 0;this.node_bead_road.children[n]?(a=this.node_bead_road.children[n]).getComponent(cc.Sprite).spriteFrame=null:(a=cc.instantiate(o),this.node_bead_road.addChild(a)),a.active=!0,n++,a.getComponent(cc.Sprite).spriteFrame=this.frame_bead_road[i-1]}},r([s(i.default)],e.prototype,"LHDRoadList",void 0),r([s(cc.Node)],e.prototype,"node_bead_road",void 0),r([s(cc.SpriteFrame)],e.prototype,"frame_bead_road",void 0),e=r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{"./LHDRoadList":"LHDRoadList"}],LHDFooterBigRoad:[function(t,e,o){"use strict";cc._RF.push(e,"be889Vnq9dJ5I8/s+pI+hqy","LHDFooterBigRoad");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=t("./LHDRoadList"),a=cc._decorator,c=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.LHDRoadList=null,e.node_big_road=null,e.frame_big_road=[],e}return n(e,t),e.prototype.drawRoad=function(){this.drawBigRoad()},e.prototype.drawBigRoad=function(){var t=0,e=29,o=this.LHDRoadList.bRList,n=this.LHDRoadList.getChessItem(),r=this.LHDRoadList.getTextItem();for(var i in o){var a=i.toString().split("-"),c=parseInt(a[0]);c>=e&&(e=c)}e>29&&(t=e-29),this.node_big_road.children.forEach(function(t,e){t.active=!1});for(var s=0,l=t;l<=e;l++)for(var d=0;d<6;d++){var p=o[l+"-"+d],u=void 0;if(this.node_big_road.children[s]?((u=this.node_big_road.children[s]).getComponent(cc.Sprite).spriteFrame=null,u.removeAllChildren()):(u=cc.instantiate(n),this.node_big_road.addChild(u)),u.active=!0,p&&(p.long_hu&&(u.getComponent(cc.Sprite).spriteFrame=this.frame_big_road[1==p.long_hu?0:1]),p.num)){var h=cc.instantiate(r);h.getComponent(cc.Label).string=p.num+"",u.addChild(h)}s++}},r([s(i.default)],e.prototype,"LHDRoadList",void 0),r([s(cc.Node)],e.prototype,"node_big_road",void 0),r([s(cc.SpriteFrame)],e.prototype,"frame_big_road",void 0),e=r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{"./LHDRoadList":"LHDRoadList"}],LHDFooter:[function(t,e,o){"use strict";cc._RF.push(e,"53034EiXypBcZcD3StOS/YA","LHDFooter");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=t("./LHDAdapter"),a=t("../../../manager/NetManager"),c=cc._decorator,s=c.ccclass,l=c.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.node_bet=null,e.bet_btns=[],e.bet_nums=[],e.bet_blinks=[],e.last_click=0,e}return n(e,t),e.prototype.onLoad=function(){var t=this;this.bet_btns=this.node_bet.children,this.bet_btns.forEach(function(e,o){var n=e.getChildByName("num").getComponent(cc.Label);n.string="",t.bet_nums.push(n);var r=e.getChildByName("blink");r.active=!1,t.bet_blinks.push(r),i.LHDAdapter.addClickEventEND(e,t.onBetTouchEvent.bind(t),o)}),this.bet_blinks[0].active=!0},e.prototype.setChromeBet=function(t){this.bet_nums.forEach(function(e,o){var n=t[o],r="";r=n>=1e3&&n<1e4?n/1e3+"K":n>=1e4?n/1e4+"W":n+"",e.getComponent(cc.Label).string=r}),a.NetManager.getGameProtocol().BET_CHROME_VALUE=t},e.prototype.setBetValue=function(){a.NetManager.getGameProtocol().BET_VALUE=a.NetManager.getGameProtocol().BET_CHROME_VALUE[this.last_click]},e.prototype.onBetTouchEvent=function(t,e){e!=this.last_click&&(this.bet_blinks.forEach(function(t,e){t.active=!1}),this.bet_blinks[e].active=!0,this.last_click=e,this.setBetValue())},r([l(cc.Node)],e.prototype,"node_bet",void 0),e=r([s],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../../../manager/NetManager":void 0,"./LHDAdapter":"LHDAdapter"}],LHDGameScene:[function(t,e,o){"use strict";cc._RF.push(e,"405e6bFOJFL5b9TLb3zxP4g","LHDGameScene");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=t("./LHDGameView"),a=t("../../../manager/EventManager"),c=t("../../../net/NetCmd"),s=t("../protocol/LHDCmd"),l=t("../../../manager/UIManager"),d=cc._decorator,p=d.ccclass,u=d.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.GameView=null,e}return n(e,t),e.prototype.onLoad=function(){this.GameView.GameScene=this,this.initData(),this.initEvent(),l.UIManager.hideMarquee()},e.prototype.initData=function(){},e.prototype.initEvent=function(){a.EventManager.on(this,c.ProtocolGameCmd.GameLoginResp,this.onGameLoginResp.bind(this)),a.EventManager.on(this,s.ProtocolLHDCmd.GameStartNotify,this.onGameStart.bind(this)),a.EventManager.on(this,s.ProtocolLHDCmd.GameBetNotify,this.onSubGameBet.bind(this)),a.EventManager.on(this,s.ProtocolLHDCmd.BetNotify,this.onBetNotify.bind(this)),a.EventManager.on(this,s.ProtocolLHDCmd.OtherBetNotify,this.onOtherBetNotify.bind(this)),a.EventManager.on(this,s.ProtocolLHDCmd.ShowCardNotify,this.onShowCardNotify.bind(this)),a.EventManager.on(this,s.ProtocolLHDCmd.GameConcludeNotify,this.onGameConcludeNotify.bind(this)),a.EventManager.on(this,s.ProtocolLHDCmd.GameReconnectInfo,this.onSubJoinRoom.bind(this)),a.EventManager.on(this,s.ProtocolLHDCmd.OtherUsersRes,this.onOtherUsersRes.bind(this)),a.EventManager.on(this,c.GameCommonEvent.UpdateUserScore,this.onUpdateUserScore.bind(this))},e.prototype.onGameLoginResp=function(t){console.log("\u6548\u9a8c\u6210\u529f====>",t),this.GameView.initUserInfo()},e.prototype.onGameStart=function(t){console.log("\u6e38\u620f\u5f00\u59cb"),this.GameView.onSubGameStart(t)},e.prototype.onSubGameBet=function(t){console.log("%c \u901a\u77e5\u5f00\u59cb\u4e0b\u6ce8","font-size:30px;color:blue;",t),this.GameView.onSubGameBet(t)},e.prototype.onBetNotify=function(t){this.GameView.onBetNotify(t)},e.prototype.onOtherBetNotify=function(t){this.GameView.onGamePlayerBetNotify(t)},e.prototype.onShowCardNotify=function(t){console.log("%c  \u505c\u6b62\u4e0b\u6ce8 \u5f00\u724c\u901a\u77e5","font-size:30px;color:blue;",t),this.GameView.onSubShowCard(t)},e.prototype.onGameConcludeNotify=function(t){console.log("%c  \u7ed3\u7b97\u901a\u77e5","font-size:30px;color:red;",t),this.GameView.onSubGameEnd(t)},e.prototype.onSubJoinRoom=function(t){console.log("%c \u52a0\u5165\u623f\u95f4\u901a\u77e5","color:green;font-size:34px",t),this.GameView.onSubJoinRoom(t)},e.prototype.onOtherUsersRes=function(t){console.log("%c \u83b7\u53d6\u5728\u7ebf\u73a9\u5bb6\u4eba\u6570\u56de\u5e94","font-size:30px;color:blue;",t),this.GameView.onGetOnlineUserRes(t)},e.prototype.onUpdateUserScore=function(t){this.GameView.onUpdateUserScore(t)},e.prototype.onDestroy=function(){a.EventManager.off(this)},r([u(i.default)],e.prototype,"GameView",void 0),e=r([p],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../../../manager/EventManager":void 0,"../../../manager/UIManager":void 0,"../../../net/NetCmd":void 0,"../protocol/LHDCmd":"LHDCmd","./LHDGameView":"LHDGameView"}],LHDGameView:[function(t,e,o){"use strict";cc._RF.push(e,"d5dbfE8joBBoaYfM+DGNCo7","LHDGameView");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a},i=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(r,i){function a(t){try{s(n.next(t))}catch(t){i(t)}}function c(t){try{s(n.throw(t))}catch(t){i(t)}}function s(t){t.done?r(t.value):new o(function(e){e(t.value)}).then(a,c)}s((n=n.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var o,n,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(r=2&i[0]?n.return:i[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,i[1])).done)return r;switch(n=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],n=0}finally{o=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var c=t("./LHDRoadList"),s=t("./LHDTable"),l=t("./LHDBetArea"),d=t("./LHDFooter"),p=t("./LHDPlayer"),u=t("./LHDRecord"),h=t("./LHDCard"),f=t("./LHDTopPanel"),_=t("./LHDOnlinePlayer"),m=t("./LHDRoadDetail"),v=t("./LHDAdapter"),y=t("../../../manager/DataManager"),g=t("../../../manager/AudioManager"),L=t("../../../manager/UIManager"),b=t("../../../manager/EventManager"),R=t("../../../net/NetCmd"),D=t("../../../manager/ResManager"),H=t("../../../manager/NetManager"),A=cc._decorator,C=A.ccclass,P=A.property,w=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.LHDRoadList=null,e.LHDTable=null,e.LHDCard=null,e.LHDFooter=null,e.LHDPlayer=null,e.LHDRecord=null,e.LHDBetArea=[],e.LHDOnlinePlayer=null,e.LHDTopPanel=null,e.LHDRoadDetail=null,e.UINode=null,e.user_node=null,e.start_bet=null,e.stop_bet=null,e.GameScene=null,e.LIMIT_MAX_NUM=[],e.LIMIT_MIN_NUM=[],e}return n(e,t),e.prototype.onLoad=function(){g.AudioManager.playGameBGM("lhd_bgm"),this.LHDRecord.GameView=this,this.initChat()},e.prototype.initChat=function(){return i(this,void 0,void 0,function(){var t,e;return a(this,function(o){switch(o.label){case 0:return[4,D.ResManager.loadResAsync("prefabs/common/GameChat",cc.Prefab,!1)];case 1:return(t=o.sent())&&cc.isValid(this.node)&&!this.node.getChildByName("GameChat")&&(e=cc.instantiate(t),this.node.addChild(e)),[2]}})})},e.prototype.initUserInfo=function(){var t={username:v.LHDAdapter.getSubStringLengTxt(y.DataManager.userInfo.nickname)||v.LHDAdapter.getReplaceStrToStar(y.DataManager.userInfo.userid),gold:y.DataManager.userInfo.gold,headimg_id:y.DataManager.userInfo.headimgurl,vip_level:y.DataManager.userInfo.vip_level};this.LHDPlayer.setUserInfo(t)},e.prototype.resetGameView=function(){this.LHDBetArea.forEach(function(t,e){t.resetArea()})},e.prototype.onSubJoinRoom=function(t){var e=this;this.LHDTopPanel.setRoomInfo(t.room_info),this.LHDPlayer.setUserScore(t.gold),this.LHDPlayer.resetView(),this.LIMIT_MIN_NUM=t.limit_min_num,this.LIMIT_MAX_NUM=t.limit_max_num;var o=t.record_arr;this.LHDRoadList.calculateRoad(o),this.LHDRecord.setRecentGame(),this.LHDRecord.drawRoad(),this.LHDRoadDetail.drawDetailRoad(),this.LHDRoadDetail.setLimitBetNum(t.limit_min_num,t.limit_max_num);var n=t.game_multiple_arr;this.LHDBetArea.forEach(function(t,e){t.setAreaGameMultiple(n[e])});var r=0;t.bet_num_info.forEach(function(t,o){r+=t.sum_bet_num;var n=o;e.LHDBetArea[n].setViewBetNum(t.user_bet_num,t.sum_bet_num)}),b.EventManager.emit(R.GameCommonEvent.UpdateAllBet,r),this.LHDFooter.setChromeBet(t.bet_value_arr),this.LHDFooter.setBetValue();var i=t.game_state;2!=i&&3!=i||t.bet_value_info.forEach(function(t,o){var n=t.loc-1;e.LHDBetArea[n].onRecoverChipInAre(t.bet_value)});if(this.LHDBetArea.forEach(function(t,e){t.switchBetTouch(!1)}),1==i)this.LHDCard.showPoker();else if(2==i)this.LHDCard.showPoker(),this.LHDBetArea.forEach(function(t,e){t.switchBetTouch(!0)});else if(i>=3){if(t.card_deck.forEach(function(t,o){e.LHDCard.openPoker(o,t,!1)}),4==i){var a=o[o.length-1]-1;this.LHDBetArea[a].onWinAreaBlink(!1),this.LHDBetArea[a].setViewWinSpine()}}var c=i-1;this.LHDTable.setGameState(c),this.LHDTable.onKillTimer();var s={limit_time:t.time_out,playAudio:2==i,vibrate:2==i,exclusiveAudio:null};2==i&&(s.exclusiveAudio="lhd_countdown"),this.LHDTable.setGameTimer(s)},e.prototype.showStartBetAni=function(){var t=this;this.start_bet.node.active=!0,this.start_bet.clearTracks(),this.start_bet.addAnimation(0,"animation",!1),this.start_bet.setCompleteListener(function(){t.start_bet.setCompleteListener(null),t.start_bet.node.active=!1})},e.prototype.onSubGameStart=function(t){var e=this;H.NetManager.protocolGameCommon.needFlushGold=!1,this.LHDBetArea.forEach(function(t,e){t.resetArea()}),this.LHDPlayer.resetView(),this.LHDCard.showPoker(!1);this.LHDTable.onStartShow(function(){e.LHDCard.sendCardAni()}),this.scheduleOnce(function(){g.AudioManager.playGameSFX("lhd_startbets"),e.showStartBetAni()},3),this.LHDTable.setGameState(0),this.LHDTable.onKillTimer(),this.LHDTable.setGameTimer({limit_time:t.time_out}),g.AudioManager.playGameSFX("lhd_crossing")},e.prototype.showEndBetAni=function(t){var e=this;this.stop_bet.node.active=!0,this.stop_bet.clearTracks(),this.stop_bet.addAnimation(0,"animation",!1),this.stop_bet.setCompleteListener(function(){e.stop_bet.setCompleteListener(null),e.stop_bet.node.active=!1,t&&t()})},e.prototype.onSubGameBet=function(t){this.LHDCard.showPoker(),this.LHDBetArea.forEach(function(t,e){t.switchBetTouch(!0)}),this.LHDTable.setGameState(1),this.LHDTable.onKillTimer(),this.LHDTable.setGameTimer({limit_time:t.time_out,playAudio:!0,vibrate:!0,exclusiveAudio:"lhd_countdown"})},e.prototype.onBetNotify=function(t){var e=this;if(1==t.result){y.DataManager.userInfo.gold=t.gold,this.LHDPlayer.setUserScore(t.gold);var o=0;t.bet_num_info.forEach(function(t,n){var r=n;o+=t.sum_bet_num,e.LHDBetArea[r].setViewBetNum(t.user_bet_num,t.sum_bet_num)}),b.EventManager.emit(R.GameCommonEvent.UpdateAllBet,o);var n=t.bet_value_info,r=n.loc-1;n.bet_value.forEach(function(t,o){e.LHDBetArea[r].onUserBetChipAni(e.user_node,t)}),this.LHDPlayer.shakeHead(),this.LHDTable.pauseAudio(),this.LHDTable.pauseVibrate(),g.AudioManager.playSFX("flychip")}else 2==t.result?L.UIManager.showTips("\u8be5\u533a\u57df\u8fbe\u5230\u9650\u5236"):3==t.result?L.UIManager.showTips("\u91d1\u5e01\u4e0d\u8db3"):4==t.result?L.UIManager.showTips("\u975e\u4e0b\u6ce8\u72b6\u6001, \u8bf7\u7b49\u5f85"):5==t.result?L.UIManager.showTips("\u60a8\u662f\u5e84\u5bb6\uff0c\u8bf7\u7b49\u5f85\u5176\u4ed6\u73a9\u5bb6\u4e0b\u6ce8"):6==t.result&&L.UIManager.showTips("\u672c\u5c40\u5e84\u5bb6\u53ef\u63a5\u53d7\u62bc\u6ce8\u91d1\u989d\u5df2\u8fbe\u4e0a\u9650, \u8bf7\u7b49\u5f85\u6e38\u620f\u5f00\u59cb")},e.prototype.onGamePlayerBetNotify=function(t){var e=this,o=t.bet_num_info;t.bet_value_info.forEach(function(t,o){var n=t.loc-1;t.bet_value.forEach(function(t,o){e.LHDBetArea[n].onBetChipAni(t)})});var n=0;o.forEach(function(t,o){var r=o;n+=t.sum_bet_num,e.LHDBetArea[r].setViewBetNum(t.user_bet_num,t.sum_bet_num)}),b.EventManager.emit(R.GameCommonEvent.UpdateAllBet,n),g.AudioManager.playSFX("flychip")},e.prototype.onSubShowCard=function(t){var e=this;this.LHDBetArea.forEach(function(t,e){t.switchBetTouch(!1)});var o=t.card_deck;this.showEndBetAni(function(){e.LHDCard.openPoker(0,o[0]),e.scheduleOnce(function(){e.LHDCard.openPoker(1,o[1])},1)}),this.LHDTable.setGameState(2),this.LHDTable.onKillTimer(),this.LHDTable.setGameTimer({limit_time:t.time_out}),g.AudioManager.playGameSFX("lhd_endbet")},e.prototype.onSettleLoseAni=function(t,e){var o=this;t.forEach(function(t,e){o.LHDBetArea[t].onAreaToBanker()}),this.scheduleOnce(function(){e()},.6)},e.prototype.onSettleWinAni=function(t,e){this.LHDBetArea[t].onBankerToArea(),this.scheduleOnce(function(){e()},1.2)},e.prototype.onSubGameEnd=function(t){var e=this,o=t.gold,n=parseFloat(t.score),r=t.result-1,i=[0,1,2];i.splice(i.indexOf(r),1),this.LHDBetArea[r].setViewWinSpine(),this.LHDBetArea[r].onWinAreaBlink(),this.onSettleLoseAni(i,function(){e.onSettleWinAni(r,function(){e.LHDRoadList.calculateRoad(t.result,!0),e.LHDRecord.setRecentGame(),e.LHDRecord.drawRoad(),e.LHDRoadDetail.drawDetailRoad(),e.LHDPlayer.setUserScore(o),t.is_bet_req&&e.LHDPlayer.flutterScore(n,cc.v2(0,70))})}),this.LHDTable.setGameState(3),this.LHDTable.onKillTimer(),this.LHDTable.setGameTimer({limit_time:t.time_out});var a=["lhd_dragonhowl","lhd_tigerhowl",""];g.AudioManager.playGameSFX(["lhd_dragonwinning","lhd_tigerwinning","lhd_tiewinning"][r]),2!=r&&this.scheduleOnce(function(){g.AudioManager.playGameSFX(a[r])},.5)},e.prototype.onGetOnlineUserRes=function(t){this.LHDOnlinePlayer.refPeopleTips(t.totalplayers),this.LHDOnlinePlayer.refUserList(t.player_list),this.LHDOnlinePlayer.playMoveOut()},e.prototype.onUpdateUserScore=function(t){var e=t.gold;this.LHDPlayer.setUserScore(e)},r([P(c.default)],e.prototype,"LHDRoadList",void 0),r([P(s.default)],e.prototype,"LHDTable",void 0),r([P(h.default)],e.prototype,"LHDCard",void 0),r([P(d.default)],e.prototype,"LHDFooter",void 0),r([P(p.default)],e.prototype,"LHDPlayer",void 0),r([P(u.default)],e.prototype,"LHDRecord",void 0),r([P(l.default)],e.prototype,"LHDBetArea",void 0),r([P(_.default)],e.prototype,"LHDOnlinePlayer",void 0),r([P(f.default)],e.prototype,"LHDTopPanel",void 0),r([P(m.default)],e.prototype,"LHDRoadDetail",void 0),r([P(cc.Node)],e.prototype,"UINode",void 0),r([P(cc.Node)],e.prototype,"user_node",void 0),r([P(sp.Skeleton)],e.prototype,"start_bet",void 0),r([P(sp.Skeleton)],e.prototype,"stop_bet",void 0),e=r([C],e)}(cc.Component);o.default=w,cc._RF.pop()},{"../../../manager/AudioManager":void 0,"../../../manager/DataManager":void 0,"../../../manager/EventManager":void 0,"../../../manager/NetManager":void 0,"../../../manager/ResManager":void 0,"../../../manager/UIManager":void 0,"../../../net/NetCmd":void 0,"./LHDAdapter":"LHDAdapter","./LHDBetArea":"LHDBetArea","./LHDCard":"LHDCard","./LHDFooter":"LHDFooter","./LHDOnlinePlayer":"LHDOnlinePlayer","./LHDPlayer":"LHDPlayer","./LHDRecord":"LHDRecord","./LHDRoadDetail":"LHDRoadDetail","./LHDRoadList":"LHDRoadList","./LHDTable":"LHDTable","./LHDTopPanel":"LHDTopPanel"}],LHDOnlinePlayer:[function(t,e,o){"use strict";cc._RF.push(e,"a307dpfynRIiKekrr1SR+Rt","LHDOnlinePlayer");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=t("./LHDAdapter"),a=t("../../../manager/NetManager"),c=t("../../../common/UIHelper"),s=cc._decorator,l=s.ccclass,d=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cancel=null,e.spr=null,e.arrow=null,e.btn_click=null,e.user_panel=null,e.tips=null,e.ScrollView=null,e.user_item=null,e.is_move_out=!1,e.is_done=!0,e}return n(e,t),e.prototype.start=function(){var t=this;i.LHDAdapter.addClickEventEND(this.btn_click,function(){t.onClickEvent()}),i.LHDAdapter.addClickEventEND(this.cancel,function(){t.onCancelEvent()})},e.prototype.onClickEvent=function(){this.is_done?(this.is_done=!1,this.is_move_out?this.playMoveBack():a.NetManager.getGameProtocol().sendGetOnlineUser()):console.log("\u52a8\u753b\u8fd8\u672a\u7ed3\u675f \u4e0d\u53ef\u70b9\u51fb")},e.prototype.onCancelEvent=function(){this.is_done?this.is_move_out?(this.is_done=!1,this.playMoveBack()):console.log("\u672a\u79fb\u52a8\u51fa\u53bb"):console.log("\u52a8\u753b\u8fd8\u672a\u7ed3\u675f \u4e0d\u53ef\u70b9\u51fb")},e.prototype.playMoveOut=function(){var t=this;this.user_panel.active=!0,this.arrow.scaleX=-1,this.is_move_out=!0;var e=cc.sequence(cc.moveBy(.5,cc.v2(this.user_panel.width,0)),cc.callFunc(function(){t.is_done=!0}));this.spr.runAction(e)},e.prototype.playMoveBack=function(){var t=this;this.arrow.scaleX=1;var e=cc.sequence(cc.moveBy(.5,cc.v2(-this.user_panel.width,0)),cc.callFunc(function(){t.user_panel.active=!1,t.is_done=!0,t.is_move_out=!1}));this.spr.runAction(e)},e.prototype.refPeopleTips=function(t){this.tips.string="\u672c\u684c\u5171"+t+"\u4eba\u968f\u673a\n\u663e\u793a\u4e0a\u5c4020\u540d\u4e0b\u6ce8\u73a9\u5bb6"},e.prototype.refUserList=function(t){var e=this,o=cc.find("view/content",this.ScrollView);o.removeAllChildren(),t.forEach(function(t,n){var r=cc.instantiate(e.user_item);r.active=!0;var a=r.getChildByName("head"),s=r.getChildByName("name"),l=r.getChildByName("gold");c.default.setHeadIcon(t.headimg_id,a),s.getComponent(cc.Label).string=i.LHDAdapter.getSubStringLengTxt(t.username)||i.LHDAdapter.getReplaceStrToStar(t.player_id),l.getComponent(cc.Label).string=parseFloat(t.gold).toFixed(2),o.addChild(r)})},r([d(cc.Node)],e.prototype,"cancel",void 0),r([d(cc.Node)],e.prototype,"spr",void 0),r([d(cc.Node)],e.prototype,"arrow",void 0),r([d(cc.Node)],e.prototype,"btn_click",void 0),r([d(cc.Node)],e.prototype,"user_panel",void 0),r([d(cc.Label)],e.prototype,"tips",void 0),r([d(cc.Node)],e.prototype,"ScrollView",void 0),r([d(cc.Node)],e.prototype,"user_item",void 0),e=r([l],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../../../common/UIHelper":void 0,"../../../manager/NetManager":void 0,"./LHDAdapter":"LHDAdapter"}],LHDPlayer:[function(t,e,o){"use strict";cc._RF.push(e,"9b0f9kU/IlPAIrChJzuJbPS","LHDPlayer");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=t("./LHDAdapter"),a=t("../../../common/UIHelper"),c=cc._decorator,s=c.ccclass,l=c.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.head=null,e.user_head=null,e.vip_frame=null,e.vip_level=null,e.user_name=null,e.user_money=null,e.flutter=null,e.yellow_bmfont=null,e.grey_bmfont=null,e}return n(e,t),e.prototype.onLoad=function(){this.originHeadPos=this.head.position,this.originFlutterPos=this.flutter.node.position},e.prototype.resetView=function(){this.flutter.node.active=!1,this.flutter.node.stopAllActions()},e.prototype.setUserHead=function(t){a.default.setHeadIcon(t,this.user_head.node)},e.prototype.setUserScore=function(t){this.user_money.string=i.LHDAdapter.getFormatGold(t)},e.prototype.setUserInfo=function(t){var e=t,o=i.LHDAdapter.getSubStringLengTxt(t.username)||i.LHDAdapter.getReplaceStrToStar(t.player_id);this.user_name.string=o,this.setUserHead(t.headimg_id),this.setUserScore(e.gold),this.setVipFrame(t.vip_level),this.setVipLevel(t.vip_level)},e.prototype.setVipFrame=function(t){a.default.setHeadFrame(t,this.vip_frame.node)},e.prototype.setVipLevel=function(t){a.default.setVipLevel(t,this.vip_level.node)},e.prototype.shakeHead=function(){this.head.stopAllActions(),this.head.position=this.originHeadPos,cc.tween(this.head).by(.05,{position:cc.v2(0,10)}).by(.05,{position:cc.v2(0,-12)}).by(.05,{position:cc.v2(0,2)}).start()},e.prototype.flutterScore=function(t,e,o){var n=this;this.flutter.node.position=this.originFlutterPos,this.flutter.node.active=!0;var r="";t>=0?(this.flutter.font=this.yellow_bmfont,r="+"):(this.flutter.font=this.grey_bmfont,r="-");var i=Math.abs(t),a=i/parseFloat(50..toFixed(2)),c=0,s="",l=function(){s=(c+=a).toFixed(2),n.flutter.string=r+s,c>=i&&(s=i.toString(),n.flutter.string=r+parseFloat(s).toFixed(2),n.unschedule(l))};this.schedule(l,.01,cc.macro.REPEAT_FOREVER);var d=cc.moveBy(.5,e),p=cc.sequence(d,cc.delayTime(.5),cc.callFunc(function(){o&&o()}));this.flutter.node.runAction(p)},r([l(cc.Node)],e.prototype,"head",void 0),r([l(cc.Sprite)],e.prototype,"user_head",void 0),r([l(cc.Sprite)],e.prototype,"vip_frame",void 0),r([l(cc.Sprite)],e.prototype,"vip_level",void 0),r([l(cc.Label)],e.prototype,"user_name",void 0),r([l(cc.Label)],e.prototype,"user_money",void 0),r([l(cc.Label)],e.prototype,"flutter",void 0),r([l(cc.Font)],e.prototype,"yellow_bmfont",void 0),r([l(cc.Font)],e.prototype,"grey_bmfont",void 0),e=r([s],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../../../common/UIHelper":void 0,"./LHDAdapter":"LHDAdapter"}],LHDRecord:[function(t,e,o){"use strict";cc._RF.push(e,"112a29qY1xLeKsNvLZBG/GL","LHDRecord");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=t("./LHDAdapter"),a=t("./LHDRoadList"),c=t("./LHDFooterAllRoad"),s=t("./LHDFooterBigRoad"),l=t("./LHDFooterBeadRoad"),d=cc._decorator,p=d.ccclass,u=d.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.LHDRoadList=null,e.btn_road=[],e.btn_open=null,e.game_round=null,e.record_num=[],e.roadPic=[],e.LHDFooterAllRoad=null,e.LHDFooterBigRoad=null,e.LHDFooterBeadRoad=null,e.GameView=null,e}return n(e,t),e.prototype.onLoad=function(){var t=this;this.btn_road.forEach(function(e,o){i.LHDAdapter.addClickEventEND(e,t.onSelectRoad.bind(t),o)}),i.LHDAdapter.addClickEventEND(this.btn_open,function(){t.GameView.LHDRoadDetail.openPanel()}),this.roadPic.forEach(function(t,e){0!=e&&(t.active=!1)})},e.prototype.drawRoad=function(){this.LHDFooterAllRoad.drawRoad(),this.LHDFooterBigRoad.drawRoad(),this.LHDFooterBeadRoad.drawRoad()},e.prototype.setRecentGame=function(){var t=this.LHDRoadList.beadRoad.length;this.game_round.string="\u6700\u8fd1"+t+"\u5c40";var e=[0,0,0];this.LHDRoadList.beadRoad.forEach(function(t,o){switch(t){case 1:e[0]++;break;case 2:e[1]++;break;case 3:e[2]++}}),this.record_num.forEach(function(t,o){t.string=e[o]+""})},e.prototype.onSelectRoad=function(t,e){this.btn_road.forEach(function(t,o){t.getChildByName("active").active=o==e,t.getChildByName("disable").active=o!=e}),this.roadPic.forEach(function(t,o){t.active=e==o})},r([u(a.default)],e.prototype,"LHDRoadList",void 0),r([u(cc.Node)],e.prototype,"btn_road",void 0),r([u(cc.Node)],e.prototype,"btn_open",void 0),r([u(cc.Label)],e.prototype,"game_round",void 0),r([u(cc.Label)],e.prototype,"record_num",void 0),r([u(cc.Node)],e.prototype,"roadPic",void 0),r([u(c.default)],e.prototype,"LHDFooterAllRoad",void 0),r([u(s.default)],e.prototype,"LHDFooterBigRoad",void 0),r([u(l.default)],e.prototype,"LHDFooterBeadRoad",void 0),e=r([p],e)}(cc.Component);o.default=h,cc._RF.pop()},{"./LHDAdapter":"LHDAdapter","./LHDFooterAllRoad":"LHDFooterAllRoad","./LHDFooterBeadRoad":"LHDFooterBeadRoad","./LHDFooterBigRoad":"LHDFooterBigRoad","./LHDRoadList":"LHDRoadList"}],LHDRoadDetail:[function(t,e,o){"use strict";cc._RF.push(e,"41df6wCdwJIBp3MpimzBnB8","LHDRoadDetail");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=t("./LHDAdapter"),a=t("./LHDRoadList"),c=cc._decorator,s=c.ccclass,l=c.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btn_close=null,e.node_bead_road=null,e.frame_bead_road=[],e.node_big_road=null,e.frame_big_road=[],e.node_big_eye_road=null,e.frame_big_eye_road=[],e.node_small_eye_road=null,e.frame_small_eye_road=[],e.node_roach_road=null,e.frame_roach_road=[],e.game_round=null,e.record_num=[],e.next_long=null,e.next_hu=null,e.next_blue_frame=[],e.next_red_frame=[],e.min_bet_num=[],e.max_bet_num=[],e.LHDRoadList=null,e.is_open=!1,e}return n(e,t),e.prototype.onLoad=function(){var t=this;i.LHDAdapter.addClickEventEND(this.btn_close,function(){t.node.active=!1,t.is_open=!1})},e.prototype.openPanel=function(){this.node.active=!0,this.is_open=!0},e.prototype.closePanel=function(){this.node.active=!1,this.is_open=!1},e.prototype.getOpen=function(){return this.is_open},e.prototype.setRecentGame=function(){var t=this.LHDRoadList.beadRoad.length;this.game_round.string="\u6700\u8fd1"+t+"\u5c40";var e=[0,0,0];this.LHDRoadList.beadRoad.forEach(function(t,o){switch(t){case 1:e[0]++;break;case 2:e[1]++;break;case 3:e[2]++}}),this.record_num.forEach(function(t,o){t.string=e[o]+""})},e.prototype.setLimitBetNum=function(t,e){var o=this;t.forEach(function(t,e){o.min_bet_num[e].string=t}),e.forEach(function(t,e){o.max_bet_num[e].string=t})},e.prototype.drawDetailRoad=function(){this.drawBeadRoad(),this.drawBigRoad(),this.drawBigEyeRoad(),this.drawSmallEyeRoad(),this.drawRoachRoad(),this.setRecentGame(),this.clearPredict(),this.predictNextNum()},e.prototype.drawBeadRoad=function(){var t=0,e=this.LHDRoadList.beadRoad,o=this.LHDRoadList.chess_item;e.length>108&&(t=e.length-108),this.node_bead_road.children.forEach(function(t,e){t.active=!1});for(var n=0,r=t;r<e.length;r++){var i=e[r],a=void 0;this.node_bead_road.children[n]?(a=this.node_bead_road.children[n]).getComponent(cc.Sprite).spriteFrame=null:(a=cc.instantiate(o),this.node_bead_road.addChild(a)),a.setContentSize(cc.size(24,24)),a.active=!0,n++,a.getComponent(cc.Sprite).spriteFrame=this.frame_bead_road[i-1]}},e.prototype.drawBigRoad=function(){var t=0,e=38,o=this.LHDRoadList.bRList,n=this.LHDRoadList.getChessItem(),r=this.LHDRoadList.getTextItem();for(var i in o){var a=i.toString().split("-"),c=parseInt(a[0]);c>=e&&(e=c)}e>38&&(t=e-38),this.node_big_road.children.forEach(function(t,e){t.active=!1});for(var s=0,l=t;l<=e;l++)for(var d=0;d<6;d++){var p=o[l+"-"+d],u=void 0;if(this.node_big_road.children[s]?((u=this.node_big_road.children[s]).getComponent(cc.Sprite).spriteFrame=null,u.removeAllChildren()):(u=cc.instantiate(n),this.node_big_road.addChild(u)),u.setContentSize(cc.size(19,19)),u.active=!0,p&&(p.long_hu&&(u.getComponent(cc.Sprite).spriteFrame=this.frame_big_road[1==p.long_hu?0:1]),p.num)){var h=cc.instantiate(r);h.getComponent(cc.Label).string=p.num+"",u.addChild(h)}s++}},e.prototype.drawBigEyeRoad=function(){var t=0,e=20,o=this.LHDRoadList.bEyeRList,n=this.LHDRoadList.getChessItem();for(var r in o){var i=r.toString().split("-"),a=parseInt(i[0]);a>=e&&(e=a)}e>20&&(t=e-20),this.node_big_eye_road.children.forEach(function(t,e){t.active=!1});for(var c=0,s=t;s<=e;s++)for(var l=0;l<6;l++){var d=o[s+"-"+l],p=void 0;this.node_big_eye_road.children[c]?(p=this.node_big_eye_road.children[c]).getComponent(cc.Sprite).spriteFrame=null:(p=cc.instantiate(n),this.node_big_eye_road.addChild(p)),p.active=!0,p.setContentSize(cc.size(11,11)),d&&(p.getComponent(cc.Sprite).spriteFrame=this.frame_big_eye_road[1==d.lan_hong?0:1]),c++}},e.prototype.drawSmallEyeRoad=function(){var t=0,e=20,o=this.LHDRoadList.sEyeRList,n=this.LHDRoadList.getChessItem();for(var r in o){var i=r.toString().split("-"),a=parseInt(i[0]);a>=e&&(e=a)}e>20&&(t=e-20),this.node_small_eye_road.children.forEach(function(t,e){t.active=!1});for(var c=0,s=t;s<=e;s++)for(var l=0;l<6;l++){var d=o[s+"-"+l],p=void 0;this.node_small_eye_road.children[c]?(p=this.node_small_eye_road.children[c]).getComponent(cc.Sprite).spriteFrame=null:(p=cc.instantiate(n),this.node_small_eye_road.addChild(p)),p.active=!0,p.setContentSize(cc.size(11,11)),d&&(p.getComponent(cc.Sprite).spriteFrame=this.frame_small_eye_road[1==d.lan_hong?0:1]),c++}},e.prototype.drawRoachRoad=function(){var t=0,e=20,o=this.LHDRoadList.roachRList,n=this.LHDRoadList.getChessItem();for(var r in o){var i=r.toString().split("-"),a=parseInt(i[0]);a>=e&&(e=a)}e>20&&(t=e-20),this.node_roach_road.children.forEach(function(t,e){t.active=!1});for(var c=0,s=t;s<=e;s++)for(var l=0;l<6;l++){var d=o[s+"-"+l],p=void 0;this.node_roach_road.children[c]?(p=this.node_roach_road.children[c]).getComponent(cc.Sprite).spriteFrame=null:(p=cc.instantiate(n),this.node_roach_road.addChild(p)),p.setContentSize(cc.size(9,9)),p.active=!0,d&&(p.getComponent(cc.Sprite).spriteFrame=this.frame_roach_road[1==d.lan_hong?0:1]),c++}},e.prototype.getLastKeyValue=function(t){var e=0,o=0;for(var n in t){var r=n.toString().split("-"),i=parseInt(r[0]),a=parseInt(r[1]);i>=e&&(e=i),a>=o&&(o=a)}return[e,o]},e.prototype.predictAlgorithm=function(t,e){var o;switch(e){case 1:o=1;break;case 2:o=2;break;case 3:o=3}var n=t.length-1,r=t[n].length-1;return 0==r?t[n-1].length==t[n-(o+1)].length?2:1:t[n-o][r]?2:t[n-o][r-1]?1:2},e.prototype.predictNextNum=function(){if(0!=this.LHDRoadList.bRListArr.length){var t=JSON.parse(JSON.stringify(this.LHDRoadList.bRList));cc.log("\u539f\u6765\u7684\u5927\u8def\u6570\u7ec4",this.LHDRoadList.bRListArr);for(var e=1;e<=2;e++){for(var o=[],n=this.LHDRoadList.bRListArr,r=0;r<n.length;r++){o[r]=new Array;for(var i=0;i<n[r].length;i++)o[r][i]=n[r][i]}console.log("\u6df1\u62f7\u8d1d\u51fa\u6765\u7684\u8def\u5355\u6570\u7ec4",o);var a=o.length-1,c=o[a].length-1,s=o[a][c];cc.log("\u6700\u540e\u7684\u5217, \u884c, \u6570\u503c",a,c,s);var l=void 0,d=void 0;s===e?(l=a,d=c+1):(l=a+1,d=0),null==o[l]&&(o[l]=[],console.log("\u521b\u5efa\u65b0\u7684\u4e00\u5217\u7a7a\u6570\u7ec4")),o[l][d]=e,console.log("\u6700\u65b0\u7684\u5927\u8def\u6570\u7ec4",o);var p=void 0,u=void 0;if(!t["1-1"]&&!t["2-0"])return void console.log("\u65e0\u6cd5\u9884\u6d4b\u5927\u773c\u8def\u8def\u5355");if(p=1,u=this.predictAlgorithm(o,p),this.drawPredict(e,p,u),!t["2-1"]&&!t["3-0"])return void console.log("\u65e0\u6cd5\u9884\u6d4b\u5c0f\u8def\u8def\u5355");if(p=2,u=this.predictAlgorithm(o,p),this.drawPredict(e,p,u),!t["3-1"]&&!t["4-0"])return void console.log("\u65e0\u6cd5\u9884\u6d4b\u66f1\u7534\u8def\u8def\u5355");p=3,u=this.predictAlgorithm(o,p),this.drawPredict(e,p,u)}}},e.prototype.drawPredict=function(t,e,o){var n=e-1;if(1==t)this.next_long.children[n].getComponent(cc.Sprite).spriteFrame=1==o?this.next_blue_frame[n]:this.next_red_frame[n];else if(2==t){this.next_hu.children[n].getComponent(cc.Sprite).spriteFrame=1==o?this.next_blue_frame[n]:this.next_red_frame[n]}},e.prototype.clearPredict=function(){this.next_long.children.forEach(function(t,e){t.getComponent(cc.Sprite).spriteFrame=null}),this.next_hu.children.forEach(function(t,e){t.getComponent(cc.Sprite).spriteFrame=null})},r([l(cc.Node)],e.prototype,"btn_close",void 0),r([l(cc.Node)],e.prototype,"node_bead_road",void 0),r([l(cc.SpriteFrame)],e.prototype,"frame_bead_road",void 0),r([l(cc.Node)],e.prototype,"node_big_road",void 0),r([l(cc.SpriteFrame)],e.prototype,"frame_big_road",void 0),r([l(cc.Node)],e.prototype,"node_big_eye_road",void 0),r([l(cc.SpriteFrame)],e.prototype,"frame_big_eye_road",void 0),r([l(cc.Node)],e.prototype,"node_small_eye_road",void 0),r([l(cc.SpriteFrame)],e.prototype,"frame_small_eye_road",void 0),r([l(cc.Node)],e.prototype,"node_roach_road",void 0),r([l(cc.SpriteFrame)],e.prototype,"frame_roach_road",void 0),r([l(cc.Label)],e.prototype,"game_round",void 0),r([l(cc.Label)],e.prototype,"record_num",void 0),r([l(cc.Node)],e.prototype,"next_long",void 0),r([l(cc.Node)],e.prototype,"next_hu",void 0),r([l(cc.SpriteFrame)],e.prototype,"next_blue_frame",void 0),r([l(cc.SpriteFrame)],e.prototype,"next_red_frame",void 0),r([l(cc.Label)],e.prototype,"min_bet_num",void 0),r([l(cc.Label)],e.prototype,"max_bet_num",void 0),r([l(a.default)],e.prototype,"LHDRoadList",void 0),e=r([s],e)}(cc.Component);o.default=d,cc._RF.pop()},{"./LHDAdapter":"LHDAdapter","./LHDRoadList":"LHDRoadList"}],LHDRoadList:[function(t,e,o){"use strict";cc._RF.push(e,"d9efcaMosdLsK8s/4bshBij","LHDRoadList");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,c=(i.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.beadRoad=[],e.bRList={},e.bEyeRList={},e.bRListArr=[],e.sEyeRList={},e.roachRList={},e.chess_item=null,e.text_item=null,e}return n(e,t),e.prototype.onLoad=function(){this.createNode()},e.prototype.calculateRoad=function(t,e){var o;void 0===e&&(e=!1),o=e?this.beadRoad.concat(t):t,this.calculateBigRoad(o),this.calculateBigEyeRoad(),this.calculateSmallEyeRoad(),this.calculateRoachRoad()},e.prototype.getChessItem=function(){return this.chess_item},e.prototype.getTextItem=function(){return this.text_item},e.prototype.createNode=function(){var t=new cc.Node;t.name="chess_item",t.setContentSize(cc.size(18,18)),t.addComponent(cc.Sprite),t.getComponent(cc.Sprite).spriteFrame=null,t.getComponent(cc.Sprite).sizeMode=cc.Sprite.SizeMode.RAW,t.getComponent(cc.Sprite).trim=!1,this.chess_item=t;var e=new cc.Node;e.name="text",e.color=cc.color(0,0,0),e.addComponent(cc.Label),e.getComponent(cc.Label).fontSize=18,e.getComponent(cc.Label).lineHeight=20,e.getComponent(cc.Label).string="",this.text_item=e},e.prototype.calculateBigRoad=function(t){var e=this;this.beadRoad=t;var o,n=0,r=0,i=!1,a={},c=!1;for(var s in this.bRList={},t.forEach(function(t,s){0==s?3!=t&&(e.bRList[n+"-"+r]={},e.bRList[n+"-"+r].long_hu=t,e.bRList[n+"-0"].count?e.bRList[n+"-0"].count++:e.bRList[n+"-0"].count=1,a=e.bRList[n+"-"+r],c=!0):3==t?c&&(a.num?a.num++:a.num=1):c?(t==a.long_hu?i?(n+=1,e.bRList[n+"-"+r]={},e.bRList[n+"-"+r].long_hu=t,e.bRList[o+"-0"].count++):5==r||e.bRList[n+"-"+(r+1)]?(o=n,i=!0,n+=1,e.bRList[n+"-"+r]={},e.bRList[n+"-"+r].long_hu=t,e.bRList[o+"-0"].count++):(r+=1,e.bRList[n+"-"+r]={},e.bRList[n+"-"+r].long_hu=t,e.bRList[n+"-0"].count?e.bRList[n+"-0"].count++:e.bRList[n+"-0"].count=1):(i&&(i=!1,n=o),r=0,n+=1,e.bRList[n+"-"+r]={},e.bRList[n+"-"+r].long_hu=t,e.bRList[n+"-0"].count=1),a=e.bRList[n+"-"+r]):(e.bRList[n+"-"+r]={},e.bRList[n+"-"+r].long_hu=t,e.bRList[n+"-0"].count?e.bRList[n+"-0"].count++:e.bRList[n+"-0"].count=1,a=e.bRList[n+"-"+r],c=!0)}),this.bRListArr=[],this.bRList){var l=s.toString().split("-"),d=parseInt(l[0]);if(0==parseInt(l[1])){this.bRListArr[d]||(this.bRListArr[d]=[]);for(var p=this.bRList[s].count,u=this.bRList[s].long_hu,h=0;h<p;h++)this.bRListArr[d][h]=u}}},e.prototype.calculateBigEyeRoad=function(){var t=this;if(this.bEyeRList={},this.bRList["1-1"]||this.bRList["2-0"]){var e,o,n,r=this.bRListArr,i=0,a=0,c=!1;r.forEach(function(s,l){var d;l>=1&&(1==l?d=1:l>1&&(d=0));for(var p=d;p<s.length;p++)if(0==p){var u=void 0;u=r[l-1].length==r[l-2].length?2:1,e?e==u?(c?(i+=1,a=n):(a>5||t.bEyeRList[i+"-"+a])&&(c=!0,n=a-=1,o=i,i+=1),e=u,t.bEyeRList[i+"-"+a]={lan_hong:u}):(c&&(c=!1,i=o),i+=1,a=0,t.bEyeRList[i+"-"+a]={lan_hong:u}):t.bEyeRList[i+"-"+a]={lan_hong:u},a++,e=u}else{u=void 0;u=r[l-1][p]?2:r[l-1][p-1]?1:2,e?e==u?(c?(i+=1,a=n):(a>5||t.bEyeRList[i+"-"+a])&&(c=!0,n=a-=1,o=i,i+=1),e=u,t.bEyeRList[i+"-"+a]={lan_hong:u}):(c&&(c=!1,i=o),i+=1,a=0,t.bEyeRList[i+"-"+a]={lan_hong:u}):t.bEyeRList[i+"-"+a]={lan_hong:u},a++,e=u}})}else console.log("\u5927\u773c\u4ed4\u8def\u8def\u5355\u65e0\u6570\u636e")},e.prototype.calculateSmallEyeRoad=function(){var t=this;if(this.sEyeRList={},this.bRList["2-1"]||this.bRList["3-0"]){var e,o,n,r=this.bRListArr,i=0,a=0,c=!1;r.forEach(function(s,l){var d;l>=2&&(2==l?d=1:l>2&&(d=0));for(var p=d;p<s.length;p++)if(0==p){var u=void 0;u=r[l-1].length==r[l-3].length?2:1,e?e==u?(c?(i+=1,a=n):(a>5||t.sEyeRList[i+"-"+a])&&(c=!0,n=a-=1,o=i,i+=1),e=u,t.sEyeRList[i+"-"+a]={lan_hong:u}):(c&&(c=!1,i=o),i+=1,a=0,t.sEyeRList[i+"-"+a]={lan_hong:u}):t.sEyeRList[i+"-"+a]={lan_hong:u},a++,e=u}else{u=void 0;u=r[l-2][p]?2:r[l-2][p-1]?1:2,e?e==u?(c?(i+=1,a=n):(a>5||t.sEyeRList[i+"-"+a])&&(c=!0,n=a-=1,o=i,i+=1),e=u,t.sEyeRList[i+"-"+a]={lan_hong:u}):(c&&(c=!1,i=o),i+=1,a=0,t.sEyeRList[i+"-"+a]={lan_hong:u}):t.sEyeRList[i+"-"+a]={lan_hong:u},a++,e=u}})}else console.log("\u5c0f\u8def\u8def\u5355\u65e0\u6570\u636e")},e.prototype.calculateRoachRoad=function(){var t=this;if(this.roachRList={},this.bRList["3-1"]||this.bRList["4-0"]){var e,o,n,r=this.bRListArr,i=0,a=0,c=!1;r.forEach(function(s,l){var d;l>=3&&(3==l?d=1:l>3&&(d=0));for(var p=d;p<s.length;p++)if(0==p){var u=void 0;u=r[l-1].length==r[l-4].length?2:1,e?e==u?(c?(i+=1,a=n):(a>5||t.roachRList[i+"-"+a])&&(c=!0,n=a-=1,o=i,i+=1),e=u,t.roachRList[i+"-"+a]={lan_hong:u}):(c&&(c=!1,i=o),i+=1,a=0,t.roachRList[i+"-"+a]={lan_hong:u}):t.roachRList[i+"-"+a]={lan_hong:u},a++,e=u}else{u=void 0;u=r[l-3][p]?2:r[l-3][p-1]?1:2,e?e==u?(c?(i+=1,a=n):(a>5||t.roachRList[i+"-"+a])&&(c=!0,n=a-=1,o=i,i+=1),e=u,t.roachRList[i+"-"+a]={lan_hong:u}):(c&&(c=!1,i=o),i+=1,a=0,t.roachRList[i+"-"+a]={lan_hong:u}):t.roachRList[i+"-"+a]={lan_hong:u},a++,e=u}})}else console.log("\u66f1\u7534\u8def \u8def\u5355\u65e0\u6570\u636e")},e=r([a],e)}(cc.Component));o.default=c,cc._RF.pop()},{}],LHDRoomView:[function(t,e,o){"use strict";cc._RF.push(e,"de2eeVPKO1CtohT9n6Th5MZ","LHDRoomView");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../../view/RoomView"),a=t("../../../view/common/componet/ButtonEx"),c=[[-40],[-40,-40],[30,-40,30],[30,-40,-40,30],[100,30,-40,30,100],[100,30,-40,-40,30,100]],s=cc._decorator,l=s.ccclass,d=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.distance=202,e}return n(e,t),e.prototype.initEvent=function(){t.prototype.initEvent.call(this);var e=cc.winSize.width-1280;this.distance+=this.distance*(e/cc.winSize.width)},e.prototype.showRoomList=function(t){for(var e=t.game_room_lists.length,o=Math.ceil(e/6),n=1;n<o;n++){(d=cc.instantiate(this.page_item)).active=!0,this.PageView.addPage(d)}var r=this.PageView.content;for(n=0;n<r.childrenCount;n++){var i=Math.floor(n/6);(d=r.children[i]).children.forEach(function(t){t.active=!1})}var s=[];for(n=0;n<e;n++){var l=t.game_room_lists[n],d=(i=Math.floor(n/6),r.children[i]);s[i]?s[i]++:(s[i]=0,s[i]++),(u=d.children[l.room_level-1]).active=!0;var p=u.getChildByName("limit_num").getComponent(cc.Label);l.bet_limit.length>0?p.string=l.bet_limit[0]+"-"+l.bet_limit[1]:p.string=""+l.room_base_note,u.getChildByName("permit_num").getComponent(cc.Label).string=""+l.room_min_entrance,u.getComponent(a.default).disabledScale(),u.getComponent(a.default).registerClick(this.onChooseGameRoom.bind(this,l))}this.PageView.getComponent(cc.Widget).updateAlignment(),this.PageView.node.children[0].getComponent(cc.Widget).updateAlignment(),this.PageView.content.getComponent(cc.Widget).updateAlignment();for(n=0;n<e;n++){l=t.game_room_lists[n],i=Math.floor(n/6);var u=(d=r.children[i]).children[l.room_level-1],h=s[i],f=cc.winSize.width/2+(-(h-1)/2*this.distance+n%6*this.distance),_=c[h-1][n%6];u.position=cc.v2(f,_)}this.PageView.enabled=o>1},e=r([l],e)}(i.default));o.default=d,cc._RF.pop()},{"../../../view/RoomView":void 0,"../../../view/common/componet/ButtonEx":void 0}],LHDTable:[function(t,e,o){"use strict";cc._RF.push(e,"49d7dgSYTtIB7tTvRzXqAdT","LHDTable");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../public/TimeClock"),a=cc._decorator,c=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.alarm_clock=null,e.spr_state=null,e.frame_state=[],e.spine=null,e}return n(e,t),e.prototype.setGameTimer=function(t){this.alarm_clock.setGameTimer(t)},e.prototype.onKillTimer=function(){this.alarm_clock.onKillTimer()},e.prototype.pauseAudio=function(){this.alarm_clock.pauseAudio()},e.prototype.pauseVibrate=function(){this.alarm_clock.pauseVibrate()},e.prototype.setGameState=function(t){this.spr_state.spriteFrame=this.frame_state[t]},e.prototype.onStartShow=function(t){var e=this;this.spine.node.active=!0,this.spine.clearTracks(),this.spine.setAnimation(0,"animation",!1),this.spine.setCompleteListener(function(){e.spine.clearTracks(),e.spine.node.active=!1,t()})},r([s(i.default)],e.prototype,"alarm_clock",void 0),r([s(cc.Sprite)],e.prototype,"spr_state",void 0),r([s(cc.SpriteFrame)],e.prototype,"frame_state",void 0),r([s(sp.Skeleton)],e.prototype,"spine",void 0),e=r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{"../../public/TimeClock":void 0}],LHDTopPanel:[function(t,e,o){"use strict";cc._RF.push(e,"f1680+yJiVPRKSEjCJxf8BV","LHDTopPanel");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,c=i.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.table_num=null,e}return n(e,t),e.prototype.onLoad=function(){this.initView()},e.prototype.initView=function(){this.table_num.string=""},e.prototype.setRoomInfo=function(t){this.table_num.string=t||""},r([c(cc.Label)],e.prototype,"table_num",void 0),e=r([a],e)}(cc.Component);o.default=s,cc._RF.pop()},{}],ProtocolLHD:[function(t,e,o){"use strict";cc._RF.push(e,"7f4d97hQntPMpC6SlcdV/lp","ProtocolLHD");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../../manager/DataManager"),i=t("../../../net/ProtocolBase"),a=t("../../../manager/NetManager"),c=t("../../../manager/UIManager"),s=t("../../../Define"),l=t("./LHDCmd"),d=function(t){function e(){var e=t.call(this,"game/lhd/pb")||this;return e.cmd=l.LHDCmd,e.type=s.SocketType.Game,e.pbName="LHD",e.BET_CHROME_VALUE=[],e.BET_VALUE=null,e}return n(e,t),e.prototype.sendBetReq=function(t,e){var o={player_id:r.DataManager.userInfo.userid,bet_value:t,loc:e};console.log("============>\u53d1\u9001\u4e0b\u6ce8\u8bf7\u6c42"),this.send(o,"bet_req")},e.prototype.sendGetOnlineUser=function(){var t={player_id:r.DataManager.userInfo.userid};console.log("============>\u53d1\u9001\u83b7\u53d6\u5728\u7ebf\u4eba\u6570\u8bf7\u6c42"),this.send(t,"other_users_req")},e.prototype.dealError=function(t){c.UIManager.showTipsPopup(t.err_msg)},e}(i.default);o.default=d,a.NetManager.protocolCache.ProtocolLHD=d,cc._RF.pop()},{"../../../Define":void 0,"../../../manager/DataManager":void 0,"../../../manager/NetManager":void 0,"../../../manager/UIManager":void 0,"../../../net/ProtocolBase":void 0,"./LHDCmd":"LHDCmd"}]},{},["LHDCmd","ProtocolLHD","LHDAdapter","LHDBetArea","LHDCard","LHDChrome","LHDFooter","LHDFooterAllRoad","LHDFooterBeadRoad","LHDFooterBigRoad","LHDGameScene","LHDGameView","LHDOnlinePlayer","LHDPlayer","LHDRecord","LHDRoadDetail","LHDRoadList","LHDRoomView","LHDTable","LHDTopPanel"]);