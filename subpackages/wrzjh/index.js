window.__require=function e(t,o,n){function r(c,a){if(!o[c]){if(!t[c]){var s=c.split("/");if(s=s[s.length-1],!t[s]){var l="function"==typeof __require&&__require;if(!a&&l)return l(s,!0);if(i)return i(s,!0);throw new Error("Cannot find module '"+c+"'")}c=s}var p=o[c]={exports:{}};t[c][0].call(p.exports,function(e){return r(t[c][1][e]||e)},p,p.exports,e,t,o,n)}return o[c].exports}for(var i="function"==typeof __require&&__require,c=0;c<n.length;c++)r(n[c]);return r}({ProtocolWRZJH:[function(e,t,o){"use strict";cc._RF.push(t,"cc69cpocPREwqYZuC7nJuIO","ProtocolWRZJH");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../manager/DataManager"),i=e("../../../net/ProtocolBase"),c=e("../../../manager/NetManager"),a=e("../../../manager/UIManager"),s=e("../../../Define"),l=e("./WRZJHCmd"),p=function(e){function t(){var t=e.call(this,"game/wrzjh/pb")||this;return t.cmd=l.WRZJHCmd,t.type=s.SocketType.Game,t.pbName="WRZJH",t.BET_CHROME_VALUE=[],t.BET_VALUE=null,t}return n(t,e),t.prototype.sendBetReq=function(e,t){var o={player_id:r.DataManager.userInfo.userid,bet_value:e,loc:t};console.log("============>\u53d1\u9001\u4e0b\u6ce8\u8bf7\u6c42"),this.send(o,"bet_req")},t.prototype.sendGetOnlineUser=function(){var e={player_id:r.DataManager.userInfo.userid};console.log("============>\u53d1\u9001\u83b7\u53d6\u5728\u7ebf\u4eba\u6570\u8bf7\u6c42"),this.send(e,"other_users_req")},t.prototype.sendContinueBetReq=function(){var e={player_id:r.DataManager.userInfo.userid};console.log("============>\u53d1\u9001\u7eed\u6295\u8bf7\u6c42"),this.send(e,"continue_bet_req")},t.prototype.dealError=function(e){a.UIManager.showTipsPopup(e.err_msg)},t}(i.default);o.default=p,c.NetManager.protocolCache.ProtocolWRZJH=p,cc._RF.pop()},{"../../../Define":void 0,"../../../manager/DataManager":void 0,"../../../manager/NetManager":void 0,"../../../manager/UIManager":void 0,"../../../net/ProtocolBase":void 0,"./WRZJHCmd":"WRZJHCmd"}],WRZJHAdapter:[function(e,t,o){"use strict";cc._RF.push(t,"87265eGOzND7IEgZYvZE6S5","WRZJHAdapter");var n=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,c=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(c=(i<3?r(c):i>3?r(t,o,c):r(t,o))||c);return i>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../common/utils/Utils"),i=cc._decorator,c=i.ccclass,a=(i.property,function(){function e(){}var t;return t=e,e.prototype.getRandomInt=function(e,t){return r.default.getRandomInt(e,t)},e.prototype.addClickEventEND=function(e,t,o){return r.default.addClickEventEND(e,t,o)},e.prototype.getFormatGold=function(e){return r.default.getFormatGold(e)},e.prototype.getSubStringLengTxt=function(e){return r.default.getSubStringLengTxt(e)},e.prototype.getReplaceStrToStar=function(e){return r.default.getReplaceStrToStar(e)},e.instance=new t,e=t=n([c],e)}());o._WRZJHAdapter=a,o.WRZJHAdapter=a.instance,cc._RF.pop()},{"../../../common/utils/Utils":void 0}],WRZJHBetArea:[function(e,t,o){"use strict";cc._RF.push(t,"80fe5bpotNJ24ikcAK/lNrd","WRZJHBetArea");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,c=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(c=(i<3?r(c):i>3?r(t,o,c):r(t,o))||c);return i>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var i=e("./WRZJHAdapter"),c=e("./WRZJHChrome"),a=e(".././WRZJHDefine"),s=e("../../../manager/NetManager"),l=e("../../../manager/UIManager"),p=cc._decorator,u=p.ccclass,h=p.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sum_chip=null,t.bet_chip=null,t.score=null,t.blink=null,t.btn_bet=null,t.chip_area=null,t.chip=null,t.spr_icon=null,t.scoreBMFont=[],t.MaxArea=cc.v2(0,0),t.MinArea=cc.v2(0,0),t.LocIdx=0,t.chipPool=null,t.BANKER_VPOS=cc.v2(-10,85),t.can_bet=!1,t.interval=null,t}return n(t,e),t.prototype.onLoad=function(){this.resetArea(),this.initNodePool(),i.WRZJHAdapter.addClickEventEND(this.btn_bet,this.onBetEvent.bind(this))},t.prototype.onDestroy=function(){this.chipPool.clear()},t.prototype.initNodePool=function(){this.chipPool=new cc.NodePool},t.prototype.resetArea=function(){this.sum_chip.string="\u603b: 0",this.bet_chip.string="",this.bet_chip.node.setPosition(cc.v2(0,0)),this.score.string="",this.blink.active=!1,this.clearAreaWinResult(),this.removeAreaChip(),this.unschedule(this.interval),this.interval=null},t.prototype.createChip=function(e){var t=null;return(t=this.chipPool.size()>0?this.chipPool.get():cc.instantiate(this.chip)).getComponent(c.default).setViewChip(e),t},t.prototype.clearChip=function(e){(e=e||this.chip_area.children[0]).stopAllActions(),this.chipPool.put(e),e.removeFromParent()},t.prototype.onBetChipAni=function(e){var t=-(cc.view.getVisibleSize().width/2+this.node.x+100),o=i.WRZJHAdapter.getRandomInt(-150,150),n=this.createChip(e);n.setPosition(cc.v2(t,o));var r=i.WRZJHAdapter.getRandomInt(this.MinArea.x,this.MaxArea.x),c=i.WRZJHAdapter.getRandomInt(this.MinArea.y,this.MaxArea.y),a=i.WRZJHAdapter.getRandomInt(-360,360),s=cc.moveTo(.2,cc.v2(r,c)),l=cc.rotateTo(.3,a);n.runAction(cc.spawn(s,l)),this.chip_area.addChild(n)},t.prototype.onUserBetChipAni=function(e,t){var o=e.convertToWorldSpaceAR(cc.v2(0,0)),n=this.chip_area.convertToNodeSpaceAR(o),r=this.createChip(t);r.setPosition(cc.v2(n.x,n.y));var c=i.WRZJHAdapter.getRandomInt(this.MinArea.x,this.MaxArea.x),a=i.WRZJHAdapter.getRandomInt(this.MinArea.y,this.MaxArea.y),s=i.WRZJHAdapter.getRandomInt(-360,360),l=cc.moveTo(.2,cc.v2(c,a)),p=cc.rotateTo(.3,s);r.runAction(cc.spawn(l,p)),this.chip_area.addChild(r)},t.prototype.onRecoverChipInAre=function(e){var t=this;e.forEach(function(e,o){var n=t.createChip(e),r=i.WRZJHAdapter.getRandomInt(t.MinArea.x,t.MaxArea.x),c=i.WRZJHAdapter.getRandomInt(t.MinArea.y,t.MaxArea.y),a=i.WRZJHAdapter.getRandomInt(-360,360);n.setPosition(cc.v2(r,c)),n.angle=a,n.active=!0,t.chip_area.addChild(n)})},t.prototype.onAreaToBanker=function(){for(var e=this,t=this.node.parent.convertToWorldSpaceAR(this.BANKER_VPOS),o=this.node.convertToNodeSpaceAR(t),n=this.chip_area.childrenCount,r=function(t){var n=i.chip_area.children[t],r=cc.moveTo(.5,cc.v2(o.x,o.y)),c=cc.sequence(r,cc.callFunc(function(){e.clearChip(n)}));n.runAction(c)},i=this,c=0;c<n;c++)r(c)},t.prototype.onBankerToArea=function(){for(var e=this,t=this.node.parent.convertToWorldSpaceAR(this.BANKER_VPOS),o=this.node.convertToNodeSpaceAR(t),n=i.WRZJHAdapter.getRandomInt(5,15),r=0;r<n;r++){var c=o.x+i.WRZJHAdapter.getRandomInt(-50,50),a=o.y+i.WRZJHAdapter.getRandomInt(-50,50),l=i.WRZJHAdapter.getRandomInt(this.MinArea.x,this.MaxArea.x),p=i.WRZJHAdapter.getRandomInt(this.MinArea.y,this.MaxArea.y),u=i.WRZJHAdapter.getRandomInt(0,4),h=s.NetManager.getGameProtocol().BET_CHROME_VALUE[u],d=this.createChip(h);d.setPosition(cc.v2(c,a));var f=cc.moveTo(.5,cc.v2(l,p));d.runAction(f),this.chip_area.addChild(d)}this.interval=function(){e.onAreaToPlayer()},this.scheduleOnce(this.interval,.6)},t.prototype.onAreaToPlayer=function(){for(var e=this,t=-(cc.view.getVisibleSize().width/2+this.node.x+100),o=this.chip_area.childrenCount,n=function(o){var n=r.chip_area.children[o],c=i.WRZJHAdapter.getRandomInt(-150,150),a=cc.moveTo(.5,cc.v2(t,c)),s=cc.sequence(a,cc.callFunc(function(){e.clearChip(n)}));n.runAction(s)},r=this,c=0;c<o;c++)n(c)},t.prototype.setAreaWinResult=function(e){this.spr_icon.node.active=!0,this.spr_icon.clearTracks(),this.spr_icon.setSkin(e?"shengli":"shibai"),this.spr_icon.setToSetupPose(),this.spr_icon.setAnimation(0,"animation",!1)},t.prototype.clearAreaWinResult=function(){this.spr_icon.node.active=!1},t.prototype.playScoreAni=function(e,t){void 0===t&&(t=!0),this.bet_chip.node.stopAllActions(),this.score.node.stopAllActions(),this.bet_chip.node.setPosition(cc.v2(0,0)),this.score.font=this.scoreBMFont[e>0?1:0];var o="";if(o=e>=1e3&&e<1e4?(e/1e3).toFixed(2)+"K":e>=1e4?(e/1e4).toFixed(2)+"W":e,this.score.string=e>0?"+"+o:e,t){var n=cc.v2(-(a.GameCMD.AREA_WIDTH+this.score.node.width)/2,0);this.score.node.setPosition(n);var r=cc.moveTo(.3,cc.v2(0,0));this.score.node.runAction(r);var i=cc.v2((a.GameCMD.AREA_WIDTH+this.bet_chip.node.width)/2,0),c=cc.moveTo(.3,i);this.bet_chip.node.runAction(c)}else this.bet_chip.string="",this.score.node.setPosition(cc.v2(0,0))},t.prototype.onWinBlinkAni=function(e,t,o){if(void 0===e&&(e=!0),void 0===t&&(t=1),void 0===o&&(o=4),this.blink.active=!0,this.blink.opacity=255,e){var n=cc.blink(t,o);this.blink.opacity=0,this.blink.runAction(n)}},t.prototype.onTouchBlink=function(){var e=this;this.blink.stopAllActions(),this.blink.active=!0,this.blink.opacity=255;var t=cc.sequence(cc.delayTime(.5),cc.callFunc(function(){e.blink.active=!1}));this.blink.runAction(t)},t.prototype.hideViewBlink=function(){this.blink.active=!1,this.blink.opacity=0},t.prototype.FillInViewSumChip=function(e){var t="";t=e>=1e3&&e<1e4?(e/1e3).toFixed(2)+"K":e>=1e4?(e/1e4).toFixed(2)+"W":e,this.sum_chip.string="\u603b: "+t},t.prototype.FillInViewBetChip=function(e){this.bet_chip.node.setPosition(cc.v2(0,0));var t="";t=e>=1e3&&e<1e4?(e/1e3).toFixed(2)+"K":e>=1e4?(e/1e4).toFixed(2)+"W":e,this.bet_chip.string=t},t.prototype.clearViewBetChip=function(){this.bet_chip.node.setPosition(cc.v2(0,0)),this.bet_chip.string="",this.sum_chip.string="\u603b: 0",this.score.string=""},t.prototype.switchBetTouch=function(e){this.can_bet=e},t.prototype.onBetEvent=function(e){if(this.can_bet){this.onWinBlinkAni(!0,.2,1);var t=s.NetManager.getGameProtocol().BET_VALUE;t*=1,console.log("\u53d1\u9001\u4e0b\u6ce8\u4e8b\u4ef6 \u6570\u503c:",t,"\u8303\u56f4:",this.LocIdx),s.NetManager.getGameProtocol().sendBetReq(t,this.LocIdx)}else l.UIManager.showTips("\u975e\u4e0b\u6ce8\u72b6\u6001, \u8bf7\u7b49\u5f85")},t.prototype.removeAreaChip=function(){for(var e=this.chip_area.childrenCount,t=0;t<e;t++)this.clearChip()},r([h(cc.Label)],t.prototype,"sum_chip",void 0),r([h(cc.Label)],t.prototype,"bet_chip",void 0),r([h(cc.Label)],t.prototype,"score",void 0),r([h(cc.Node)],t.prototype,"blink",void 0),r([h(cc.Node)],t.prototype,"btn_bet",void 0),r([h(cc.Node)],t.prototype,"chip_area",void 0),r([h(cc.Prefab)],t.prototype,"chip",void 0),r([h(sp.Skeleton)],t.prototype,"spr_icon",void 0),r([h(cc.BitmapFont)],t.prototype,"scoreBMFont",void 0),r([h],t.prototype,"MaxArea",void 0),r([h],t.prototype,"MinArea",void 0),r([h],t.prototype,"LocIdx",void 0),t=r([u],t)}(cc.Component);o.default=d,cc._RF.pop()},{"../../../manager/NetManager":void 0,"../../../manager/UIManager":void 0,".././WRZJHDefine":"WRZJHDefine","./WRZJHAdapter":"WRZJHAdapter","./WRZJHChrome":"WRZJHChrome"}],WRZJHCard:[function(e,t,o){"use strict";cc._RF.push(t,"9e96bNe0EtD66zBhpU4fPHz","WRZJHCard");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,c=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(c=(i<3?r(c):i>3?r(t,o,c):r(t,o))||c);return i>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../common/utils/Utils"),c=e("./../WRZJHDefine"),a=e("../../../manager/AudioManager"),s=cc._decorator,l=s.ccclass,p=s.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.poker=null,t.node_shuffle=null,t.node_poker=[],t.node_card_type=[],t.frame_type=[],t.frame_ditu=[],t}return n(t,e),t.prototype.createPoker=function(){this.node_shuffle.removeAllChildren(),this.node_poker.forEach(function(e,t){e.removeAllChildren()});for(var e=0;e<15;e++){var t=cc.instantiate(this.poker),o=t.getComponent("createPoker");t.zIndex=e+1,t.name="poker"+e,t.position=e%2==0?cc.v2(c.GameCMD.DEALCARD_POS.x,-1.5*e+c.GameCMD.DEALCARD_POS.y):cc.v2(c.GameCMD.DEALCARD_POS.x,-1.5*(e-1)+c.GameCMD.DEALCARD_POS.y),o.createPoker(),this.node_shuffle.addChild(t)}},t.prototype.reSendPoker=function(){this.node_shuffle.removeAllChildren(),this.node_poker.forEach(function(e,t){e.removeAllChildren()});for(var e=0,t=0;t<15;t++){var o=cc.instantiate(this.poker),n=Math.floor(e/3),r=e%3*50,i=this.node_poker[n];o.zIndex=0,o.parent=i,o.position=cc.v2(r,0),o.getComponent("createPoker").createPoker(),e++}},t.prototype.reShowCard=function(e){for(var t=0;t<e.length;t++){for(var o=e[t].loc%5,n=e[t].card_arr,r=e[t].val_type,i=this.node_poker[o],c=0;c<3;c++){i.children[c].getComponent("createPoker").createPoker(n[c])}this.setTypeSprite(o,r,!1)}},t.prototype.setTypeSprite=function(e,t,o){void 0===o&&(o=!0);var n=this.node_card_type[e];n.active=!0,n.getChildByName("bg").getComponent(cc.Sprite).spriteFrame=this.frame_ditu[t-1];var r=n.getChildByName("type").getComponent(cc.Sprite);if(r.spriteFrame=this.frame_type[t-1],o){r.node.scale=2;var i=cc.scaleTo(.3,1);r.node.runAction(i)}},t.prototype.onShowCardAni=function(e,t){for(var o=this,n=function(n){var i=e[n].loc%5,s=e[n].card_arr,l=e[n].val_type;r.schedule(function(){for(var r=o.node_poker[i],p=function(p){var u=r.children[p],h=u.getComponent("createPoker"),d=50*p;h.createPoker(s[p]),u.position=cc.v2(0,0),u.runAction(cc.sequence(cc.moveTo(.3,cc.v2(d,0)),cc.callFunc(function(){2==p&&(o.setTypeSprite(i,l),a.AudioManager.playGameSFX(c.CardSound[l]),t&&t(e[n]))})))},u=0;u<3;u++)p(u)},.75*n,0,0)},r=this,i=0;i<e.length;i++)n(i)},t.prototype.onShuffleAni=function(){this.node_poker.forEach(function(e,t){e.removeAllChildren()}),this.createPoker();for(var e=this.node_shuffle.children,t=function(t){var o=e[t],n=o.position,r=i.default.getRandomInt(30,50),c=cc.sequence(cc.moveBy(.25,cc.v2(r,2)),cc.callFunc(function(){o.zIndex=o.zIndex-1}),cc.moveBy(.25,cc.v2(-r,-2)),cc.callFunc(function(){o.position=n})),a=cc.sequence(cc.moveBy(.25,cc.v2(-r,-2)),cc.callFunc(function(){o.zIndex=o.zIndex+1}),cc.moveBy(.25,cc.v2(r,2)),cc.callFunc(function(){o.position=n}));if(t%2==0){var s=cc.sequence(c,a,c,a);o.runAction(s)}else{s=cc.sequence(a,c,a,c);o.runAction(s)}},o=0;o<e.length;o++)t(o)},t.prototype.onSendCardAni=function(){var e=this;this.node_poker.forEach(function(e,t){e.removeAllChildren()}),this.createPoker();for(var t=this.node_shuffle.children,o=0,n=function(n){var r=t[n],i=Math.floor(o/3),s=.08*o,l=o%3*50,p=cc.v2(c.GameCMD.DIR_CARD_POS[i].x+l,c.GameCMD.DIR_CARD_POS[i].y);o++,r.runAction(cc.sequence(cc.delayTime(s),cc.moveTo(.25,p),cc.callFunc(function(){var t=e.node_poker[i];r.zIndex=0,r.parent=t,r.position=cc.v2(l,0),a.AudioManager.playSFX("licensing")})))},r=t.length-1;r>=0;r--)n(r)},t.prototype.removeCard=function(){this.unscheduleAllCallbacks();for(var e=this.node_shuffle.childrenCount,t=0;t<e;t++){this.node_shuffle.children[t].stopAllActions()}this.node_shuffle.removeAllChildren(),this.node_poker.forEach(function(e,t){e.children.forEach(function(e,t){e.stopAllActions()}),e.removeAllChildren()}),this.node_card_type.forEach(function(e,t){e.active=!1})},r([p(cc.Prefab)],t.prototype,"poker",void 0),r([p(cc.Node)],t.prototype,"node_shuffle",void 0),r([p(cc.Node)],t.prototype,"node_poker",void 0),r([p(cc.Node)],t.prototype,"node_card_type",void 0),r([p(cc.SpriteFrame)],t.prototype,"frame_type",void 0),r([p(cc.SpriteFrame)],t.prototype,"frame_ditu",void 0),t=r([l],t)}(cc.Component);o.default=u,cc._RF.pop()},{"../../../common/utils/Utils":void 0,"../../../manager/AudioManager":void 0,"./../WRZJHDefine":"WRZJHDefine"}],WRZJHCenter:[function(e,t,o){"use strict";cc._RF.push(t,"b9f4b1o4flOu7JGbpj0w7Te","WRZJHCenter");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,c=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(c=(i<3?r(c):i>3?r(t,o,c):r(t,o))||c);return i>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../public/TimeClock"),c=cc._decorator,a=c.ccclass,s=c.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.alarm_clock=null,t.label_tips=null,t}return n(t,e),t.prototype.setGameTimer=function(e){this.alarm_clock.setGameTimer(e)},t.prototype.onKillTimer=function(){this.alarm_clock.onKillTimer()},t.prototype.pauseAudio=function(){this.alarm_clock.pauseAudio()},t.prototype.pauseVibrate=function(){this.alarm_clock.pauseVibrate()},t.prototype.setViewTips=function(e){this.label_tips.node.active=!0,this.label_tips.string=e},t.prototype.hideViewTips=function(){this.label_tips.node.active=!1,this.label_tips.string=""},r([s(i.default)],t.prototype,"alarm_clock",void 0),r([s(cc.Label)],t.prototype,"label_tips",void 0),t=r([a],t)}(cc.Component);o.default=l,cc._RF.pop()},{"../../public/TimeClock":void 0}],WRZJHChrome:[function(e,t,o){"use strict";cc._RF.push(t,"1c121xzLKNB+YvKllCOhW2f","WRZJHChrome");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,c=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(c=(i<3?r(c):i>3?r(t,o,c):r(t,o))||c);return i>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../manager/NetManager"),c=cc._decorator,a=c.ccclass,s=c.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.fnt_bg=null,t.fnt_num=null,t.FNT_NUM_LIST=["Z","X","C","V","B"],t}return n(t,e),t.prototype.setViewChip=function(e){var t=this.node.getChildByName("num_node");t&&this.node.removeChild(t);var o="";o=e>=1e3&&e<1e4?(e/1e3).toString().slice(0,3)+"K":e>=1e4?(e/1e4).toString().slice(0,3)+"W":e,this.fnt_num.string=o;for(var n=i.NetManager.getGameProtocol().BET_CHROME_VALUE,r=0;r<n.length;r++){if(e==n[r]){this.fnt_bg.string=this.FNT_NUM_LIST[r];break}}},r([s(cc.Label)],t.prototype,"fnt_bg",void 0),r([s(cc.Label)],t.prototype,"fnt_num",void 0),t=r([a],t)}(cc.Component);o.default=l,cc._RF.pop()},{"../../../manager/NetManager":void 0}],WRZJHCmd:[function(e,t,o){"use strict";cc._RF.push(t,"9dd074UGfdC+5KtMZ9gfe8J","WRZJHCmd"),Object.defineProperty(o,"__esModule",{value:!0}),o.WRZJHCmd="218_0",o.ProtocolWRZJHCmd={GameStartNotify:o.WRZJHCmd+"_game_start_notify",ShuffleNotify:o.WRZJHCmd+"_game_shuffle_notify",SendCardNotify:o.WRZJHCmd+"_send_card_notify",BetNotify:o.WRZJHCmd+"_bet_notify",OtherBetNotify:o.WRZJHCmd+"_other_bet_notify",ShowCardNotify:o.WRZJHCmd+"_show_card_notify",GameConcludeNotify:o.WRZJHCmd+"_game_conclude_notify",GameReconnectInfo:o.WRZJHCmd+"_game_reconnect_info",OtherUsersRes:o.WRZJHCmd+"_other_users_res",WaitNextNotify:o.WRZJHCmd+"_wait_next_notify",ContinueBetRes:o.WRZJHCmd+"_continue_bet_res"},cc._RF.pop()},{}],WRZJHDefine:[function(e,t,o){"use strict";var n,r;cc._RF.push(t,"9dc3ct70tVCUI+5X49hI2Zg","WRZJHDefine"),Object.defineProperty(o,"__esModule",{value:!0}),function(e){e[e.SanCard=1]="SanCard",e[e.PAIR=2]="PAIR",e[e.SHUN_ZI=3]="SHUN_ZI",e[e.JINHUA=4]="JINHUA",e[e.TONGHUA=5]="TONGHUA",e[e.BAOZI=6]="BAOZI",e[e.ErSanWu=7]="ErSanWu"}(r||(r={})),o.GameCMD={DIR_CARD_POS:[cc.v2(0,110),cc.v2(-470,-80),cc.v2(-190,-80),cc.v2(85,-80),cc.v2(370,-80)],DEALCARD_POS:cc.v2(450,130),AREA_WIDTH:221},o.CardSound=((n={})[r.SanCard]="zjh_sp",n[r.PAIR]="zjh_dz",n[r.SHUN_ZI]="zjh_sz",n[r.JINHUA]="zjh_jh",n[r.TONGHUA]="zjh_th",n[r.BAOZI]="zjh_bz",n[r.ErSanWu]="zjh_235",n),cc._RF.pop()},{}],WRZJHFooter:[function(e,t,o){"use strict";cc._RF.push(t,"c1187bNMddFdo8Ck/4Y4oco","WRZJHFooter");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,c=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(c=(i<3?r(c):i>3?r(t,o,c):r(t,o))||c);return i>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var i=e("./WRZJHAdapter"),c=e("../../../manager/NetManager"),a=cc._decorator,s=a.ccclass,l=a.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.node_bet=null,t.btn_continue=null,t.bet_btns=[],t.bet_nums=[],t.bet_blinks=[],t.last_click=0,t}return n(t,e),t.prototype.onLoad=function(){var e=this;this.bet_btns=this.node_bet.children,this.bet_btns.forEach(function(t,o){var n=t.getChildByName("num").getComponent(cc.Label);n.string="",e.bet_nums.push(n);var r=t.getChildByName("blink");r.active=!1,e.bet_blinks.push(r),i.WRZJHAdapter.addClickEventEND(t,e.onBetTouchEvent.bind(e),o)}),i.WRZJHAdapter.addClickEventEND(this.btn_continue.getChildByName("active"),this.onContinueClickEvent.bind(this)),this.bet_blinks[0].active=!0},t.prototype.setChromeBet=function(e){this.bet_nums.forEach(function(t,o){var n=e[o],r="";r=n>=1e3&&n<1e4?n/1e3+"K":n>=1e4?n/1e4+"W":n+"",t.getComponent(cc.Label).string=r}),c.NetManager.getGameProtocol().BET_CHROME_VALUE=e},t.prototype.setBetValue=function(){c.NetManager.getGameProtocol().BET_VALUE=c.NetManager.getGameProtocol().BET_CHROME_VALUE[this.last_click]},t.prototype.onBetTouchEvent=function(e,t){t!=this.last_click&&(this.bet_blinks.forEach(function(e,t){e.active=!1}),this.bet_blinks[t].active=!0,this.last_click=t,this.setBetValue())},t.prototype.enableContinue=function(e){this.btn_continue.getChildByName("active").active=e,this.btn_continue.getChildByName("disable").active=!e},t.prototype.onContinueClickEvent=function(){c.NetManager.getGameProtocol().sendContinueBetReq()},r([l(cc.Node)],t.prototype,"node_bet",void 0),r([l(cc.Node)],t.prototype,"btn_continue",void 0),t=r([s],t)}(cc.Component);o.default=p,cc._RF.pop()},{"../../../manager/NetManager":void 0,"./WRZJHAdapter":"WRZJHAdapter"}],WRZJHGameScene:[function(e,t,o){"use strict";cc._RF.push(t,"247f4ww34pNbIylLCJC/PCS","WRZJHGameScene");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,c=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(c=(i<3?r(c):i>3?r(t,o,c):r(t,o))||c);return i>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var i=e("./WRZJHGameView"),c=e("../../../manager/EventManager"),a=e("../../../net/NetCmd"),s=e("../protocol/WRZJHCmd"),l=e("../../../manager/UIManager"),p=cc._decorator,u=p.ccclass,h=p.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.GameView=null,t}return n(t,e),t.prototype.onLoad=function(){this.GameView.GameScene=this,this.initData(),this.initEvent(),l.UIManager.hideMarquee()},t.prototype.initData=function(){},t.prototype.initEvent=function(){c.EventManager.on(this,a.ProtocolGameCmd.GameLoginResp,this.onGameLoginResp.bind(this)),c.EventManager.on(this,s.ProtocolWRZJHCmd.GameStartNotify,this.onGameStart.bind(this)),c.EventManager.on(this,s.ProtocolWRZJHCmd.ShuffleNotify,this.onShuffleNotify.bind(this)),c.EventManager.on(this,s.ProtocolWRZJHCmd.SendCardNotify,this.onSendCardNotify.bind(this)),c.EventManager.on(this,s.ProtocolWRZJHCmd.BetNotify,this.onBetNotify.bind(this)),c.EventManager.on(this,s.ProtocolWRZJHCmd.OtherBetNotify,this.onOtherBetNotify.bind(this)),c.EventManager.on(this,s.ProtocolWRZJHCmd.ShowCardNotify,this.onShowCardNotify.bind(this)),c.EventManager.on(this,s.ProtocolWRZJHCmd.GameConcludeNotify,this.onSubGameEnd.bind(this)),c.EventManager.on(this,s.ProtocolWRZJHCmd.WaitNextNotify,this.onWaitNextNotify.bind(this)),c.EventManager.on(this,s.ProtocolWRZJHCmd.GameReconnectInfo,this.onSubJoinRoom.bind(this)),c.EventManager.on(this,s.ProtocolWRZJHCmd.OtherUsersRes,this.onOtherUsersRes.bind(this)),c.EventManager.on(this,s.ProtocolWRZJHCmd.ContinueBetRes,this.onContinueBetRes.bind(this)),c.EventManager.on(this,a.GameCommonEvent.UpdateUserScore,this.onUpdateUserScore.bind(this))},t.prototype.onGameLoginResp=function(e){console.log("\u6548\u9a8c\u6210\u529f====>",e),this.GameView.resetGameView(),this.GameView.initUserInfo()},t.prototype.onGameStart=function(e){console.log("%c \u6e38\u620f\u5f00\u59cb \u901a\u77e5\u5f00\u59cb\u4e0b\u6ce8","font-size:30px;color:red;",e),this.GameView.onSubGameStart(e)},t.prototype.onShuffleNotify=function(e){console.log("%c \u64ad\u653e\u6d17\u724c\u52a8\u753b","font-size:30px;color:blue;",e),this.GameView.onSubShuffleCard(e)},t.prototype.onSendCardNotify=function(e){console.log("%c \u64ad\u653e\u53d1\u724c","font-size:30px;color:blue;",e),this.GameView.onSubSendCard(e)},t.prototype.onBetNotify=function(e){console.log("%c \u7528\u6237\u4e0b\u6ce8\u901a\u77e5","font-size:30px;color:green;",e),this.GameView.onBetNotify(e)},t.prototype.onOtherBetNotify=function(e){this.GameView.onGamePlayerBetNotify(e)},t.prototype.onShowCardNotify=function(e){console.log("%c  \u505c\u6b62\u4e0b\u6ce8 \u5f00\u724c\u901a\u77e5","font-size:30px;color:blue;",e),this.GameView.onSubShowCard(e)},t.prototype.onSubGameEnd=function(e){console.log("%c \u901a\u77e5\u7ed3\u7b97","font-size:30px;color:orange;",e),this.GameView.onSubGameEnd(e)},t.prototype.onWaitNextNotify=function(e){console.log("%c \u901a\u77e5\u4f11\u606f\u4e00\u4f1a\u7b49\u5f85\u4e0b\u4e00\u5c40","font-size:30px;color:blue;",e),this.GameView.onSubWaitNext(e)},t.prototype.onSubJoinRoom=function(e){console.log("%c \u52a0\u5165\u623f\u95f4 \u6062\u590d\u573a\u666f","font-size:30px;color:red;",e),this.GameView.onSubJoinRoom(e)},t.prototype.onOtherUsersRes=function(e){console.log("%c \u83b7\u53d6\u5728\u7ebf\u73a9\u5bb6\u4eba\u6570\u56de\u5e94","font-size:30px;color:blue;",e),this.GameView.onGetOnlineUserRes(e)},t.prototype.onContinueBetRes=function(e){console.log("%c \u7eed\u6295\u56de\u5e94","font-size:30px;color:red;",e),this.GameView.onContinueRes(e)},t.prototype.onUpdateUserScore=function(e){this.GameView.onUpdateUserScore(e)},t.prototype.onDestroy=function(){c.EventManager.off(this)},r([h(i.default)],t.prototype,"GameView",void 0),t=r([u],t)}(cc.Component);o.default=d,cc._RF.pop()},{"../../../manager/EventManager":void 0,"../../../manager/UIManager":void 0,"../../../net/NetCmd":void 0,"../protocol/WRZJHCmd":"WRZJHCmd","./WRZJHGameView":"WRZJHGameView"}],WRZJHGameView:[function(e,t,o){"use strict";cc._RF.push(t,"b0350UrNvRINaWvk21BMGrY","WRZJHGameView");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,c=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(c=(i<3?r(c):i>3?r(t,o,c):r(t,o))||c);return i>3&&c&&Object.defineProperty(t,o,c),c},i=this&&this.__awaiter||function(e,t,o,n){return new(o||(o=Promise))(function(r,i){function c(e){try{s(n.next(e))}catch(e){i(e)}}function a(e){try{s(n.throw(e))}catch(e){i(e)}}function s(e){e.done?r(e.value):new o(function(t){t(e.value)}).then(c,a)}s((n=n.apply(e,t||[])).next())})},c=this&&this.__generator||function(e,t){var o,n,r,i,c={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(e){return function(t){return s([e,t])}}function s(i){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,n&&(r=2&i[0]?n.return:i[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,i[1])).done)return r;switch(n=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return c.label++,{value:i[1],done:!1};case 5:c.label++,n=i[1],i=[0];continue;case 7:i=c.ops.pop(),c.trys.pop();continue;default:if(!(r=(r=c.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){c=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){c.label=i[1];break}if(6===i[0]&&c.label<r[1]){c.label=r[1],r=i;break}if(r&&c.label<r[2]){c.label=r[2],c.ops.push(i);break}r[2]&&c.ops.pop(),c.trys.pop();continue}i=t.call(e,c)}catch(e){i=[6,e],n=0}finally{o=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var a=e("./WRZJHAdapter"),s=e("./WRZJHPlayer"),l=e("./WRZJHOnlinePlayer"),p=e("./WRZJHCenter"),u=e("./WRZJHBetArea"),h=e("./WRZJHFooter"),d=e("./WRZJHRecord"),f=e("./WRZJHCard"),_=e("./WRZJHTopPanel"),v=e("../../../manager/DataManager"),y=e("../../../manager/AudioManager"),m=e("../../../manager/UIManager"),R=e("../../../manager/EventManager"),g=e("../../../net/NetCmd"),b=e("../../../manager/ResManager"),C=e("../../../manager/NetManager"),W=cc._decorator,A=W.ccclass,H=W.property,Z=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.WRZJHCenter=null,t.WRZJHBetArea=[],t.WRZJHCard=null,t.WRZJHFooter=null,t.WRZJHPlayer=null,t.WRZJHRecord=null,t.WRZJHOnlinePlayer=null,t.WRZJHTopPanel=null,t.UINode=null,t.user_node=null,t.start_bet=null,t.stop_bet=null,t.GameScene=null,t.LIMIT_BET_NUM=[],t}return n(t,e),t.prototype.onLoad=function(){y.AudioManager.playGameBGM("wrzjh_bgm.mp3"),this.initChat()},t.prototype.initChat=function(){return i(this,void 0,void 0,function(){var e,t;return c(this,function(o){switch(o.label){case 0:return[4,b.ResManager.loadResAsync("prefabs/common/GameChat",cc.Prefab,!1)];case 1:return(e=o.sent())&&cc.isValid(this.node)&&!this.node.getChildByName("GameChat")&&(t=cc.instantiate(e),this.node.addChild(t)),[2]}})})},t.prototype.initUserInfo=function(){var e={username:a.WRZJHAdapter.getSubStringLengTxt(v.DataManager.userInfo.nickname)||a.WRZJHAdapter.getReplaceStrToStar(v.DataManager.userInfo.userid),gold:v.DataManager.userInfo.gold,headimg_id:v.DataManager.userInfo.headimgurl,vip_level:v.DataManager.userInfo.vip_level};this.WRZJHPlayer.setUserInfo(e)},t.prototype.resetGameView=function(){this.node.stopAllActions(),this.WRZJHPlayer.resetView(),this.WRZJHCard.removeCard(),this.WRZJHBetArea.forEach(function(e,t){e.resetArea()}),this.initUserInfo()},t.prototype.onSubJoinRoom=function(e){var t=this;this.resetGameView(),this.WRZJHTopPanel.setRoomInfo(e.room_info.room_code),this.WRZJHPlayer.setUserScore(e.gold);var o=e.enter_result;this.WRZJHRecord.recoverRecord(o);var n=0;e.bet_num_info.forEach(function(e,o){n+=e.sum_bet_num,t.WRZJHBetArea[o].FillInViewSumChip(e.sum_bet_num),e.user_bet_num>0&&t.WRZJHBetArea[o].FillInViewBetChip(e.user_bet_num)}),R.EventManager.emit(g.GameCommonEvent.UpdateAllBet,n),this.WRZJHFooter.setChromeBet(e.bet_value_arr),this.WRZJHFooter.setBetValue(),this.LIMIT_BET_NUM=e.limit_num,e.bet_value_info.forEach(function(e,o){var n=e.loc-1;t.WRZJHBetArea[n].onRecoverChipInAre(e.bet_value)}),this.WRZJHBetArea.forEach(function(e,t){e.switchBetTouch(!1)}),this.WRZJHFooter.enableContinue(!1);var r=e.game_state;if(1==r)this.WRZJHFooter.enableContinue(1==e.enable_continue),this.WRZJHCard.createPoker(),this.WRZJHBetArea.forEach(function(e,t){e.switchBetTouch(!0)});else if(2==r)this.WRZJHCard.onShuffleAni();else if(r<6){this.WRZJHCard.reSendPoker();var i=e.card_msg_info;r>3&&this.WRZJHCard.reShowCard(i),4!=r&&5!=r||(i=e.card_msg_info).forEach(function(e,o){var n=e.loc-1;n<4&&(1==e.is_win&&t.WRZJHBetArea[n].onWinBlinkAni(!1),t.WRZJHBetArea[n].setAreaWinResult(1==e.is_win),0!=parseFloat(e.score)&&t.WRZJHBetArea[n].playScoreAni(e.score,!1))})}var c="";1==r?c="\u4e0b\u6ce8\u4e2d":2==r?c="\u6d17\u724c\u4e2d.":3==r?c="\u53d1\u724c\u4e2d":4==r?c="\u6b63\u5728\u5f00\u724c...":5==r?c="\u6b63\u5728\u6d3e\u5956...":6==r&&(c="\u4f11\u606f\u65f6\u95f4..."),this.WRZJHCenter.onKillTimer(),this.WRZJHCenter.setGameTimer({limit_time:e.time_out,playAudio:1==r,vibrate:1==r}),this.WRZJHCenter.setViewTips(c)},t.prototype.showStartBetAni=function(){var e=this,t=cc.view.getVisibleSize(),o=cc.instantiate(this.start_bet),n=-(t.width+o.width)/2;o.position=cc.v2(n,0),cc.tween(o).to(.5,{position:cc.v2(0,0)}).to(.5,{opacity:0}).start(),this.UINode.addChild(o),this.scheduleOnce(function(){e.UINode.removeChild(o)},1)},t.prototype.onSubGameStart=function(e){C.NetManager.protocolGameCommon.needFlushGold=!1,this.WRZJHPlayer.resetView(),this.WRZJHCard.removeCard(),this.WRZJHBetArea.forEach(function(e,t){e.resetArea()}),this.WRZJHTopPanel.setRoomInfo(e.room_info.room_code),this.showStartBetAni(),this.WRZJHCard.createPoker(),this.WRZJHBetArea.forEach(function(e,t){e.switchBetTouch(!0)}),this.WRZJHFooter.enableContinue(1==e.enable_continue),this.WRZJHCenter.onKillTimer(),this.WRZJHCenter.setGameTimer({limit_time:e.time_out,playAudio:!0,vibrate:!0}),this.WRZJHCenter.setViewTips("\u4e0b\u6ce8\u4e2d")},t.prototype.showEndBetAni=function(e){var t=this,o=cc.view.getVisibleSize(),n=cc.instantiate(this.stop_bet),r=-(o.width+n.width)/2;n.position=cc.v2(r,0),cc.tween(n).to(.5,{position:cc.v2(0,0)}).to(.5,{opacity:0}).start(),this.UINode.addChild(n),this.scheduleOnce(function(){t.UINode.removeChild(n),e&&e()},1)},t.prototype.onSubShuffleCard=function(e){this.WRZJHBetArea.forEach(function(e,t){e.switchBetTouch(!1)}),this.WRZJHFooter.enableContinue(!1),this.showEndBetAni(this.WRZJHCard.onShuffleAni()),this.WRZJHCenter.onKillTimer(),this.WRZJHCenter.setGameTimer({limit_time:e.time_out}),this.WRZJHCenter.setViewTips("\u6d17\u724c\u4e2d")},t.prototype.onSubSendCard=function(e){this.WRZJHCard.onSendCardAni(),this.WRZJHCenter.onKillTimer(),this.WRZJHCenter.setGameTimer({limit_time:e.time_out}),this.WRZJHCenter.setViewTips("\u53d1\u724c\u4e2d")},t.prototype.onBetNotify=function(e){var t=this;if(1==e.result){v.DataManager.userInfo.gold=e.gold,this.WRZJHPlayer.setUserScore(e.gold);var o=0;e.bet_num_info.forEach(function(e,n){var r=n;o+=e.sum_bet_num,t.WRZJHBetArea[r].FillInViewSumChip(e.sum_bet_num),e.user_bet_num>0&&t.WRZJHBetArea[r].FillInViewBetChip(e.user_bet_num)}),R.EventManager.emit(g.GameCommonEvent.UpdateAllBet,o);var n=e.bet_value_info,r=n.loc-1;n.bet_value.forEach(function(e,o){t.WRZJHBetArea[r].onUserBetChipAni(t.user_node,e)}),this.WRZJHPlayer.shakeHead(),this.WRZJHFooter.enableContinue(!1),this.WRZJHCenter.pauseAudio(),this.WRZJHCenter.pauseVibrate(),y.AudioManager.playSFX("flychip")}else 2==e.result?m.UIManager.showTips("\u8be5\u533a\u57df\u8fbe\u5230\u9650\u5236"):3==e.result?m.UIManager.showTips("\u91d1\u5e01\u4e0d\u8db3"):4==e.result?m.UIManager.showTips("\u975e\u4e0b\u6ce8\u72b6\u6001, \u8bf7\u7b49\u5f85"):5==e.result?m.UIManager.showTips("\u60a8\u662f\u5e84\u5bb6\uff0c\u8bf7\u7b49\u5f85\u5176\u4ed6\u73a9\u5bb6\u4e0b\u6ce8"):6==e.result&&m.UIManager.showTips("\u672c\u5c40\u5e84\u5bb6\u53ef\u63a5\u53d7\u62bc\u6ce8\u91d1\u989d\u5df2\u8fbe\u4e0a\u9650, \u8bf7\u7b49\u5f85\u6e38\u620f\u5f00\u59cb")},t.prototype.onGamePlayerBetNotify=function(e){var t=this,o=e.bet_num_info;e.bet_value_info.forEach(function(e,o){var n=e.loc-1;e.bet_value.forEach(function(e,o){t.WRZJHBetArea[n].onBetChipAni(e)})});var n=0;o.forEach(function(e,o){var r=o;n+=e.sum_bet_num,t.WRZJHBetArea[r].FillInViewSumChip(e.sum_bet_num),e.user_bet_num>0&&t.WRZJHBetArea[r].FillInViewBetChip(e.user_bet_num)}),R.EventManager.emit(g.GameCommonEvent.UpdateAllBet,n),y.AudioManager.playSFX("flychip")},t.prototype.onSubShowCard=function(e){var t=this,o=e.card_msg_info;console.log("\u5f00\u724c\u6570\u7ec4",o),this.WRZJHCard.onShowCardAni(o,function(e){var o=e.loc-1;o<4&&(t.WRZJHBetArea[o].setAreaWinResult(1==e.is_win),0!=parseFloat(e.score)&&t.WRZJHBetArea[o].playScoreAni(e.score))}),this.WRZJHCenter.onKillTimer(),this.WRZJHCenter.setGameTimer({limit_time:e.time_out}),this.WRZJHCenter.setViewTips("\u6b63\u5728\u5f00\u724c...")},t.prototype.onAreaLoseAni=function(e,t){var o=this;null==e||e.length<=0?t&&t():(e.forEach(function(e,t){o.WRZJHBetArea[e].onAreaToBanker()}),this.node.runAction(cc.sequence(cc.delayTime(.6),cc.callFunc(function(){t()}))))},t.prototype.onAreaWinAni=function(e,t){var o=this;null==e||e.length<=0?t&&t():(e.forEach(function(e,t){o.WRZJHBetArea[e].onBankerToArea()}),this.node.runAction(cc.sequence(cc.delayTime(1.2),cc.callFunc(function(){t()}))))},t.prototype.onSubGameEnd=function(e){var t=this,o=e.gold,n=parseFloat(e.score),r=e.enter_result,i=[],c=[];r.result.forEach(function(e,t){1==e?c.push(t):i.push(t)}),this.onAreaLoseAni(i,function(){t.onAreaWinAni(c,function(){t.WRZJHRecord.showRecord(r.result),r.result.forEach(function(e,o){1==e&&t.WRZJHBetArea[o].onWinBlinkAni()}),e.is_bet_req&&t.WRZJHPlayer.flutterScore(n,cc.v2(0,70),function(){t.WRZJHPlayer.setUserScore(o)})})}),this.WRZJHCenter.onKillTimer(),this.WRZJHCenter.setGameTimer({limit_time:e.time_out}),this.WRZJHCenter.setViewTips("\u6b63\u5728\u6d3e\u5956...")},t.prototype.onSubWaitNext=function(e){this.WRZJHCenter.onKillTimer(),this.WRZJHCenter.setGameTimer({limit_time:e.time_out}),this.WRZJHBetArea.forEach(function(e,t){e.removeAreaChip(),e.hideViewBlink(),e.clearViewBetChip(),e.clearAreaWinResult()}),R.EventManager.emit(g.GameCommonEvent.UpdateAllBet,0),this.WRZJHCenter.setViewTips("\u4f11\u606f\u65f6\u95f4...")},t.prototype.onGetOnlineUserRes=function(e){this.WRZJHOnlinePlayer.refPeopleTips(e.totalplayers),this.WRZJHOnlinePlayer.refUserList(e.player_list),this.WRZJHOnlinePlayer.playMoveOut()},t.prototype.onContinueRes=function(e){1==e.result&&(console.log("\u7eed\u6295\u6210\u529f"),this.WRZJHFooter.enableContinue(!1))},t.prototype.onUpdateUserScore=function(e){var t=e.gold;this.WRZJHPlayer.setUserScore(t)},r([H(p.default)],t.prototype,"WRZJHCenter",void 0),r([H(u.default)],t.prototype,"WRZJHBetArea",void 0),r([H(f.default)],t.prototype,"WRZJHCard",void 0),r([H(h.default)],t.prototype,"WRZJHFooter",void 0),r([H(s.default)],t.prototype,"WRZJHPlayer",void 0),r([H(d.default)],t.prototype,"WRZJHRecord",void 0),r([H(l.default)],t.prototype,"WRZJHOnlinePlayer",void 0),r([H(_.default)],t.prototype,"WRZJHTopPanel",void 0),r([H(cc.Node)],t.prototype,"UINode",void 0),r([H(cc.Node)],t.prototype,"user_node",void 0),r([H(cc.Prefab)],t.prototype,"start_bet",void 0),r([H(cc.Prefab)],t.prototype,"stop_bet",void 0),t=r([A],t)}(cc.Component);o.default=Z,cc._RF.pop()},{"../../../manager/AudioManager":void 0,"../../../manager/DataManager":void 0,"../../../manager/EventManager":void 0,"../../../manager/NetManager":void 0,"../../../manager/ResManager":void 0,"../../../manager/UIManager":void 0,"../../../net/NetCmd":void 0,"./WRZJHAdapter":"WRZJHAdapter","./WRZJHBetArea":"WRZJHBetArea","./WRZJHCard":"WRZJHCard","./WRZJHCenter":"WRZJHCenter","./WRZJHFooter":"WRZJHFooter","./WRZJHOnlinePlayer":"WRZJHOnlinePlayer","./WRZJHPlayer":"WRZJHPlayer","./WRZJHRecord":"WRZJHRecord","./WRZJHTopPanel":"WRZJHTopPanel"}],WRZJHOnlinePlayer:[function(e,t,o){"use strict";cc._RF.push(t,"257deH31RxBKYA0zyj+fwfF","WRZJHOnlinePlayer");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,c=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(c=(i<3?r(c):i>3?r(t,o,c):r(t,o))||c);return i>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../common/utils/Utils"),c=e("../../../manager/NetManager"),a=e("../../../common/UIHelper"),s=cc._decorator,l=s.ccclass,p=s.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cancel=null,t.spr=null,t.arrow=null,t.btn_click=null,t.user_panel=null,t.tips=null,t.ScrollView=null,t.user_item=null,t.is_move_out=!1,t.is_done=!0,t}return n(t,e),t.prototype.start=function(){var e=this;i.default.addClickEventEND(this.btn_click,function(){e.onClickEvent()}),i.default.addClickEventEND(this.cancel,function(){e.onCancelEvent()})},t.prototype.onClickEvent=function(){this.is_done?(this.is_done=!1,this.is_move_out?this.playMoveBack():c.NetManager.getGameProtocol().sendGetOnlineUser()):console.log("\u52a8\u753b\u8fd8\u672a\u7ed3\u675f \u4e0d\u53ef\u70b9\u51fb")},t.prototype.onCancelEvent=function(){this.is_done?this.is_move_out?(this.is_done=!1,this.playMoveBack()):console.log("\u672a\u79fb\u52a8\u51fa\u53bb"):console.log("\u52a8\u753b\u8fd8\u672a\u7ed3\u675f \u4e0d\u53ef\u70b9\u51fb")},t.prototype.playMoveOut=function(){var e=this;this.user_panel.active=!0,this.arrow.scaleX=-1,this.is_move_out=!0;var t=cc.sequence(cc.moveBy(.5,cc.v2(this.user_panel.width,0)),cc.callFunc(function(){e.is_done=!0}));this.spr.runAction(t)},t.prototype.playMoveBack=function(){var e=this;this.arrow.scaleX=1;var t=cc.sequence(cc.moveBy(.5,cc.v2(-this.user_panel.width,0)),cc.callFunc(function(){e.user_panel.active=!1,e.is_done=!0,e.is_move_out=!1}));this.spr.runAction(t)},t.prototype.refPeopleTips=function(e){this.tips.string="\u672c\u684c\u5171"+e+"\u4eba\u968f\u673a\n\u663e\u793a\u4e0a\u5c4020\u540d\u4e0b\u6ce8\u73a9\u5bb6"},t.prototype.refUserList=function(e){var t=this,o=cc.find("view/content",this.ScrollView);o.removeAllChildren(),e.forEach(function(e,n){var r=cc.instantiate(t.user_item);r.active=!0;var c=r.getChildByName("head"),s=r.getChildByName("name"),l=r.getChildByName("gold");a.default.setHeadIcon(e.headimg_id,c),s.getComponent(cc.Label).string=i.default.getSubStringLengTxt(e.username)||i.default.getReplaceStrToStar(e.player_id),l.getComponent(cc.Label).string=parseFloat(e.gold).toFixed(2),o.addChild(r)})},r([p(cc.Node)],t.prototype,"cancel",void 0),r([p(cc.Node)],t.prototype,"spr",void 0),r([p(cc.Node)],t.prototype,"arrow",void 0),r([p(cc.Node)],t.prototype,"btn_click",void 0),r([p(cc.Node)],t.prototype,"user_panel",void 0),r([p(cc.Label)],t.prototype,"tips",void 0),r([p(cc.Node)],t.prototype,"ScrollView",void 0),r([p(cc.Node)],t.prototype,"user_item",void 0),t=r([l],t)}(cc.Component);o.default=u,cc._RF.pop()},{"../../../common/UIHelper":void 0,"../../../common/utils/Utils":void 0,"../../../manager/NetManager":void 0}],WRZJHPlayer:[function(e,t,o){"use strict";cc._RF.push(t,"538daijCZZDiaoIAMvo3HBE","WRZJHPlayer");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,c=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(c=(i<3?r(c):i>3?r(t,o,c):r(t,o))||c);return i>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var i=e("./WRZJHAdapter"),c=e("../../../common/UIHelper"),a=cc._decorator,s=a.ccclass,l=a.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.user_head=null,t.vip_frame=null,t.vip_level=null,t.user_name=null,t.user_money=null,t.flutter=null,t.yellow_bmfont=null,t.grey_bmfont=null,t.interVal=null,t}return n(t,e),t.prototype.onLoad=function(){this.originHeadPos=this.user_head.node.position,this.originFlutterPos=this.flutter.node.position},t.prototype.resetView=function(){this.flutter.node.stopAllActions(),this.flutter.node.active=!1,this.flutter.string="",this.user_head.node.stopAllActions(),this.unschedule(this.interVal),this.interVal=null},t.prototype.setUserHead=function(e){c.default.setHeadIcon(e,this.user_head.node),this.user_head.spriteFrame||console.log("\u7a7a\u4e86!!!!!!!")},t.prototype.setUserInfo=function(e){var t=e,o=i.WRZJHAdapter.getSubStringLengTxt(e.username)||i.WRZJHAdapter.getReplaceStrToStar(e.player_id);this.user_name.string=o,this.setUserHead(e.headimg_id),this.setUserScore(t.gold),this.setVipFrame(e.vip_level),this.setVipLevel(e.vip_level)},t.prototype.setVipFrame=function(e){c.default.setHeadFrame(e,this.vip_frame.node)},t.prototype.setVipLevel=function(e){c.default.setVipLevel(e,this.vip_level.node)},t.prototype.setUserScore=function(e){this.user_money.string=i.WRZJHAdapter.getFormatGold(e)},t.prototype.shakeHead=function(){this.user_head.node.stopAllActions(),this.user_head.node.position=this.originHeadPos,cc.tween(this.user_head.node).by(.05,{position:cc.v2(0,10)}).by(.05,{position:cc.v2(0,-12)}).by(.05,{position:cc.v2(0,2)}).start()},t.prototype.flutterScore=function(e,t,o){var n=this;this.flutter.node.position=this.originFlutterPos,this.flutter.node.active=!0;var r="";e>=0?(this.flutter.font=this.yellow_bmfont,r="+"):(this.flutter.font=this.grey_bmfont,r="-");var i=Math.abs(e),c=i/parseFloat(50..toFixed(2)),a=0,s="";this.interVal=function(){s=(a+=c).toFixed(2),n.flutter.string=r+s,a>=i&&(s=i.toString(),n.flutter.string=r+parseFloat(s).toFixed(2),n.unschedule(n.interVal),n.interVal=null)},this.schedule(this.interVal,.01,cc.macro.REPEAT_FOREVER);var l=cc.moveBy(.5,t),p=cc.sequence(l,cc.delayTime(.5),cc.callFunc(function(){o&&o()}));this.flutter.node.runAction(p)},t.prototype.onDestroy=function(){this.interVal&&(this.unschedule(this.interVal),this.interVal=null)},r([l(cc.Sprite)],t.prototype,"user_head",void 0),r([l(cc.Sprite)],t.prototype,"vip_frame",void 0),r([l(cc.Sprite)],t.prototype,"vip_level",void 0),r([l(cc.Label)],t.prototype,"user_name",void 0),r([l(cc.Label)],t.prototype,"user_money",void 0),r([l(cc.Label)],t.prototype,"flutter",void 0),r([l(cc.Font)],t.prototype,"yellow_bmfont",void 0),r([l(cc.Font)],t.prototype,"grey_bmfont",void 0),t=r([s],t)}(cc.Component);o.default=p,cc._RF.pop()},{"../../../common/UIHelper":void 0,"./WRZJHAdapter":"WRZJHAdapter"}],WRZJHRecord:[function(e,t,o){"use strict";cc._RF.push(t,"32a4d7nYwNG5L6Q5PxsMbdC","WRZJHRecord");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,c=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(c=(i<3?r(c):i>3?r(t,o,c):r(t,o))||c);return i>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,c=i.ccclass,a=i.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.list=null,t.list_item=null,t.frame_win=null,t.frame_lose=null,t.icon_new=null,t}return n(t,e),t.prototype.showRecord=function(e){this.list.children.length>=10&&this.list.children[0].removeFromParent();var t=cc.instantiate(this.list_item);t.active=!0,this.list.addChild(t),this.list.getComponent(cc.Layout).updateLayout(),this.showNewIcon(t);for(var o=t.children,n=0;n<o.length;n++){var r=o[n];r.getComponent(cc.Sprite).spriteFrame=1==e[n]?this.frame_win:this.frame_lose;var i=cc.blink(2,4);r.runAction(i)}},t.prototype.recoverRecord=function(e){this.list.removeAllChildren(),this.icon_new.active=!1;for(var t=0;t<e.length;t++){var o=cc.instantiate(this.list_item);o.active=!0,this.list.addChild(o),this.list.getComponent(cc.Layout).updateLayout();for(var n=e[t].result,r=o.children,i=0;i<r.length;i++){r[i].getComponent(cc.Sprite).spriteFrame=1==n[i]?this.frame_win:this.frame_lose}t==e.length-1&&this.showNewIcon(o)}},t.prototype.showNewIcon=function(e){var t=e.parent.convertToWorldSpaceAR(e.getPosition()),o=this.node.convertToNodeSpaceAR(t);this.icon_new.setPosition(o.x,35),this.icon_new.active=!0},r([a(cc.Node)],t.prototype,"list",void 0),r([a(cc.Node)],t.prototype,"list_item",void 0),r([a(cc.SpriteFrame)],t.prototype,"frame_win",void 0),r([a(cc.SpriteFrame)],t.prototype,"frame_lose",void 0),r([a(cc.Node)],t.prototype,"icon_new",void 0),t=r([c],t)}(cc.Component);o.default=s,cc._RF.pop()},{}],WRZJHTopPanel:[function(e,t,o){"use strict";cc._RF.push(t,"956c6rv3WNAL49xES95staz","WRZJHTopPanel");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,c=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(c=(i<3?r(c):i>3?r(t,o,c):r(t,o))||c);return i>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,c=i.ccclass,a=i.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.table_num=null,t}return n(t,e),t.prototype.onLoad=function(){this.initView()},t.prototype.initView=function(){this.table_num.string=""},t.prototype.setRoomInfo=function(e){this.table_num.string=e||""},r([a(cc.Label)],t.prototype,"table_num",void 0),t=r([c],t)}(cc.Component);o.default=s,cc._RF.pop()},{}]},{},["WRZJHDefine","ProtocolWRZJH","WRZJHCmd","WRZJHAdapter","WRZJHBetArea","WRZJHCard","WRZJHCenter","WRZJHChrome","WRZJHFooter","WRZJHGameScene","WRZJHGameView","WRZJHOnlinePlayer","WRZJHPlayer","WRZJHRecord","WRZJHTopPanel"]);