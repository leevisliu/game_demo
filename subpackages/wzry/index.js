window.__require=function e(t,o,n){function i(c,a){if(!o[c]){if(!t[c]){var l=c.split("/");if(l=l[l.length-1],!t[l]){var s="function"==typeof __require&&__require;if(!a&&s)return s(l,!0);if(r)return r(l,!0);throw new Error("Cannot find module '"+c+"'")}c=l}var u=o[c]={exports:{}};t[c][0].call(u.exports,function(e){return i(t[c][1][e]||e)},u,u.exports,e,t,o,n)}return o[c].exports}for(var r="function"==typeof __require&&__require,c=0;c<n.length;c++)i(n[c]);return i}({Amazing:[function(e,t,o){"use strict";cc._RF.push(t,"b5a17GABP5FdqcQLHmOh083","Amazing");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,c=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(c=(r<3?i(c):r>3?i(t,o,c):i(t,o))||c);return r>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../view/base/PopupView"),c=cc._decorator,a=c.ccclass,l=c.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isAnimation=!1,t.goldLabel=null,t}return n(t,e),t.prototype.start=function(){this.initView(this.data.goldNum,this.data.callFunc)},t.prototype.initView=function(e,t){var o=this;this.goldLabel.string=e.toFixed(2)+"";var n,i=e/parseFloat(50..toFixed(2)),r=0,c=function(){n=(r+=i).toFixed(2),o.goldLabel.string=""+n,r>=e&&(n=e.toString(),o.goldLabel.string=""+parseFloat(n).toFixed(2),o.unschedule(c))};this.schedule(c,.01,cc.macro.REPEAT_FOREVER),this.node.runAction(cc.sequence(cc.delayTime(2.5),cc.fadeOut(.5),cc.callFunc(function(){t&&t(),o.close()})))},i([l(cc.Label)],t.prototype,"goldLabel",void 0),t=i([a],t)}(r.default);o.default=s,cc._RF.pop()},{"../../../view/base/PopupView":void 0}],BigWin:[function(e,t,o){"use strict";cc._RF.push(t,"568bc5cxLxLV5mq+7UYIG45","BigWin");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,c=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(c=(r<3?i(c):r>3?i(t,o,c):i(t,o))||c);return r>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../view/base/PopupView"),c=cc._decorator,a=c.ccclass,l=c.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isAnimation=!1,t.goldLabel=null,t}return n(t,e),t.prototype.start=function(){this.initView(this.data.goldNum,this.data.callFunc)},t.prototype.initView=function(e,t){var o=this;this.goldLabel.string=e.toFixed(2)+"";var n,i=e/parseFloat(50..toFixed(2)),r=0,c=function(){n=(r+=i).toFixed(2),o.goldLabel.string=""+n,r>=e&&(n=e.toString(),o.goldLabel.string=""+parseFloat(n).toFixed(2),o.unschedule(c))};this.schedule(c,.01,cc.macro.REPEAT_FOREVER),this.node.runAction(cc.sequence(cc.delayTime(2.5),cc.fadeOut(.5),cc.callFunc(function(){t&&t(),o.close()})))},i([l(cc.Label)],t.prototype,"goldLabel",void 0),t=i([a],t)}(r.default);o.default=s,cc._RF.pop()},{"../../../view/base/PopupView":void 0}],BonusGame:[function(e,t,o){"use strict";cc._RF.push(t,"432d0J1VYZHFZ2VP66tDOW2","BonusGame");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,c=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(c=(r<3?i(c):r>3?i(t,o,c):i(t,o))||c);return r>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../view/base/PopupView"),c=cc._decorator,a=c.ccclass,l=(c.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isAnimation=!1,t}return n(t,e),t.prototype.start=function(){this.initView(this.data)},t.prototype.initView=function(e){var t=this;this.node.runAction(cc.sequence(cc.delayTime(2),cc.callFunc(function(){e&&e(),t.close()})))},t=i([a],t)}(r.default));o.default=l,cc._RF.pop()},{"../../../view/base/PopupView":void 0}],CenterIcon:[function(e,t,o){"use strict";cc._RF.push(t,"c8c1apJ/EdDh7Ur3DUkDTPo","CenterIcon");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,c=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(c=(r<3?i(c):r>3?i(t,o,c):i(t,o))||c);return r>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,c=r.ccclass,a=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.icon=null,t.iconBg=null,t.centerIconList=[],t.SkeletonDatas=[],t.item_bg=null,t.index=4,t.is_conn=!1,t}return n(t,e),t.prototype.onLoad=function(){},t.prototype.init=function(e,t){-1==e&&(e=Math.floor(Math.random()*this.centerIconList.length)),this.index=e,this.is_conn=t,this.icon.spriteFrame=this.centerIconList[e],this.item_bg.node.active=!1,this.item_bg.skeletonData=null,this.item_bg.animation=null},t.prototype.setIconBg=function(e){void 0===e&&(e=!1),this.iconBg.active=e},t.prototype.showItemBg=function(){var e=this;this.item_bg.skeletonData=this.SkeletonDatas[this.index],this.item_bg.node.active=!0;var t=0;this.item_bg.clearTracks(),this.item_bg.setAnimation(0,"animation",!1)&&this.item_bg.setCompleteListener(function(o,n){o.animation&&o.animation.name;console.log(643232),t++,8==e.index&&t>5?(e.item_bg.node.active=!1,e.item_bg.skeletonData=null,e.item_bg.animation=null):8==e.index&&t<5?(e.item_bg.clearTracks(),e.item_bg.setAnimation(0,"animation",!1)):(e.item_bg.node.active=!1,e.item_bg.skeletonData=null,e.item_bg.animation=null)})},t.prototype.wzryAni=function(e){var t=this;8==this.index&&(this.setIconBg(!0),cc.tween(this.icon.node).repeat(5,cc.tween(this.icon.node).to(.25,{scaleX:0}).to(.25,{scaleX:1})).call(function(){t.setIconBg(!1),e()}).start())},i([a(cc.Sprite)],t.prototype,"icon",void 0),i([a(cc.Node)],t.prototype,"iconBg",void 0),i([a(cc.SpriteFrame)],t.prototype,"centerIconList",void 0),i([a(sp.SkeletonData)],t.prototype,"SkeletonDatas",void 0),i([a(sp.Skeleton)],t.prototype,"item_bg",void 0),t=i([c],t)}(cc.Component);o.default=l,cc._RF.pop()},{}],CenterLeftView:[function(e,t,o){"use strict";cc._RF.push(t,"8e9d8MwxFBBPIWKSMHdldL4","CenterLeftView");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,c=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(c=(r<3?i(c):r>3?i(t,o,c):i(t,o))||c);return r>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../manager/AudioManager"),c=cc._decorator,a=c.ccclass,l=c.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lineNodeList=[],t.centerScrollList=[],t.centerLayoutList=[],t.centerIcon=null,t.controller=null,t.contentBgIcon=[],t}return n(t,e),t.prototype.onLoad=function(){},t.prototype.init=function(){this.contentBgIcon[0].active=!0,this.contentBgIcon[1].active=!1},t.prototype.setContentBgIcon=function(e){this.contentBgIcon[0].active=!1,this.contentBgIcon[1].active=!1,e>0?this.contentBgIcon[1].active=!0:this.contentBgIcon[0].active=!0},t.prototype.hideAllLine=function(e,t){void 0===e&&(e=0),void 0===t&&(t=!1);for(var o=0;o<this.lineNodeList.length;o++)t?o==e-1&&(this.lineNodeList[o].active=!0):this.lineNodeList[o].active=o<e},t.prototype.rewardAni=function(e,t,o,n,i){var c=this;void 0===t&&(t=.12),void 0===o&&(o=0),void 0===n&&(n=12),void 0===i&&(i=12);var a=Math.abs(this.centerScrollList[o].getMaxScrollOffset().y),l=0;n==i&&i>3?t*=2:n==i-1&&i>3&&(t/=2),2==n?t*=2:0==n?t=t*a/(l=a-55)*2:-1==n&&(l=a,t=.8),this.centerScrollList[o].stopAutoScroll(),this.centerScrollList[o].node.off("scrolling"),n>=0&&this.centerScrollList[o].scrollToOffset(new cc.Vec2(0,a)),this.centerScrollList[o].node.runAction(cc.sequence(cc.callFunc(function(){c.centerScrollList[o].scrollToOffset(new cc.Vec2(0,l),t,n<=0)}),cc.scaleTo(t,1),cc.callFunc(function(){4==o&&-1==n&&(console.log("\u52a8\u753b\u7ed3\u675f"),r.AudioManager.stopEffect("wzry_turn"),c.controller.rewardAniEndCall(e))}))),n>=0&&this.centerScrollList[o].node.on("scrolling",function(r){var a=Math.abs(c.centerScrollList[o].getScrollOffset().y);if(n>=0&&a<=l+5&&(c.rewardAni(e,t,o,n-1,i),n>0)){for(var s=[],u=0;u<c.centerLayoutList[o].node.childrenCount-1;u++){var d=c.centerLayoutList[o].node.children[u].getComponent("CenterIcon");s.push({index:d.index,is_conn:d.is_conn})}n<=4&&n>=2?c.reInitCenterItemIcon(o,s,e.roll_info[n-2]):c.reInitCenterItemIcon(o,s)}})},t.prototype.createrCenterIcon=function(){for(var e=[[{index:4},{index:10},{index:7},{index:-1}],[{index:4},{index:6},{index:0},{index:-1}],[{index:7},{index:2},{index:8},{index:-1}],[{index:1},{index:5},{index:1},{index:-1}],[{index:3},{index:0},{index:0},{index:-1}]],t=0;t<this.centerLayoutList.length;t++)this.reInitCenterItemIcon(t,e[t])},t.prototype.reInitCenterItemIcon=function(e,t,o){if(o&&t.unshift({index:o.pic_info[e].pic_id-1,is_conn:o.pic_info[e].is_conn}),t.length<4)for(var n=4-t.length,i=0;i<n;i++)t.unshift({index:-1});for(i=0;i<t.length;i++){var r=this.centerLayoutList[e].node.children[i];r||(r=cc.instantiate(this.centerIcon)),r.getComponent("CenterIcon").init(t[i].index,t[i].is_conn),this.centerLayoutList[e].node.children[i]||this.centerLayoutList[e].node.addChild(r)}},t.prototype.showIsConn=function(e,t){void 0===e&&(e=!1),void 0===t&&(t=!1);for(var o=0;o<this.centerLayoutList.length;o++)for(var n=0;n<this.centerLayoutList[o].node.childrenCount;n++){var i=this.centerLayoutList[o].node.children[n].getComponent("CenterIcon");i.is_conn||e?(i.node.opacity=255,i.is_conn&&8!=i.index&&i.showItemBg()):i.node.opacity=135,0!=o&&2!=o||8!=i.index||!t||(i.node.opacity=255,i.showItemBg())}},i([l(cc.Node)],t.prototype,"lineNodeList",void 0),i([l(cc.ScrollView)],t.prototype,"centerScrollList",void 0),i([l(cc.Layout)],t.prototype,"centerLayoutList",void 0),i([l(cc.Prefab)],t.prototype,"centerIcon",void 0),i([l(cc.Node)],t.prototype,"contentBgIcon",void 0),t=i([a],t)}(cc.Component);o.default=s,cc._RF.pop()},{"../../../manager/AudioManager":void 0}],CenterRightView:[function(e,t,o){"use strict";cc._RF.push(t,"4d56ctPdlVE2IF4q0n9NVEo","CenterRightView");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,c=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(c=(r<3?i(c):r>3?i(t,o,c):i(t,o))||c);return r>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,c=r.ccclass,a=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.timeLabel=null,t.haveNumLabel=null,t.controller=null,t}return n(t,e),t.prototype.onLoad=function(){},t.prototype.init=function(e,t){var o=this;if(void 0===t&&(t=null),null===t){var n=this.haveNumLabel.string.split("/");n&&n.length>0&&(t=parseInt(n[0]))}t=t>=8?0:t,this.haveNumLabel.string=t+"/8",this.timeLabel.string="("+this.getTimeStr(e)+")";var i=function(){if(e<=0)return o.haveNumLabel.string="0/8",void o.unschedule(i);e--,o.timeLabel.string="("+o.getTimeStr(e)+")"};this.unscheduleAllCallbacks(),this.schedule(i,1,cc.macro.REPEAT_FOREVER)},t.prototype.getTimeStr=function(e){var t=Math.floor(e/60),o=Math.floor(e%60);return(t=t>=10?t:"0"+t)+":"+(o=o>=10?o:"0"+o)},i([a(cc.Label)],t.prototype,"timeLabel",void 0),i([a(cc.Label)],t.prototype,"haveNumLabel",void 0),t=i([c],t)}(cc.Component);o.default=l,cc._RF.pop()},{}],FootView:[function(e,t,o){"use strict";cc._RF.push(t,"73202pbW7lDx5z37szpXTrQ","FootView");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,c=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(c=(r<3?i(c):r>3?i(t,o,c):i(t,o))||c);return r>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../common/utils/Utils"),c=e("../../../manager/AudioManager"),a=e("../../../manager/NetManager"),l=cc._decorator,s=l.ccclass,u=l.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.freeNode=null,t.freeLabel=null,t.startBtn=null,t.guajiBtn=null,t.guajiGou=null,t.lineLabel=null,t.goldLabel=null,t.scoreLabel=null,t.canIcon=null,t.canotIcon=null,t.lineJian=null,t.lineAdd=null,t.goldJian=null,t.goldAdd=null,t.lineList=[1,2,3,4,5,6,7,8,9],t.controller=null,t.lineId=1,t.goldId=1,t.is_free=!1,t.isStart=!1,t}return n(t,e),t.prototype.onLoad=function(){},t.prototype.init=function(){this.isStart=!1,r.default.removeClickEvent(this.startBtn),this.canIcon.active=!0,this.canotIcon.active=!1,r.default.addClickEventEND(this.startBtn,this.clickStartBtn.bind(this)),r.default.removeClickEvent(this.guajiBtn),r.default.addClickEventEND(this.guajiBtn,this.clickGuajiBtn.bind(this)),r.default.removeClickEvent(this.lineJian),r.default.addClickEventEND(this.lineJian,this.lineJianClick.bind(this)),r.default.removeClickEvent(this.lineAdd),r.default.addClickEventEND(this.lineAdd,this.lineAddClick.bind(this)),r.default.removeClickEvent(this.goldJian),r.default.addClickEventEND(this.goldJian,this.goldJianClick.bind(this)),r.default.removeClickEvent(this.goldAdd),r.default.addClickEventEND(this.goldAdd,this.goldAddClick.bind(this))},t.prototype.lineJianClick=function(){this.is_free?console.log("\u514d\u8d39\u671f\u95f4\u4e0d\u80fd\u6539\u53d8"):this.lineId>1&&(this.lineId--,this.setLineLabel(this.lineList[this.lineId-1]))},t.prototype.lineAddClick=function(){this.is_free?console.log("\u514d\u8d39\u671f\u95f4\u4e0d\u80fd\u6539\u53d8"):this.lineId<this.lineList.length&&(this.lineId++,this.setLineLabel(this.lineList[this.lineId-1]))},t.prototype.goldJianClick=function(){this.is_free?console.log("\u514d\u8d39\u671f\u95f4\u4e0d\u80fd\u6539\u53d8"):this.goldId>1&&(this.goldId--,this.setAllGoldLabel())},t.prototype.goldAddClick=function(){this.is_free?console.log("\u514d\u8d39\u671f\u95f4\u4e0d\u80fd\u6539\u53d8"):this.goldId<this.controller.bet_info.length&&(this.goldId++,this.setAllGoldLabel())},t.prototype.setFreeNode=function(e){e>0?(this.is_free=!0,this.freeLabel.string="x"+e,this.freeNode.active=!0,r.default.removeClickEvent(this.lineJian),r.default.removeClickEvent(this.lineAdd),r.default.removeClickEvent(this.goldJian),r.default.removeClickEvent(this.goldAdd)):(this.is_free=!1,this.freeNode.active=!1,r.default.removeClickEvent(this.guajiBtn),r.default.addClickEventEND(this.guajiBtn,this.clickGuajiBtn.bind(this)),r.default.removeClickEvent(this.lineJian),r.default.addClickEventEND(this.lineJian,this.lineJianClick.bind(this)),r.default.removeClickEvent(this.lineAdd),r.default.addClickEventEND(this.lineAdd,this.lineAddClick.bind(this)),r.default.removeClickEvent(this.goldJian),r.default.addClickEventEND(this.goldJian,this.goldJianClick.bind(this)),r.default.removeClickEvent(this.goldAdd),r.default.addClickEventEND(this.goldAdd,this.goldAddClick.bind(this))),this.controller.centerLeftViewCom.setContentBgIcon(e)},t.prototype.clickGuajiBtn=function(){this.guajiGou.active=!this.guajiGou.active},t.prototype.setScoreLabel=function(e){this.scoreLabel.string=e+""},t.prototype.setAllGoldLabel=function(){for(var e=null,t=0;t<this.controller.bet_info.length;t++)this.controller.bet_info[t].bet_id==this.goldId&&(e=this.controller.bet_info[t].bet_value);null!=e&&(this.goldLabel.string=e+"X"+this.lineList[this.lineId-1]+"="+e*this.lineList[this.lineId-1])},t.prototype.setLineLabel=function(e){for(var t=0;t<this.lineList.length;t++)e==this.lineList[t]&&(this.lineId=t+1);this.lineLabel.string=e+"\u7ebf",this.setAllGoldLabel()},t.prototype.setGoldLabel=function(e){for(var t=0;t<this.controller.bet_info.length;t++)this.controller.bet_info[t].bet_value==e&&(this.goldId=this.controller.bet_info[t].bet_id);this.goldLabel.string=e+"X"+this.lineList[this.lineId-1]+"="+e*this.lineList[this.lineId-1]},t.prototype.clickStartBtn=function(){this.isStart||(this.isStart=!0,this.canIcon.active=!1,this.canotIcon.active=!0,r.default.removeClickEvent(this.startBtn),this.controller.centerLeftViewCom.showIsConn(!0),a.NetManager.getGameProtocol().sendGameBase(this.goldId,this.lineId))},t.prototype.showWzryAni=function(e){var t=this;this.controller.centerLeftViewCom.hideAllLine(),c.AudioManager.playGameSFX("wzry_turn"),console.log("kaishi");for(var o=[{time:1.8/23.3,twice:20},{time:1.8/22.3,twice:19},{time:1.8/22.3,twice:19},{time:1.8/24.3,twice:21},{time:1.8/24.3,twice:21}],n=function(n){var r=Math.floor(Math.random()*o.length),c=o[r];o.splice(r,1),i.node.runAction(cc.sequence(cc.delayTime(.2*n),cc.callFunc(function(){t.controller.centerLeftViewCom.rewardAni(e,c.time,n,c.twice,c.twice)})))},i=this,r=0;r<this.controller.centerLeftViewCom.centerLayoutList.length;r++)n(r)},i([u(cc.Node)],t.prototype,"freeNode",void 0),i([u(cc.Label)],t.prototype,"freeLabel",void 0),i([u(cc.Node)],t.prototype,"startBtn",void 0),i([u(cc.Node)],t.prototype,"guajiBtn",void 0),i([u(cc.Node)],t.prototype,"guajiGou",void 0),i([u(cc.Label)],t.prototype,"lineLabel",void 0),i([u(cc.Label)],t.prototype,"goldLabel",void 0),i([u(cc.Label)],t.prototype,"scoreLabel",void 0),i([u(cc.Node)],t.prototype,"canIcon",void 0),i([u(cc.Node)],t.prototype,"canotIcon",void 0),i([u(cc.Node)],t.prototype,"lineJian",void 0),i([u(cc.Node)],t.prototype,"lineAdd",void 0),i([u(cc.Node)],t.prototype,"goldJian",void 0),i([u(cc.Node)],t.prototype,"goldAdd",void 0),t=i([s],t)}(cc.Component);o.default=d,cc._RF.pop()},{"../../../common/utils/Utils":void 0,"../../../manager/AudioManager":void 0,"../../../manager/NetManager":void 0}],FreeSpins:[function(e,t,o){"use strict";cc._RF.push(t,"1ad53ghflxH8bnpHUsSloCq","FreeSpins");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,c=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(c=(r<3?i(c):r>3?i(t,o,c):i(t,o))||c);return r>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../view/base/PopupView"),c=cc._decorator,a=c.ccclass,l=(c.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isAnimation=!1,t}return n(t,e),t.prototype.start=function(){this.initView(this.data)},t.prototype.initView=function(e){var t=this;this.node.runAction(cc.sequence(cc.delayTime(2),cc.callFunc(function(){e&&e(),t.close()})))},t=i([a],t)}(r.default));o.default=l,cc._RF.pop()},{"../../../view/base/PopupView":void 0}],HeadView:[function(e,t,o){"use strict";cc._RF.push(t,"8b03cRfzTJAIKZ5BC/Ss4Pj","HeadView");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,c=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(c=(r<3?i(c):r>3?i(t,o,c):i(t,o))||c);return r>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../common/utils/Utils"),c=e("../../../manager/UIManager"),a=e("../../../manager/DataManager"),l=e("../../../manager/NetManager"),s=e("../../../common/UIHelper"),u=e("../../../net/NetCmd"),d=e("../../../manager/EventManager"),p=cc._decorator,h=p.ccclass,f=p.property,v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.btn_cancel=null,t.menuBtn=null,t.menuPanel=null,t.setBtn=null,t.ruleBtn=null,t.recordBtn=null,t.backBtn=null,t.goldLabel=null,t.controller=null,t}return n(t,e),t.prototype.onLoad=function(){this.init(),this.menuPanel.active=!1,d.EventManager.on(this,u.ProtocolHallCmd.GetGameRecordDetailResp,this.onGetGameRecordDetailResp.bind(this));var e=cc.find("Canvas/node_parent/node_view"),t=this.btn_cancel.getComponent(cc.Widget);t.target=e,t.isAlignTop=!0,t.isAlignBottom=!0,t.isAlignLeft=!0,t.isAlignRight=!0,this.btn_cancel.active=!1},t.prototype.onGetGameRecordDetailResp=function(e){c.UIManager.popup("game/wzry/WZRYRecord",e)},t.prototype.onDestroy=function(){d.EventManager.off(this)},t.prototype.init=function(){r.default.removeClickEvent(this.menuBtn),r.default.addClickEventEND(this.menuBtn,this.clickMenu.bind(this)),r.default.removeClickEvent(this.setBtn),r.default.addClickEventEND(this.setBtn,this.clickSet.bind(this)),r.default.removeClickEvent(this.ruleBtn),r.default.addClickEventEND(this.ruleBtn,this.clickRuleBtn.bind(this)),r.default.removeClickEvent(this.recordBtn),r.default.addClickEventEND(this.recordBtn,this.clickReocrdBtn.bind(this)),r.default.removeClickEvent(this.backBtn),r.default.addClickEventEND(this.backBtn,this.clickBackBtn.bind(this)),r.default.removeClickEvent(this.btn_cancel),r.default.addClickEventEND(this.btn_cancel,this.clickCancel.bind(this))},t.prototype.clickSet=function(){c.UIManager.popup("game/wzry/WZRYSetting")},t.prototype.clickMenu=function(){this.menuPanel.active=!this.menuPanel.active,this.btn_cancel.active=this.menuPanel.active},t.prototype.clickRuleBtn=function(){c.UIManager.popup("game/wzry/RuleView")},t.prototype.clickReocrdBtn=function(){s.default.checkBindPhone(function(e){e&&l.NetManager.protocolHall.sendGetGameRecordDetail(a.DataManager.gameType)})&&l.NetManager.protocolHall.sendGetGameRecordDetail(a.DataManager.gameType)},t.prototype.clickBackBtn=function(){l.NetManager.protocolGameCommon.sendLeaveGame()},t.prototype.clickCancel=function(){this.menuPanel.active=!1,this.btn_cancel.active=!1},t.prototype.setGoldLabel=function(e){e=parseFloat(e+""),this.goldLabel.string=r.default.getFormatGold(e)},i([f(cc.Node)],t.prototype,"btn_cancel",void 0),i([f(cc.Node)],t.prototype,"menuBtn",void 0),i([f(cc.Node)],t.prototype,"menuPanel",void 0),i([f(cc.Node)],t.prototype,"setBtn",void 0),i([f(cc.Node)],t.prototype,"ruleBtn",void 0),i([f(cc.Node)],t.prototype,"recordBtn",void 0),i([f(cc.Node)],t.prototype,"backBtn",void 0),i([f(cc.Label)],t.prototype,"goldLabel",void 0),t=i([h],t)}(cc.Component);o.default=v,cc._RF.pop()},{"../../../common/UIHelper":void 0,"../../../common/utils/Utils":void 0,"../../../manager/DataManager":void 0,"../../../manager/EventManager":void 0,"../../../manager/NetManager":void 0,"../../../manager/UIManager":void 0,"../../../net/NetCmd":void 0}],Jackpot:[function(e,t,o){"use strict";cc._RF.push(t,"192683Ig0xLb7ToV8wsqCrZ","Jackpot");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,c=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(c=(r<3?i(c):r>3?i(t,o,c):i(t,o))||c);return r>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../view/base/PopupView"),c=cc._decorator,a=c.ccclass,l=c.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isAnimation=!1,t.goleLabel=null,t}return n(t,e),t.prototype.start=function(){this.initView(this.data.goldNum,this.data.callFunc)},t.prototype.initView=function(e,t){var o=this;this.goleLabel.string=e.toFixed(2)+"",this.node.runAction(cc.sequence(cc.delayTime(3),cc.callFunc(function(){t&&t(),o.close()})))},i([l(cc.Label)],t.prototype,"goleLabel",void 0),t=i([a],t)}(r.default);o.default=s,cc._RF.pop()},{"../../../view/base/PopupView":void 0}],NormalWin:[function(e,t,o){"use strict";cc._RF.push(t,"f7447hxRb1DhoHAhOA+Vpug","NormalWin");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,c=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(c=(r<3?i(c):r>3?i(t,o,c):i(t,o))||c);return r>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../view/base/PopupView"),c=cc._decorator,a=c.ccclass,l=c.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isAnimation=!1,t.goldLabel=null,t}return n(t,e),t.prototype.start=function(){this.initView(this.data.goldNum,this.data.callFunc)},t.prototype.initView=function(e,t){var o,n=this,i=e/parseFloat(50..toFixed(2)),r=0,c=function(){o=(r+=i).toFixed(2),n.goldLabel.string=""+o,r>=e&&(o=e.toString(),n.goldLabel.string=""+parseFloat(o).toFixed(2),n.unschedule(c))};this.goldLabel.node.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){n.goldLabel.string=e.toFixed(2)+"",n.schedule(c,.01,cc.macro.REPEAT_FOREVER)}),cc.delayTime(1.5),cc.fadeOut(.5),cc.callFunc(function(){t&&t(),n.close()})))},i([l(cc.Label)],t.prototype,"goldLabel",void 0),t=i([a],t)}(r.default);o.default=s,cc._RF.pop()},{"../../../view/base/PopupView":void 0}],ProtocolWZRY:[function(e,t,o){"use strict";cc._RF.push(t,"0d705D9KT9MnqmDLaEuWIKx","ProtocolWZRY");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../../net/ProtocolBase"),r=e("../../../manager/DataManager"),c=e("./WZRYCmd"),a=e("../../../Define"),l=e("../../../manager/EventManager"),s=e("../../../manager/UIManager"),u=e("../../../manager/NetManager"),d=function(e){function t(){var t=e.call(this,"game/wzry/pb")||this;return t.cmd=c.WZRYCmd,t.type=a.SocketType.Game,t.pbName="WZRY",t.isSendGameBonusBet=!1,l.EventManager.on(t,c.ProtocolWZRYCmd.ErrorResp,t.onErrorResp.bind(t)),l.EventManager.on(t,c.ProtocolWZRYCmd.GameInOrderNotify,t.onGameInOrderNotify.bind(t)),l.EventManager.on(t,c.ProtocolWZRYCmd.GameBonusBetResp,t.onGameBonusBetResp.bind(t)),t}return n(t,e),t.prototype.sendGameInit=function(){var e={player_id:r.DataManager.userInfo.userid};console.log("============>\u53d1\u9001\u6e38\u620finit\u8bf7\u6c42"),this.send(e,"game_init_req")},t.prototype.sendGameBase=function(e,t){var o={cur_bet_index:e,cur_bet_line_count:t};this.send(o,"game_base_req")},t.prototype.sendGameBonusBet=function(e,t){if(this.isSendGameBonusBet)s.UIManager.showTips("\u6b63\u5728\u8bf7\u6c42\u4e2d\uff0c\u8bf7\u7a0d\u540e");else{this.isSendGameBonusBet=!0;var o={is_bet:e,bet_index:t};this.send(o,"game_bonus_bet_req")}},t.prototype.onErrorResp=function(e){1==e.err_id&&s.UIManager.showTipsPopup("\u91d1\u5e01\u4e0d\u8db3")},t.prototype.onGameInOrderNotify=function(e){this.sendGameInit(),this.isSendGameBonusBet=!1},t.prototype.onGameBonusBetResp=function(e){this.isSendGameBonusBet=!1},t}(i.default);o.default=d,u.NetManager.protocolCache.ProtocolWZRY=d,cc._RF.pop()},{"../../../Define":void 0,"../../../manager/DataManager":void 0,"../../../manager/EventManager":void 0,"../../../manager/NetManager":void 0,"../../../manager/UIManager":void 0,"../../../net/ProtocolBase":void 0,"./WZRYCmd":"WZRYCmd"}],RedBlueDuelCardItem:[function(e,t,o){"use strict";cc._RF.push(t,"e8762l/4odCVLYKZxs6wWrl","RedBlueDuelCardItem");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,c=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(c=(r<3?i(c):r>3?i(t,o,c):i(t,o))||c);return r>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,c=r.ccclass,a=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.armsBg=null,t.armsNameLabel=null,t.armsGoldLabel=null,t.armsIcon=[],t.armsGold=[1800,1800,1800,2100,2100,2100,2300,2950,2990,3400],t.armsName=["\u5236\u88c1\u4e4b\u5203","\u6551\u8d4e\u4e4b\u7ffc","\u5de8\u4eba\u4e4b\u63e1","\u6781\u5bd2\u98ce\u66b4","\u4e0d\u6b7b\u9e1f\u4e4b\u773c","\u56de\u54cd\u4e4b\u6756","\u535a\u5b66\u8005\u4e4b\u6012","\u7834\u519b","\u8d24\u8005\u4e4b\u4e66","\u7834\u6653"],t}return n(t,e),t.prototype.onLoad=function(){},t.prototype.initView=function(e,t){this.armsBg.spriteFrame=this.armsIcon[e],this.armsNameLabel.string=this.armsName[e],this.armsGoldLabel.string=t+""},i([a(cc.Sprite)],t.prototype,"armsBg",void 0),i([a(cc.Label)],t.prototype,"armsNameLabel",void 0),i([a(cc.Label)],t.prototype,"armsGoldLabel",void 0),i([a(cc.SpriteFrame)],t.prototype,"armsIcon",void 0),t=i([c],t)}(cc.Component);o.default=l,cc._RF.pop()},{}],RedBlueDuelCard:[function(e,t,o){"use strict";cc._RF.push(t,"d0548dJFQJC0qDIvi5g+eO+","RedBlueDuelCard");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,c=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(c=(r<3?i(c):r>3?i(t,o,c):i(t,o))||c);return r>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,c=r.ccclass,a=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.vsFontNode=null,t.card1=[],t.card2=[],t.card3=[],t.cardpos1=[],t.cardpos2=[],t.cardpos3=[],t.cardArmsList=[],t.cardArmsItem=null,t.spine=null,t.cardArmsItemListCom=[],t.controller=null,t}return n(t,e),t.prototype.onLoad=function(){},t.prototype.initView=function(){for(var e=0;e<this.card1.length;e++)this.card1[e].active=!1,this.cardpos1[e]=this.card1[e].getPosition();for(e=0;e<this.card2.length;e++)this.card2[e].active=!1,this.cardpos2[e]=this.card2[e].getPosition();for(e=0;e<this.card3.length;e++)this.card3[e].active=!1,this.cardpos3[e]=this.card3[e].getPosition();this.vsFontNode.active=!1},t.prototype.fontVsAni1=function(e){var t=this;this.vsFontNode.scale=2.5,this.vsFontNode.active=!0,cc.tween(this.vsFontNode).to(.5,{scale:1}).call(function(){t.cardAni3(e)}).start()},t.prototype.fontVsAni2=function(e){var t=this;this.vsFontNode.anchorY=1,this.vsFontNode.y=this.vsFontNode.y+this.vsFontNode.height/2,cc.tween(this.vsFontNode).to(.3,{scaleY:0}).call(function(){t.vsFontNode.active=!1,t.vsFontNode.scaleY=1,t.vsFontNode.anchorY=.5,t.vsFontNode.y=t.vsFontNode.y-t.vsFontNode.height/2,t.node.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){t.cardAni4(e)})))}).start()},t.prototype.cardAni1=function(){for(var e=this,t=function(t){o.card1[t].scale=.2,o.card1[t].active=!0,cc.tween(o.card1[t]).to(.5,{position:o.cardpos2[t],scale:1}).call(function(){e.card1[t].active=!1,e.card2[t].active=!0,e.card1[t].setPosition(e.cardpos1[t]),t==e.card1.length-1&&e.controller.jiantouAni()}).start()},o=this,n=0;n<this.card1.length;n++)t(n)},t.prototype.cardAni2=function(e){for(var t=this,o=function(o){n.card2[o].active=!0,cc.tween(n.card2[o]).to(.3,{position:n.cardpos3[o]}).call(function(){t.card2[o].active=!1,t.card3[o].active=!0,t.card2[o].setPosition(t.cardpos2[o]),o==t.card2.length-1&&(t.spine.node.active=!0,t.spine.setCompleteListener(function(o,n){console.log(545645),t.spine.node.active=!1,t.spine.skeletonData=null,t.spine.animation=null,t.fontVsAni1(e)}))}).start()},n=this,i=0;i<this.card2.length;i++)o(i)},t.prototype.cardAni3=function(e,t){var o=this;void 0===t&&(t=0),cc.tween(this.card3[t]).to(.3,{scaleX:0}).call(function(){o.card3[t].active=!1,o.cardArmsList[t].destroyAllChildren();var n=cc.instantiate(o.cardArmsItem);o.cardArmsItemListCom[t]=n.getComponent("RedBlueDuelCardItem");var i=0==t?e.red_pic_id:e.blue_pic_id,r=0==t?e.red_pic_money:e.blue_pic_money;o.cardArmsItemListCom[t].initView(i-1,r),n.scaleX=0,o.cardArmsList[t].addChild(n),cc.tween(n).to(.15,{scaleX:1}).call(function(){0==t?o.cardAni3(e,1):(o.fontVsAni2(e),o.controller.vsAniViewCom.redBlueFontAni(e.bet_result-1))}).start()}).start()},t.prototype.cardAni4=function(e){for(var t=this,o=function(o){cc.tween(n.cardArmsList[o]).to(.3,{position:n.cardpos2[o]}).call(function(){t.node.runAction(cc.sequence(cc.delayTime(2),cc.callFunc(function(){t.cardArmsList[o].active=!1,o==t.cardArmsList.length-1&&t.controller.showResult(e)})))}).start()},n=this,i=0;i<this.cardArmsList.length;i++)o(i)},i([a(cc.Node)],t.prototype,"vsFontNode",void 0),i([a(cc.Node)],t.prototype,"card1",void 0),i([a(cc.Node)],t.prototype,"card2",void 0),i([a(cc.Node)],t.prototype,"card3",void 0),i([a(cc.Node)],t.prototype,"cardArmsList",void 0),i([a(cc.Prefab)],t.prototype,"cardArmsItem",void 0),i([a(sp.Skeleton)],t.prototype,"spine",void 0),t=i([c],t)}(cc.Component);o.default=l,cc._RF.pop()},{}],RedBlueDuel:[function(e,t,o){"use strict";cc._RF.push(t,"457dbHq9epDjIkx0Pdkb/R1","RedBlueDuel");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,c=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(c=(r<3?i(c):r>3?i(t,o,c):i(t,o))||c);return r>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../common/utils/Utils"),c=e("../../../manager/NetManager"),a=cc._decorator,l=a.ccclass,s=a.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.SprMask=null,t.goldLabel=null,t.backBtn=null,t.mask=null,t.logoIcon=null,t.jiantouList=[],t.jiantouListPos=[],t.yaNodeList=[],t.yaActiveNodeList=[],t.cardContent=null,t.redBlueDuelCard=null,t.redBlueDuelCardCom=null,t.vsContent=null,t.vsAniView=null,t.vsAniViewCom=null,t.resultContent=null,t.redBlueResultView=null,t.redBlueResultViewCom=null,t.controller=null,t}return n(t,e),t.prototype.onLoad=function(){},t.prototype.initView=function(e){var t=cc.director.getScene();this.SprMask.target=t,this.goldLabel.string=e.toFixed(2)+"",this.resultContent.destroyAllChildren();for(var o=0;o<this.yaActiveNodeList.length;o++)this.yaActiveNodeList[o].active=!1;this.mask.active=!0,this.logoIcon.active=!0;for(o=0;o<this.jiantouList.length;o++)this.jiantouList[o].active=!1,this.jiantouListPos[o]=this.jiantouList[o].getPosition();this.vsContent.destroyAllChildren();var n=cc.instantiate(this.vsAniView);this.vsAniViewCom=n.getComponent("VsAniView"),this.vsAniViewCom.controller=this,this.vsAniViewCom.initView(),this.vsContent.addChild(n),this.cardContent.destroyAllChildren();var i=cc.instantiate(this.redBlueDuelCard);this.redBlueDuelCardCom=i.getComponent("RedBlueDuelCard"),this.redBlueDuelCardCom.controller=this,this.redBlueDuelCardCom.initView(),this.cardContent.addChild(i),r.default.removeClickEvent(this.backBtn),r.default.addClickEventEND(this.backBtn,function(){c.NetManager.getGameProtocol().sendGameBonusBet(!1,0)})},t.prototype.backBtnClick=function(e){this.controller&&this.controller.headViewCom&&this.controller.headViewCom.setGoldLabel(e.player_info.gold),this.controller.centerRightViewCom.init(e.jackpot_left_time),this.controller.node.active=!0,this.node.active=!1},t.prototype.jiantouAni=function(){for(var e=0;e<this.jiantouList.length;e++){this.jiantouList[e].active=!0;cc.tween(this.jiantouList[e]).repeatForever(cc.tween(this.jiantouList[e]).by(.2,{y:10}).by(.4,{y:-20}).by(.2,{y:10})).start()}this.addYaNodeClickEvent()},t.prototype.addYaNodeClickEvent=function(){for(var e=0;e<this.yaNodeList.length;e++)r.default.removeClickEvent(this.yaNodeList[e]),r.default.addClickEventEND(this.yaNodeList[e],this.yaNodeClick.bind(this),e)},t.prototype.yaCallFunc=function(e){var t=this;if(e.cur_can_bet_money>0&&3!=e.next_game_station)this.backBtnClick(e),c.NetManager.protocolGameCommon.needFlushGold&&(c.NetManager.protocolGameCommon.needFlushGold=!1,this.controller.needFlush=!1,this.controller.headViewCom.setGoldLabel(parseFloat(c.NetManager.protocolGameCommon.flushGold)));else{var o=2-(e.cur_bet_index+1)%3;r.default.removeClickEvent(this.backBtn);for(var n=0;n<this.jiantouList.length;n++)this.jiantouList[n].stopAllActions(),this.jiantouList[n].active=!1,this.jiantouList[n].setPosition(this.jiantouListPos[n]);this.yaActiveNodeList[o].active=!0;for(cc.tween(this.yaActiveNodeList[o]).repeat(2,cc.tween(this.yaActiveNodeList[o]).to(.5,{opacity:0}).to(.5,{opacity:255})).call(function(){t.showPk(e)}).start(),n=0;n<this.yaNodeList.length;n++)r.default.removeClickEvent(this.yaNodeList[n])}},t.prototype.yaNodeClick=function(e,t){console.log(t),console.log(4-(t+2)%3-1),c.NetManager.getGameProtocol().sendGameBonusBet(!0,4-(t+2)%3-1)},t.prototype.showPk=function(e){this.mask.active=!0,this.redBlueDuelCardCom.cardAni2(e)},t.prototype.showResult=function(e){var t=this;this.resultContent.destroyAllChildren();var o=cc.instantiate(this.redBlueResultView);this.redBlueResultViewCom=o.getComponent("RedBlueResultView"),this.redBlueResultViewCom.initView(e.cur_can_bet_money),this.resultContent.addChild(o),this.node.runAction(cc.sequence(cc.delayTime(3),cc.callFunc(function(){3!=e.next_game_station?(t.backBtnClick(e),c.NetManager.protocolGameCommon.needFlushGold&&(c.NetManager.protocolGameCommon.needFlushGold=!1,t.controller.needFlush=!1,t.controller.headViewCom.setGoldLabel(parseFloat(c.NetManager.protocolGameCommon.flushGold)))):t.initView(e.cur_can_bet_money),t.redBlueResultViewCom.bgfail.active=!1,t.redBlueResultViewCom.bgwin.active=!1})))},i([s(cc.Widget)],t.prototype,"SprMask",void 0),i([s(cc.Label)],t.prototype,"goldLabel",void 0),i([s(cc.Node)],t.prototype,"backBtn",void 0),i([s(cc.Node)],t.prototype,"mask",void 0),i([s(cc.Node)],t.prototype,"logoIcon",void 0),i([s(cc.Node)],t.prototype,"jiantouList",void 0),i([s(cc.Node)],t.prototype,"yaNodeList",void 0),i([s(cc.Node)],t.prototype,"yaActiveNodeList",void 0),i([s(cc.Node)],t.prototype,"cardContent",void 0),i([s(cc.Prefab)],t.prototype,"redBlueDuelCard",void 0),i([s(cc.Node)],t.prototype,"vsContent",void 0),i([s(cc.Prefab)],t.prototype,"vsAniView",void 0),i([s(cc.Node)],t.prototype,"resultContent",void 0),i([s(cc.Prefab)],t.prototype,"redBlueResultView",void 0),t=i([l],t)}(cc.Component);o.default=u,cc._RF.pop()},{"../../../common/utils/Utils":void 0,"../../../manager/NetManager":void 0}],RedBlueResultView:[function(e,t,o){"use strict";cc._RF.push(t,"2af55tPElVEUYcMJZ2QZjJY","RedBlueResultView");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,c=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(c=(r<3?i(c):r>3?i(t,o,c):i(t,o))||c);return r>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../manager/AudioManager"),c=cc._decorator,a=c.ccclass,l=c.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bgwin=null,t.bgfail=null,t.goldLabel=null,t.goldContent=null,t}return n(t,e),t.prototype.initView=function(e){var t=this;if(e){this.bgwin.active=!0,this.bgfail.active=!1,this.goldLabel.string=e.toFixed(2)+"";var o,n=e/parseFloat(50..toFixed(2)),i=0,c=function(){o=(i+=n).toFixed(2),t.goldLabel.string=""+o,i>=e&&(o=e.toString(),t.goldLabel.string=""+parseFloat(o).toFixed(2),t.unschedule(c))};this.schedule(c,.01,cc.macro.REPEAT_FOREVER),this.goldContent.active=!0,r.AudioManager.playSFX("game_win")}else this.bgwin.active=!1,this.bgfail.active=!0,r.AudioManager.playSFX("game_lose"),this.goldContent.active=!1},i([l(cc.Node)],t.prototype,"bgwin",void 0),i([l(cc.Node)],t.prototype,"bgfail",void 0),i([l(cc.Label)],t.prototype,"goldLabel",void 0),i([l(cc.Node)],t.prototype,"goldContent",void 0),t=i([a],t)}(cc.Component);o.default=s,cc._RF.pop()},{"../../../manager/AudioManager":void 0}],RuleView:[function(e,t,o){"use strict";cc._RF.push(t,"f4c18DRdMVMGqfXGYGH80J9","RuleView");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,c=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(c=(r<3?i(c):r>3?i(t,o,c):i(t,o))||c);return r>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../common/utils/Utils"),c=e("../../../view/base/PopupView"),a=cc._decorator,l=a.ccclass,s=a.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.closeBtn=null,t.ruleIcons=[],t.ruleTile=[],t.titleBg=null,t.ruleContentIcon=null,t}return n(t,e),t.prototype.initComponent=function(){r.default.removeClickEvent(this.closeBtn),r.default.addClickEventEND(this.closeBtn,this.clickCloseBtn.bind(this));for(var e=0;e<this.ruleTile.length;e++)r.default.removeClickEvent(this.ruleTile[e]),r.default.addClickEventEND(this.ruleTile[e],this.clickRuleTitle.bind(this),e)},t.prototype.clickRuleTitle=function(e,t){this.titleBg.x=e.x,this.ruleContentIcon.spriteFrame=this.ruleIcons[t]},t.prototype.clickCloseBtn=function(){this.close()},i([s(cc.Node)],t.prototype,"closeBtn",void 0),i([s(cc.SpriteFrame)],t.prototype,"ruleIcons",void 0),i([s(cc.Node)],t.prototype,"ruleTile",void 0),i([s(cc.Node)],t.prototype,"titleBg",void 0),i([s(cc.Sprite)],t.prototype,"ruleContentIcon",void 0),t=i([l],t)}(c.default);o.default=u,cc._RF.pop()},{"../../../common/utils/Utils":void 0,"../../../view/base/PopupView":void 0}],SelectItem:[function(e,t,o){"use strict";cc._RF.push(t,"d2ae5RwS15Gk7qozoF5nG9E","SelectItem");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,c=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(c=(r<3?i(c):r>3?i(t,o,c):i(t,o))||c);return r>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,c=r.ccclass,a=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.bgActive=null,t}return n(t,e),t.prototype.init=function(e,t){void 0===t&&(t=!1),this.label.string=e+"",this.bgActive.active=t,this.label.node.color=t?new cc.Color(52,181,227):new cc.Color(55,92,164)},i([a(cc.Label)],t.prototype,"label",void 0),i([a(cc.Node)],t.prototype,"bgActive",void 0),t=i([c],t)}(cc.Component);o.default=l,cc._RF.pop()},{}],VsAniView:[function(e,t,o){"use strict";cc._RF.push(t,"6b076tann9Mz7gnwhoqmwrb","VsAniView");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,c=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(c=(r<3?i(c):r>3?i(t,o,c):i(t,o))||c);return r>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,c=r.ccclass,a=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.di=null,t.redBlueFont=null,t.redFontIcon=null,t.blueFontIcon=null,t.pingFontIcon=null,t.spine=null,t.controller=null,t}return n(t,e),t.prototype.initView=function(){var e=this;this.spine.node.active=!0,this.spine.setCompleteListener(function(t,o){e.node.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){e.spine.node.active=!1,e.spine.skeletonData=null,e.spine.animation=null,e.controller.mask.active=!1,e.controller.redBlueDuelCardCom.cardAni1()})))})},t.prototype.redBlueFontAni=function(e){var t=this;void 0===e&&(e=0),this.redBlueFont.node.scaleY=0,this.redBlueFont.node.active=!0,this.redBlueFont.spriteFrame=0==e?this.redFontIcon:1==e?this.blueFontIcon:this.pingFontIcon,cc.tween(this.redBlueFont.node).to(.3,{scaleY:1}).call(function(){t.node.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){t.diAni()})))}).start()},t.prototype.diAni=function(){var e=this;cc.tween(this.di).to(.5,{scale:0}).call(function(){e.di.active=!1,e.di.scale=1}).start()},i([a(cc.Node)],t.prototype,"di",void 0),i([a(cc.Sprite)],t.prototype,"redBlueFont",void 0),i([a(cc.SpriteFrame)],t.prototype,"redFontIcon",void 0),i([a(cc.SpriteFrame)],t.prototype,"blueFontIcon",void 0),i([a(cc.SpriteFrame)],t.prototype,"pingFontIcon",void 0),i([a(sp.Skeleton)],t.prototype,"spine",void 0),t=i([c],t)}(cc.Component);o.default=l,cc._RF.pop()},{}],WZRYCmd:[function(e,t,o){"use strict";cc._RF.push(t,"93504EYaopPXLYYOsLaaUEC","WZRYCmd"),Object.defineProperty(o,"__esModule",{value:!0}),o.WZRYCmd="24_0",o.ProtocolWZRYCmd={ErrorResp:o.WZRYCmd+"_game_err_res",GameInitResp:o.WZRYCmd+"_game_init_res",GameBaseResp:o.WZRYCmd+"_game_base_res",GameBonusBetResp:o.WZRYCmd+"_game_bonus_bet_res",GameReconnectInfo:o.WZRYCmd+"_game_reconnect_info",GameInOrderNotify:o.WZRYCmd+"_game_in_order_notify"},cc._RF.pop()},{}],WZRYGameScene:[function(e,t,o){"use strict";cc._RF.push(t,"4da3eL7CnNEi7D2ULtkyTrF","WZRYGameScene");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,c=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(c=(r<3?i(c):r>3?i(t,o,c):i(t,o))||c);return r>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=e("./WZRYGameView"),c=e("../../manager/EventManager"),a=e("./net/WZRYCmd"),l=e("../../manager/UIManager"),s=e("../../common/log/LogWrap"),u=e("../../Define"),d=cc._decorator,p=d.ccclass,h=d.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.wzryGameView=null,t}return n(t,e),t.prototype.onLoad=function(){l.UIManager.hideMarquee(),c.EventManager.on(this,a.ProtocolWZRYCmd.GameInitResp,this.onGameInitResp.bind(this)),c.EventManager.on(this,a.ProtocolWZRYCmd.GameBaseResp,this.onGameBaseResp.bind(this)),c.EventManager.on(this,a.ProtocolWZRYCmd.GameBonusBetResp,this.onGameBonusBetResp.bind(this)),c.EventManager.on(this,a.ProtocolWZRYCmd.GameReconnectInfo,this.onGameReconnectInfo.bind(this)),c.EventManager.on(this,a.ProtocolWZRYCmd.ErrorResp,this.onErrorResp.bind(this)),c.EventManager.on(this,u.EventDef.UpdateUserGold,this.onUpdateUserScore.bind(this))},t.prototype.onGameInitResp=function(e){this.wzryGameView.initView(e)},t.prototype.onGameBaseResp=function(e){e?this.wzryGameView.showWzryAni(e):this.wzryGameView.footViewCom.init()},t.prototype.onErrorResp=function(e){1==e.err_id&&this.wzryGameView.footViewCom.init()},t.prototype.onGameBonusBetResp=function(e){this.wzryGameView.redBlueDuelCom&&this.wzryGameView.redBlueDuelCom.yaCallFunc(e)},t.prototype.onGameReconnectInfo=function(e){},t.prototype.onUpdateUserScore=function(){s.LogWrap.log("\u73a9\u5bb6\u91d1\u5e01\u53d1\u751f\u6539\u53d8"),this.wzryGameView.onUpdateUserScore()},t.prototype.onDestroy=function(){c.EventManager.off(this)},i([h(r.default)],t.prototype,"wzryGameView",void 0),t=i([p],t)}(cc.Component);o.default=f,cc._RF.pop()},{"../../Define":void 0,"../../common/log/LogWrap":void 0,"../../manager/EventManager":void 0,"../../manager/UIManager":void 0,"./WZRYGameView":"WZRYGameView","./net/WZRYCmd":"WZRYCmd"}],WZRYGameView:[function(e,t,o){"use strict";cc._RF.push(t,"496bbMl4/9HqqgtgwQxa0mB","WZRYGameView");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,c=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(c=(r<3?i(c):r>3?i(t,o,c):i(t,o))||c);return r>3&&c&&Object.defineProperty(t,o,c),c},r=this&&this.__awaiter||function(e,t,o,n){return new(o||(o=Promise))(function(i,r){function c(e){try{l(n.next(e))}catch(e){r(e)}}function a(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){e.done?i(e.value):new o(function(t){t(e.value)}).then(c,a)}l((n=n.apply(e,t||[])).next())})},c=this&&this.__generator||function(e,t){var o,n,i,r,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(e){return function(t){return l([e,t])}}function l(r){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,n=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(!(i=(i=c.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){c.label=r[1];break}if(6===r[0]&&c.label<i[1]){c.label=i[1],i=r;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(r);break}i[2]&&c.ops.pop(),c.trys.pop();continue}r=t.call(e,c)}catch(e){r=[6,e],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var a=e("./ui/RedBlueDuel"),l=e("../../manager/AudioManager"),s=e("../../manager/EventManager"),u=e("../../manager/UIManager"),d=e("../../view/common/componet/VideoPlayerEx"),p=e("../../common/log/LogWrap"),h=e("../../manager/DataManager"),f=cc._decorator,v=f.ccclass,y=f.property,m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.videoPlayer=null,t.videoPlayerBg=null,t.centerRightContent=null,t.centerRightView=null,t.centerLeftContent=null,t.centerLeftView=null,t.footContent=null,t.footView=null,t.headContent=null,t.headView=null,t.chat=null,t.headViewCom=null,t.centerLeftViewCom=null,t.centerRightViewCom=null,t.footViewCom=null,t.redBlueDuelCom=null,t.initData=null,t.bet_info=null,t.openRedBlueDuel=!1,t.isStartGame=!1,t.needFlush=!1,t}return n(t,e),t.prototype.onLoad=function(){l.AudioManager.playGameBGM("wzry_bgm.mp3"),this.initView()},t.prototype.appStart=function(){return r(this,void 0,void 0,function(){var e=this;return c(this,function(t){return cc.sys.OS_ANDROID!=cc.sys.os&&cc.sys.OS_IOS!=cc.sys.os||(this.videoPlayer.isFullscreen=!0),this.videoPlayer.node.on("completed",function(){e.playAminOver(),console.log("this.videoPlayer.completed")},this),cc.sys.OS_IOS==cc.sys.os?this.videoPlayer.node.on("touchend",this.playAminOver.bind(this),this):this.videoPlayer.node.on("clicked",function(){e.playAminOver(),console.log("this.videoPlayer.clicked")},this),console.log("this.videoPlayer.play"),this.videoPlayer.play(),[2]})})},t.prototype._oniOSTouchStart=function(){this.playAminOver()},t.prototype.playAminOver=function(){this.videoPlayer.stop(),this.videoPlayer.node.active=!1,this.videoPlayerBg.active=!1,this.chat.active=!0,this.openRedBlueDuel||(this.node.active=!0)},t.prototype.initView=function(e){var t=this;p.LogWrap.log("wzry    initView->>>>>>>>>>>>>>",e),this.unscheduleAllCallbacks(),this.node.stopAllActions(),l.AudioManager.stopEffect("wzry_turn"),this.isStartGame=!1,this.needFlush=!1,e&&this.scheduleOnce(function(){t.appStart()},.1),this.centerLeftContent.destroyAllChildren();var o=cc.instantiate(this.centerLeftView);this.centerLeftViewCom=o.getComponent("CenterLeftView"),this.centerLeftViewCom.controller=this,this.centerLeftViewCom.hideAllLine(),this.centerLeftViewCom.createrCenterIcon(),this.centerLeftContent.addChild(o),this.footContent.destroyAllChildren();var n=cc.instantiate(this.footView);this.footViewCom=n.getComponent("FootView"),this.footViewCom.controller=this,this.footViewCom.init(),this.footContent.addChild(n),this.headContent.destroyAllChildren();var i=cc.instantiate(this.headView);this.headViewCom=i.getComponent("HeadView"),this.headViewCom.controller=this,this.headContent.addChild(i),this.centerRightContent.destroyAllChildren();var r=cc.instantiate(this.centerRightView);if(this.centerRightViewCom=r.getComponent("CenterRightView"),this.centerRightViewCom.controller=this,this.centerRightContent.addChild(r),e){this.bet_info=e.bet_info,this.centerRightViewCom.init(e.jp_coll_left_time,e.jp_coll_count),this.headViewCom.setGoldLabel(e.player_info.gold);for(var c=0;c<this.bet_info.length;c++)e.last_bet_index==this.bet_info[c].bet_id&&this.footViewCom.setGoldLabel(this.bet_info[c].bet_value);this.footViewCom.setLineLabel(e.last_bet_line_count),this.footViewCom.setScoreLabel(e.last_win),this.footViewCom.setFreeNode(e.free_time_left),3==e.cur_game_station?this.showRedBlueDuel(parseFloat(e.cur_can_bet_money)):this.hideRedBlueDuel()}else this.hideRedBlueDuel()},t.prototype.showWzryAni=function(e){this.isStartGame=!0,console.log(909090),console.log(e),this.footViewCom.setFreeNode(e.free_time_left),e.cur_game_station,this.headViewCom.setGoldLabel(parseFloat(e.start_money)),this.footViewCom.showWzryAni(e)},t.prototype.showAmazing=function(e,t){u.UIManager.popup("game/wzry/Amazing",{goldNum:e,callFunc:t})},t.prototype.hideAmazing=function(){},t.prototype.showBigWin=function(e,t){u.UIManager.popup("game/wzry/BigWin",{goldNum:e,callFunc:t})},t.prototype.hideBigWin=function(){},t.prototype.showBonusGame=function(e){u.UIManager.popup("game/wzry/BonusGame",e)},t.prototype.hideBonusGame=function(){},t.prototype.showFreeSpins=function(e){u.UIManager.popup("game/wzry/FreeSpins",e)},t.prototype.hideFreeSpins=function(){},t.prototype.showJackpot=function(e,t){u.UIManager.popup("game/wzry/Jackpot",{goldNum:e,callFunc:t})},t.prototype.hideJackpot=function(){},t.prototype.showNormalWin=function(e,t){u.UIManager.popup("game/wzry/NormalWin",{goldNum:e,callFunc:t})},t.prototype.hideNormalWin=function(){},t.prototype.showRedBlueDuel=function(e){return r(this,void 0,void 0,function(){var t;return c(this,function(o){switch(o.label){case 0:return this.redBlueDuelCom?[3,2]:[4,u.UIManager.popup("game/wzry/RedBlueDuel")];case 1:t=o.sent(),this.redBlueDuelCom=t.getComponent(a.default),this.redBlueDuelCom.controller=this,o.label=2;case 2:return this.node.active=!1,this.openRedBlueDuel=!0,this.redBlueDuelCom.initView(e),this.redBlueDuelCom.node.active=!0,[2]}})})},t.prototype.hideRedBlueDuel=function(){this.node.active=!0,this.redBlueDuelCom&&cc.isValid(this.redBlueDuelCom.node)&&(this.redBlueDuelCom.node.active=!1)},t.prototype.rewardAniEndCall=function(e){var t=this;this.isStartGame=!1,console.log("\u56de\u8c03\u5f00\u59cb\u6267\u884c"),this.headViewCom.setGoldLabel(e.player_info.gold),this.centerRightViewCom.init(e.jackpot_left_time,e.cur_jackpot_count),this.footViewCom.setFreeNode(e.free_time_left);for(var o=0;o<e.line_connect_info.length;o++)this.centerLeftViewCom.hideAllLine(e.line_connect_info[o].line_id,!0);e.line_connect_info.length>0?(this.node.runAction(cc.sequence(cc.delayTime(2),cc.callFunc(function(){t.showPopupForResult(e)}))),this.centerLeftViewCom.showIsConn(!1,!(3!=e.next_game_station))):(this.showPopupForResult(e),this.centerLeftViewCom.showIsConn(!0,!(3!=e.next_game_station))),this.needFlush&&(p.LogWrap.log("\u5237\u65b0\u5b8c\u6210"),this.needFlush=!1,this.headViewCom.setGoldLabel(h.DataManager.userInfo.gold))},t.prototype.showPopupForResult=function(e){var t=this,o=e.cur_jackpot_win>0?this.showJackpot.bind(this):null,n=3==e.next_game_station?this.showRedBlueDuel.bind(this):null,i=e.is_win_free?this.showFreeSpins.bind(this):null,r=function(){var r=function(){t.footView&&t.footViewCom.init(),n?(t.footViewCom.guajiGou.active=!1,t.showBonusGame(function(){n(e.total_win)})):t.footViewCom.guajiGou.active&&t.node.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){t.footViewCom.clickStartBtn()})))},c=function(){i?i(r):r()};o?o(e.cur_jackpot_win,c):c()};if(e.total_win>0&&l.AudioManager.playGameSFX("wzry_win"),this.footViewCom.setScoreLabel(e.total_win),e.cur_win_type>0)switch(e.cur_win_type){case 1:this.showNormalWin(e.total_win,r);break;case 2:this.showAmazing(e.total_win,r);break;case 3:this.showBigWin(e.total_win,r)}else r()},t.prototype.onSubLeaveRoom=function(e){},t.prototype.onSubKickOutRoom=function(e){},t.prototype.onUpdateUserScore=function(){this.needFlush=!0,this.openRedBlueDuel||this.isStartGame||(this.headViewCom.setGoldLabel(h.DataManager.userInfo.gold),this.needFlush=!1)},t.prototype.onDestroy=function(){s.EventManager.off(this),l.AudioManager.stopEffect("wzry_turn")},i([y(d.default)],t.prototype,"videoPlayer",void 0),i([y(cc.Node)],t.prototype,"videoPlayerBg",void 0),i([y(cc.Node)],t.prototype,"centerRightContent",void 0),i([y(cc.Prefab)],t.prototype,"centerRightView",void 0),i([y(cc.Node)],t.prototype,"centerLeftContent",void 0),i([y(cc.Prefab)],t.prototype,"centerLeftView",void 0),i([y(cc.Node)],t.prototype,"footContent",void 0),i([y(cc.Prefab)],t.prototype,"footView",void 0),i([y(cc.Node)],t.prototype,"headContent",void 0),i([y(cc.Prefab)],t.prototype,"headView",void 0),i([y(cc.Node)],t.prototype,"chat",void 0),t=i([v],t)}(cc.Component);o.default=m,cc._RF.pop()},{"../../common/log/LogWrap":void 0,"../../manager/AudioManager":void 0,"../../manager/DataManager":void 0,"../../manager/EventManager":void 0,"../../manager/UIManager":void 0,"../../view/common/componet/VideoPlayerEx":void 0,"./ui/RedBlueDuel":"RedBlueDuel"}],WZRYRecord:[function(e,t,o){"use strict";cc._RF.push(t,"0d89cbog2ZJkJXJPS7bJtpe","WZRYRecord");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,c=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(c=(r<3?i(c):r>3?i(t,o,c):i(t,o))||c);return r>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../common/utils/Utils"),c=e("../../../common/Device"),a=e("../../../manager/UIManager"),l=e("../../../view/base/PopupView"),s=cc._decorator,u=s.ccclass,d=s.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.item_record=null,t.record_none=null,t.recordContent=null,t.btn_close=null,t}return n(t,e),t.prototype.start=function(){var e=this;this.showRecordView(this.data),r.default.addClickEventEND(this.btn_close,function(){e.close()})},t.prototype.showRecordView=function(e){var t=this,o=e.game_record_detail;this.record_none.active=0==o.length,this.recordContent.destroyAllChildren();for(var n=function(e){var n=cc.instantiate(i.item_record);n.active=!0,r.default.addClickEventEND(n,function(){t.onCopyRoomCode(o[e].room_code)});var c=n.getChildByName("record_num"),a=e+1+"";c.getComponent(cc.Label).string=a,n.getChildByName("record_code").getComponent(cc.Label).string=o[e].room_code,n.getChildByName("room_level").getComponent(cc.Label).string=o[e].room_name||"-",n.getChildByName("game_profit").getComponent(cc.Label).string=o[e].score;var l=n.getChildByName("game_time"),s=o[e].conclude_time,u=new RegExp("-","g"),d=r.default.timestampToTime(s).replace(u,".");d=d.slice(0,d.length-3),l.getComponent(cc.Label).string=d,i.recordContent.addChild(n)},i=this,c=0;c<o.length;c++)n(c)},t.prototype.onCopyRoomCode=function(e){if("undefined"!=typeof jsb&&jsb&&jsb.reflection&&jsb.reflection.callStaticMethod){var t=e;c.default.setClipBoard(t)?a.UIManager.showTips("\u590d\u5236\u6210\u529f"):a.UIManager.showTips("\u590d\u5236\u5931\u8d25")}},i([d(cc.Node)],t.prototype,"item_record",void 0),i([d(cc.Node)],t.prototype,"record_none",void 0),i([d(cc.Node)],t.prototype,"recordContent",void 0),i([d(cc.Node)],t.prototype,"btn_close",void 0),t=i([u],t)}(l.default);o.default=p,cc._RF.pop()},{"../../../common/Device":void 0,"../../../common/utils/Utils":void 0,"../../../manager/UIManager":void 0,"../../../view/base/PopupView":void 0}],WZRYResourceConfig:[function(e,t,o){"use strict";cc._RF.push(t,"c2133Jf0aBIu5oAkn1oTec+","WZRYResourceConfig"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=(n.ccclass,n.property,function(){function e(){}return e.RuleView={scriptName:"RuleView",isSingle:!0,isClickSpaceClose:!0,isRemoveWhenClose:!1,isShowMask:!0,isSwallowTouches:!0,rawUrl:"prefabs/game/wzry/ruleView"},e.Amazing={scriptName:"Amazing",isSingle:!0,isClickSpaceClose:!1,isRemoveWhenClose:!1,isShowMask:!1,isSwallowTouches:!0,rawUrl:"prefabs/game/wzry/amazing"},e.FreeSpins={scriptName:"FreeSpins",isSingle:!0,isClickSpaceClose:!1,isRemoveWhenClose:!1,isShowMask:!1,isSwallowTouches:!0,rawUrl:"prefabs/game/wzry/free_spins"},e.BigWin={scriptName:"BigWin",isSingle:!0,isClickSpaceClose:!1,isRemoveWhenClose:!1,isShowMask:!1,isSwallowTouches:!0,rawUrl:"prefabs/game/wzry/big_win"},e.NormalWin={scriptName:"NormalWin",isSingle:!0,isClickSpaceClose:!1,isRemoveWhenClose:!1,isShowMask:!1,isSwallowTouches:!0,rawUrl:"prefabs/game/wzry/normal_win"},e.Jackpot={scriptName:"Jackpot",isSingle:!0,isClickSpaceClose:!1,isRemoveWhenClose:!1,isShowMask:!1,isSwallowTouches:!0,rawUrl:"prefabs/game/wzry/jackpot"},e.BonusGame={scriptName:"BonusGame",isSingle:!0,isClickSpaceClose:!1,isRemoveWhenClose:!1,isShowMask:!1,isSwallowTouches:!0,rawUrl:"prefabs/game/wzry/bonus_game"},e.RedBlueDuel={scriptName:"RedBlueDuel",isSingle:!0,isClickSpaceClose:!1,isRemoveWhenClose:!1,isShowMask:!1,isSwallowTouches:!0,rawUrl:"prefabs/game/wzry/redBlueDuel"},e}());o.default=i,cc._RF.pop()},{}]},{},["WZRYGameScene","WZRYGameView","ProtocolWZRY","WZRYCmd","Amazing","BigWin","BonusGame","CenterIcon","CenterLeftView","CenterRightView","FootView","FreeSpins","HeadView","Jackpot","NormalWin","RedBlueDuel","RedBlueDuelCard","RedBlueDuelCardItem","RedBlueResultView","RuleView","SelectItem","VsAniView","WZRYRecord","WZRYResourceConfig"]);