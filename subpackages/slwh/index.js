window.__require=function t(e,o,n){function i(r,c){if(!o[r]){if(!e[r]){var s=r.split("/");if(s=s[s.length-1],!e[s]){var l="function"==typeof __require&&__require;if(!c&&l)return l(s,!0);if(a)return a(s,!0);throw new Error("Cannot find module '"+r+"'")}r=s}var p=o[r]={exports:{}};e[r][0].call(p.exports,function(t){return i(e[r][1][t]||t)},p,p.exports,t,e,o,n)}return o[r].exports}for(var a="function"==typeof __require&&__require,r=0;r<n.length;r++)i(n[r]);return i}({ProtocolSLWHGame:[function(t,e,o){"use strict";cc._RF.push(e,"336e14ChqRJyahFx446z+3V","ProtocolSLWHGame");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../../common/log/LogWrap"),a=t("../../../Define"),r=t("../../../manager/DataManager"),c=t("../../../manager/EventManager"),s=t("../../../manager/NetManager"),l=t("../../../manager/UIManager"),p=t("../../../net/NetCmd"),u=t("../../../net/ProtocolBase"),h=t("../constant/SLWHConstant"),d=t("../constant/SLWHProtocolCmd"),f=t("../model/SLWHModel"),m=t("../proxy/SLWHGameProxy"),y=function(t){function e(){var e=t.call(this,h.SLWHConstant.Url.pb)||this;return e.cmd="234_0",e.type=a.SocketType.Game,e.pbName="SLWH",e.addHandler(),e}return n(e,t),e.prototype.addHandler=function(){c.EventManager.on(this,this.cmd+"_"+d.SLWHProtocolCmd.GameStartNotify,this.onGameStartNotify.bind(this)),c.EventManager.on(this,this.cmd+"_"+d.SLWHProtocolCmd.BetNotify,this.onRecvBetNotify.bind(this)),c.EventManager.on(this,this.cmd+"_"+d.SLWHProtocolCmd.OtherBetNotify,this.onOtherBetNotify.bind(this)),c.EventManager.on(this,this.cmd+"_"+d.SLWHProtocolCmd.GameShowNotify,this.onGameShowNotify.bind(this)),c.EventManager.on(this,this.cmd+"_"+d.SLWHProtocolCmd.GameConcludeNotify,this.onGameConcludeNotify.bind(this)),c.EventManager.on(this,this.cmd+"_"+d.SLWHProtocolCmd.GameReconnectInfo,this.onGameReconnectInfo.bind(this)),c.EventManager.on(this,this.cmd+"_"+d.SLWHProtocolCmd.ContinueBetRes,this.onRecvContinueBet.bind(this)),c.EventManager.on(this,this.cmd+"_"+d.SLWHProtocolCmd.OtherUsersRes,this.onRecvOnlinePlayerInfo.bind(this)),c.EventManager.on(this,p.ProtocolGameCmd.AdJustUpBankerNotify,this.onAdJustUpBankerNotify.bind(this)),c.EventManager.on(this,p.GameCommonEvent.UpdateUserScore,this.onFlushGoldNotify.bind(this))},e.prototype.onSendBetReq=function(t,e){if(t>r.DataManager.userInfo.gold)l.UIManager.showTips("\u91d1\u5e01\u4e0d\u8db3,\u524d\u5f80\u5927\u5385\u5145\u503c");else{var o=new f.SLWHModel.BetReq;o.player_id=r.DataManager.userInfo.userid,o.bet_value=t,o.loc=e,this.send(o,d.SLWHProtocolCmd.BetReq)}},e.prototype.onRecvBetNotify=function(t){if(1==t.result){var e=t.bet_num_info,o=t.bet_value_info;m.SLWHGameProxy.getInstance().setBetNumInfo(e),m.SLWHGameProxy.getInstance().setBetValueInfo([o]),r.DataManager.userInfo.gold=+t.gold,c.EventManager.emit(h.SLWHConstant.EventType.updateUserGold),c.EventManager.emit(h.SLWHConstant.EventType.betSuccess)}else{var n=2==t.result?"\u8be5\u533a\u57df\u6700\u5927\u4e0b\u6ce8\u989d\u4e3a"+ +t.gold:["\u9650\u7ea2","\u91d1\u5e01\u4e0d\u8db3,\u524d\u5f80\u5927\u5385\u5145\u503c","\u975e\u4e0b\u6ce8\u72b6\u6001","\u4e0a\u5e84\u5e84\u5bb6\u72b6\u6001","\u5e84\u5bb6\u9650\u5236"][t.result-2];l.UIManager.showTips(n||"\u7cfb\u7edf\u9519\u8bef")}},e.prototype.onSendContinueBet=function(){var t=new f.SLWHModel.ContinueBetReq;t.player_id=r.DataManager.userInfo.userid,this.send(t,d.SLWHProtocolCmd.ContinueBetReq)},e.prototype.onRecvContinueBet=function(t){t.result||l.UIManager.showTips("\u7eed\u6295\u5931\u8d25")},e.prototype.onSendOnlinePlayerInfo=function(){var t=new f.SLWHModel.OtherUsersReq;t.player_id=r.DataManager.userInfo.userid,this.send(t,d.SLWHProtocolCmd.OtherUsersReq)},e.prototype.onRecvOnlinePlayerInfo=function(t){m.SLWHGameProxy.getInstance().setOnlinePlayerInfo(t)},e.prototype.onGameReconnectInfo=function(t){m.SLWHGameProxy.getInstance().setMulInfo(t.mul),m.SLWHGameProxy.getInstance().setBetNumInfo(t.bet_num_info),m.SLWHGameProxy.getInstance().setChipNumList(t.bet_value_arr),m.SLWHGameProxy.getInstance().setTimeOut(t.time_out),m.SLWHGameProxy.getInstance().setGameState(t.game_state),m.SLWHGameProxy.getInstance().setRecordList(t.record_info),m.SLWHGameProxy.getInstance().setCanBanker(t.can_banker),c.EventManager.emit(h.SLWHConstant.EventType.reconnectSuccess),t.game_show_notify&&m.SLWHGameProxy.getInstance().setGameShowNotify(t.game_show_notify),t.game_conclude_notify&&m.SLWHGameProxy.getInstance().setGameConcludeNotify(t.game_conclude_notify)},e.prototype.onGameStartNotify=function(t){m.SLWHGameProxy.getInstance().setMulInfo(t.mul),m.SLWHGameProxy.getInstance().setBetNumInfo([]),m.SLWHGameProxy.getInstance().setBetValueInfo([]),m.SLWHGameProxy.getInstance().setTimeOut(t.time_out),m.SLWHGameProxy.getInstance().setGameState(h.SLWHConstant.GameState.Bet),c.EventManager.emit(h.SLWHConstant.EventType.startBet,t);var e=m.SLWHGameProxy.getInstance().gameVO,o=e.isContinueBet;e.enableContinueBet&&o&&this.onSendContinueBet()},e.prototype.onOtherBetNotify=function(t){m.SLWHGameProxy.getInstance().setBetNumInfo(t.bet_num_info),m.SLWHGameProxy.getInstance().setBetValueInfo(t.bet_value_info),c.EventManager.emit(h.SLWHConstant.EventType.otherBet)},e.prototype.onGameShowNotify=function(t){m.SLWHGameProxy.getInstance().setTimeOut(t.time_out),m.SLWHGameProxy.getInstance().setGameState(h.SLWHConstant.GameState.Game),m.SLWHGameProxy.getInstance().setGameShowNotify(t)},e.prototype.onGameConcludeNotify=function(t){m.SLWHGameProxy.getInstance().setTimeOut(t.time_out),m.SLWHGameProxy.getInstance().setGameConcludeNotify(t),m.SLWHGameProxy.getInstance().setGameState(h.SLWHConstant.GameState.Settle),m.SLWHGameProxy.getInstance().addRecord(t.record_info),r.DataManager.userInfo.gold=+t.gold,c.EventManager.emit(h.SLWHConstant.EventType.updateUserGold)},e.prototype.onAdJustUpBankerNotify=function(t){i.LogWrap.log("%c\u4e0a\u5e84\u529f\u80fd\u8c03\u6574\u63a8\u9001!!!!!!!!!!!!!!!!","color:red;font-size:26px",t),m.SLWHGameProxy.getInstance().setCanBanker(1==t.code),l.UIManager.showTips(t.msg)},e.prototype.onFlushGoldNotify=function(t){r.DataManager.userInfo.gold=+t.gold,c.EventManager.emit(h.SLWHConstant.EventType.updateUserGold)},e}(u.default);o.default=y,s.NetManager.protocolCache.ProtocolSLWH=y,cc._RF.pop()},{"../../../Define":void 0,"../../../common/log/LogWrap":void 0,"../../../manager/DataManager":void 0,"../../../manager/EventManager":void 0,"../../../manager/NetManager":void 0,"../../../manager/UIManager":void 0,"../../../net/NetCmd":void 0,"../../../net/ProtocolBase":void 0,"../constant/SLWHConstant":"SLWHConstant","../constant/SLWHProtocolCmd":"SLWHProtocolCmd","../model/SLWHModel":"SLWHModel","../proxy/SLWHGameProxy":"SLWHGameProxy"}],SLWHBankerInfo:[function(t,e,o){"use strict";cc._RF.push(e,"1a77a/9J2VFe7zoIlaHBO79","SLWHBankerInfo");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../../common/utils/Utils"),r=t("../../../../manager/DataManager"),c=t("../../../../manager/EventManager"),s=t("../../../../manager/NetManager"),l=t("../../../../manager/UIManager"),p=t("../../../../net/NetCmd"),u=t("../../../../view/base/BaseView"),h=t("../../constant/SLWHConstant"),d=t("../../proxy/SLWHGameProxy"),f=t("./SLWHPlayerInfo"),m=cc._decorator,y=m.ccclass,g=m.property,v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.upBtn=null,e.seekBtn=null,e.downBtn=null,e.waitBtn=null,e.playerInfo=null,e.bankerInfo=null,e.isClick=!1,e}return n(e,t),e.prototype.start=function(){a.default.addClickEventEND(this.upBtn,this.getUpBankerInfo.bind(this)),a.default.addClickEventEND(this.seekBtn,this.getUpBankerInfo.bind(this)),a.default.addClickEventEND(this.downBtn,this.onDownBanker.bind(this)),c.EventManager.on(this,p.ProtocolGameCmd.UpBankerInfoNotify,this.updateUpBankerInfoNotify.bind(this)),c.EventManager.on(this,p.ProtocolGameCmd.LookForBankerListRes,this.onRecvLookForBankerList.bind(this)),c.EventManager.on(this,p.ProtocolGameCmd.AskForGrabBankerRes,this.onSubAskForGrabBanker.bind(this)),c.EventManager.on(this,p.ProtocolGameCmd.AskForDropBankerRes,this.onSubAskForDropBanker.bind(this)),c.EventManager.on(this,p.ProtocolGameCmd.BankerChangeNotify,this.onBankerChangeNotify.bind(this)),c.EventManager.on(this,h.SLWHConstant.EventType.canBankerChanged,this.canBankerChanged.bind(this))},e.prototype.setBankerState=function(t){var e=d.SLWHGameProxy.getInstance().gameVO.canBanker;this.upBtn.active=1==t&&e,this.seekBtn.active=2==t,this.downBtn.active=3==t,this.waitBtn.active=4==t},e.prototype.updateUpBankerInfoNotify=function(t){var e={},o=t.banker_info;e.vip_level=o.vip_level,e.gold=o.gold,e.nickName=o.username,e.headimgurl=o.headimg_id,e.userid=o.player_id,this.playerInfo.setPlayerInfo(e,!1)},e.prototype.onRecvLookForBankerList=function(t){this.bankerInfo=t,this.showUpBankerList()},e.prototype.showUpBankerList=function(){this.isClick&&l.UIManager.popup("prefabs/game/UpBankerList",this.bankerInfo),this.isClick=!1},e.prototype.getUpBankerInfo=function(){this.isClick=!0,s.NetManager.protocolGameCommon.sendLookForBankerListReq()},e.prototype.onDownBanker=function(){s.NetManager.protocolGameCommon.sendAskForDropBankerReq()},e.prototype.onSubAskForGrabBanker=function(t){1==t.code?(this.resetBtn(),this.seekBtn.active=!0):l.UIManager.showTips(t.err_msg)},e.prototype.onSubAskForDropBanker=function(t){1==t.code?(this.resetBtn(),this.waitBtn.active=!0):2==t.code&&(this.resetBtn(),this.upBtn.active=!0),l.UIManager.showTips(t.msg)},e.prototype.onBankerChangeNotify=function(t){var e=t.change_type;t.player_id==r.DataManager.userInfo.userid&&(this.resetBtn(),this.downBtn.active=1==e,this.upBtn.active=2==e,r.DataManager.userInfo.gold=t.gold,c.EventManager.emit(h.SLWHConstant.EventType.updateUserGold))},e.prototype.canBankerChanged=function(){this.resetBtn();var t=d.SLWHGameProxy.getInstance().gameVO.canBanker;this.upBtn.active=t},e.prototype.resetBtn=function(){this.upBtn.active=!1,this.seekBtn.active=!1,this.downBtn.active=!1,this.waitBtn.active=!1},i([g(cc.Node)],e.prototype,"upBtn",void 0),i([g(cc.Node)],e.prototype,"seekBtn",void 0),i([g(cc.Node)],e.prototype,"downBtn",void 0),i([g(cc.Node)],e.prototype,"waitBtn",void 0),i([g(f.default)],e.prototype,"playerInfo",void 0),e=i([y],e)}(u.default);o.default=v,cc._RF.pop()},{"../../../../common/utils/Utils":void 0,"../../../../manager/DataManager":void 0,"../../../../manager/EventManager":void 0,"../../../../manager/NetManager":void 0,"../../../../manager/UIManager":void 0,"../../../../net/NetCmd":void 0,"../../../../view/base/BaseView":void 0,"../../constant/SLWHConstant":"SLWHConstant","../../proxy/SLWHGameProxy":"SLWHGameProxy","./SLWHPlayerInfo":"SLWHPlayerInfo"}],SLWHBetItem:[function(t,e,o){"use strict";cc._RF.push(e,"586bd6VZ2hE/KK52g3SZ4na","SLWHBetItem");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../proxy/SLWHGameProxy"),r=cc._decorator,c=r.ccclass,s=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.selfBetLabel=null,e.totalBetLabel=null,e.mulLabel=null,e.spineNode=null,e.icon=null,e.kuang=null,e.atlas=null,e.fonts=[],e.loc=1,e}return n(e,t),e.prototype.setLoc=function(t){this.loc=t,this.mulLabel.string=""+(a.SLWHGameProxy.getInstance().getTimesByLoc(t)||0),this.spineNode.active=!1;var e=a.SLWHGameProxy.getInstance().getBetIconByLoc(t);this.icon.spriteFrame=this.atlas.getSpriteFrame(e);var o=a.SLWHGameProxy.getInstance().getAnimalInfoByLoc(t),n=t<13?o.color:3,i=["img_hongse","img_lvse","img_huangse","img_lanse"][n];this.kuang.spriteFrame=this.atlas.getSpriteFrame(i),this.mulLabel.font=this.fonts[n],this.selfBetLabel.font=this.fonts[n],this.totalBetLabel.font=this.fonts[n]},e.prototype.updateBetInfo=function(t,e){this.selfBetLabel.string=""+t,this.totalBetLabel.string=""+e,this.spineNode.active=e>0},i([s(cc.Label)],e.prototype,"selfBetLabel",void 0),i([s(cc.Label)],e.prototype,"totalBetLabel",void 0),i([s(cc.Label)],e.prototype,"mulLabel",void 0),i([s(cc.Node)],e.prototype,"spineNode",void 0),i([s(cc.Sprite)],e.prototype,"icon",void 0),i([s(cc.Sprite)],e.prototype,"kuang",void 0),i([s(cc.SpriteAtlas)],e.prototype,"atlas",void 0),i([s([cc.Font])],e.prototype,"fonts",void 0),e=i([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{"../../proxy/SLWHGameProxy":"SLWHGameProxy"}],SLWHBetList:[function(t,e,o){"use strict";cc._RF.push(e,"8e90elz1C9JlLOBv/5WW8LL","SLWHBetList");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../items/SLWHBetItem"),r=cc._decorator,c=r.ccclass,s=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.betItemPrefab=null,e.betContent=null,e}return n(e,t),e.prototype.onLoad=function(){this.initBetItemList()},e.prototype.initBetItemList=function(){this.betContent.removeAllChildren();for(var t=[1,2,3,4,13,5,6,7,8,14,9,10,11,12,15],e=0;e<t.length;e++){var o=cc.instantiate(this.betItemPrefab),n=o.getComponent(a.default);this.betContent.addChild(o),n.setLoc(t[e])}},i([s(cc.Prefab)],e.prototype,"betItemPrefab",void 0),i([s(cc.Node)],e.prototype,"betContent",void 0),e=i([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{"../items/SLWHBetItem":"SLWHBetItem"}],SLWHBetView:[function(t,e,o){"use strict";cc._RF.push(e,"196ffnuRRJIAKsV9hK8w0rL","SLWHBetView");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../../common/utils/Utils"),r=t("../../../../manager/AudioManager"),c=t("../../../../manager/DataManager"),s=t("../../../../manager/EventManager"),l=t("../../../../manager/NetManager"),p=t("../../../../view/base/PopupView"),u=t("../../../../view/common/componet/ButtonEx"),h=t("../../../public/TimeClock"),d=t("../../constant/SLWHConstant"),f=t("../../proxy/SLWHGameProxy"),m=t("../components/SLWHChipList"),y=t("../items/SLWHBetItem"),g=t("../items/SLWHFlyChipItem"),v=cc._decorator,S=v.ccclass,L=v.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.chipList=null,e.betItemPrefab=null,e.betContent=null,e.closeBtn=null,e.flyChipItem=null,e.againBet=null,e.stopBetPrefab=null,e.timeClock=null,e.timeNode=null,e.stopBetNode=null,e.betItemList=[],e}return n(e,t),e.prototype.start=function(){this.initUI(),this.addHandler(),r.AudioManager.stopBGM(),r.AudioManager.playGameBGM(d.SLWHConstant.SoundsType.openBet),a.default.addClickEventEND(this.closeBtn.node),a.default.addClickEventEND(this.againBet.node)},e.prototype.initUI=function(){this.initChipList(),this.initBetItemList(),this.checkContinueBet(),this.updateBetNumInfo(),this.updateBetValueInfo(),this.setTimeClock()},e.prototype.addHandler=function(){s.EventManager.on(this,d.SLWHConstant.EventType.updateBetNumInfo,this.updateBetNumInfo),s.EventManager.on(this,d.SLWHConstant.EventType.updateBetValueInfo,this.updateBetValueInfo),s.EventManager.on(this,d.SLWHConstant.EventType.gameStateChanged,this.checkGameState.bind(this)),s.EventManager.on(this,d.SLWHConstant.EventType.betSuccess,this.betSuccess.bind(this)),s.EventManager.on(this,d.SLWHConstant.EventType.otherBet,this.otherBet.bind(this)),s.EventManager.on(this,d.SLWHConstant.EventType.reconnectSuccess,this.setTimeClock.bind(this)),this.closeBtn.registerClick(this.close.bind(this))},e.prototype.initChipList=function(){var t=f.SLWHGameProxy.getInstance().gameVO,e=t.chipNumList;this.chipList.setChipList(e),this.chipList.setSelectIndex(t.chipIndex)},e.prototype.initBetItemList=function(){var t=this;this.betContent.removeAllChildren(),this.betItemList=[];for(var e=[1,2,3,4,13,5,6,7,8,14,9,10,11,12,15],o=function(o){var i=cc.instantiate(n.betItemPrefab),a=i.getComponent(y.default);n.betContent.addChild(i),a.setLoc(e[o]),n.betItemList.push(a),a.node.getComponent(u.default).registerClick(function(){t.onBetClick(a)})},n=this,i=0;i<e.length;i++)o(i)},e.prototype.setTimeClock=function(){var t=f.SLWHGameProxy.getInstance().getTimeOut();this.timeClock.setGameTimer(t),this.unscheduleAllCallbacks(),this.scheduleOnce(this.stopBet.bind(this),t-1),this.checkGameState()},e.prototype.onBetClick=function(t){var e=this.chipList.getSelectChipNum(),o=t.loc;l.NetManager.getGameProtocol().onSendBetReq(e,o)},e.prototype.updateBetNumInfo=function(){for(var t=f.SLWHGameProxy.getInstance().gameVO.betNumInfo,e=0;e<t.length;e++){var o=t[e].sum_bet_num||0,n=t[e].user_bet_num||0;this.getBetItemByLoc(e+1).updateBetInfo(n,o)}},e.prototype.updateBetValueInfo=function(){for(var t=f.SLWHGameProxy.getInstance().gameVO.betValueInfo,e=0;e<t.length;e++)for(var o=t[e],n=0;n<o.bet_value.length;n++){var i=o.loc,a=o.bet_value[n];this.updateBetValue(i,a)}},e.prototype.updateBetValue=function(t,e){var o=this.getBetItemByLoc(t),n=[{minX:0,maxX:75,minY:-43,maxY:43}],i=a.default.getRandomInt(n[0].minX,n[0].maxX),r=a.default.getRandomInt(n[0].minY,n[0].maxY),c=o.node.getChildByName("flyChipItem");this.playFlyChipItem(new cc.Vec2(i,r),e,c)},e.prototype.otherBet=function(){r.AudioManager.playGameSFX(d.SLWHConstant.SoundsType.otherBet)},e.prototype.playFlyChipItem=function(t,e,o){var n=cc.instantiate(this.flyChipItem),i=this.node.convertToWorldSpaceAR(new cc.Vec2(-640,0)),a=o.convertToNodeSpaceAR(i);o.addChild(n,o.childrenCount-1),n.x=a.x,n.y=a.y,cc.tween(n).to(.2,{position:t}).to(.2,{angle:90}).start(),n.getComponent(g.default).setChipNum(e)},e.prototype.getBetItemByLoc=function(t){for(var e=0;e<this.betItemList.length;e++){var o=this.betItemList[e];if(o.loc==t)return o}return null},e.prototype.checkGameState=function(){f.SLWHGameProxy.getInstance().gameVO.gameState!=d.SLWHConstant.GameState.Bet&&this.close()},e.prototype.continueBetChanged=function(){f.SLWHGameProxy.getInstance().setIsContinueBet(this.againBet.isChecked)},e.prototype.stopBet=function(){var t=cc.instantiate(this.stopBetPrefab);this.stopBetNode.active=!0,this.playAni(t),r.AudioManager.playGameSFX(d.SLWHConstant.SoundsType.stopBet)},e.prototype.playAni=function(t,e){void 0===e&&(e=null);var o=-(cc.view.getVisibleSize().width+t.width)/2;t.position=cc.v2(o,0),cc.tween(t).to(.5,{position:cc.v2(0,0)}).to(.5,{opacity:0}).call(function(){t.parent=null,e&&e()}).start(),this.node.addChild(t)},e.prototype.checkContinueBet=function(){this.checkContinueBetState()},e.prototype.betSuccess=function(){r.AudioManager.playGameSFX(d.SLWHConstant.SoundsType.selfBet),this.checkContinueBetState()},e.prototype.checkContinueBetState=function(){var t=f.SLWHGameProxy.getInstance().gameVO.isContinueBet,e=f.SLWHGameProxy.getInstance().getSelfBetNum()>0;f.SLWHGameProxy.getInstance().setEnableContinueBet(e),this.againBet.interactable=e,this.againBet.isChecked=e&&t,!e&&f.SLWHGameProxy.getInstance().setIsContinueBet(!1)},e.prototype.onDestroy=function(){t.prototype.onDestroy.call(this),r.AudioManager.stopBGM(),c.DataManager.getGameName(c.DataManager.gameType)&&r.AudioManager.playGameBGM(d.SLWHConstant.SoundsType.bgm)},i([L(m.default)],e.prototype,"chipList",void 0),i([L(cc.Prefab)],e.prototype,"betItemPrefab",void 0),i([L(cc.Node)],e.prototype,"betContent",void 0),i([L(u.default)],e.prototype,"closeBtn",void 0),i([L(cc.Prefab)],e.prototype,"flyChipItem",void 0),i([L(cc.Toggle)],e.prototype,"againBet",void 0),i([L(cc.Prefab)],e.prototype,"stopBetPrefab",void 0),i([L(h.default)],e.prototype,"timeClock",void 0),i([L(cc.Node)],e.prototype,"timeNode",void 0),i([L(cc.Node)],e.prototype,"stopBetNode",void 0),e=i([S],e)}(p.default);o.default=_,cc._RF.pop()},{"../../../../common/utils/Utils":void 0,"../../../../manager/AudioManager":void 0,"../../../../manager/DataManager":void 0,"../../../../manager/EventManager":void 0,"../../../../manager/NetManager":void 0,"../../../../view/base/PopupView":void 0,"../../../../view/common/componet/ButtonEx":void 0,"../../../public/TimeClock":void 0,"../../constant/SLWHConstant":"SLWHConstant","../../proxy/SLWHGameProxy":"SLWHGameProxy","../components/SLWHChipList":"SLWHChipList","../items/SLWHBetItem":"SLWHBetItem","../items/SLWHFlyChipItem":"SLWHFlyChipItem"}],SLWHChipItem:[function(t,e,o){"use strict";cc._RF.push(e,"72945l7+x5BjqJdlsIwlyCI","SLWHChipItem");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../../common/utils/Utils"),r=cc._decorator,c=r.ccclass,s=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.chipNumLabel=null,e.chipIcon=null,e.selectImage=null,e.atlas=null,e._select=!1,e}return n(e,t),e.prototype.onLoad=function(){a.default.addClickEventEND(this.node)},e.prototype.setData=function(t){this.chipVO=t,this.updateUI()},e.prototype.getData=function(){return this.chipVO},e.prototype.updateUI=function(){this.chipNumLabel.string=this.chipVO.chipNum.toString(),this.chipIcon.spriteFrame=this.atlas.getSpriteFrame(this.chipVO.icon)},Object.defineProperty(e.prototype,"select",{get:function(){return this._select},set:function(t){this._select=t,this.selectImage.active=t},enumerable:!0,configurable:!0}),i([s(cc.Label)],e.prototype,"chipNumLabel",void 0),i([s(cc.Sprite)],e.prototype,"chipIcon",void 0),i([s(cc.Node)],e.prototype,"selectImage",void 0),i([s(cc.SpriteAtlas)],e.prototype,"atlas",void 0),e=i([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{"../../../../common/utils/Utils":void 0}],SLWHChipList:[function(t,e,o){"use strict";cc._RF.push(e,"b45f315G39JcYRET+fp55/t","SLWHChipList");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../../view/common/componet/ButtonEx"),r=t("../../model/SLWHModel"),c=t("../../proxy/SLWHGameProxy"),s=t("../items/SLWHChipItem"),l=cc._decorator,p=l.ccclass,u=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.chipItem=null,e.content=null,e.chipItemList=[],e.selectIndex=0,e}return n(e,t),e.prototype.onLoad=function(){},e.prototype.setChipList=function(t){var e=this;this.content.removeAllChildren(),this.chipItemList=[];for(var o=["dwpp_chouma1","dwpp_chouma2","dwpp_chouma3","dwpp_chouma4","dwpp_chouma5"],n=function(n){var c=cc.instantiate(i.chipItem);i.content.addChild(c);var l=c.getComponent(s.default),p=new r.SLWHModel.ChipVO;p.chipNum=t[n],p.icon=o[n],l.setData(p),i.chipItemList.push(l),l.getComponent(a.default).registerClick(function(){e.setSelectIndex(n)})},i=this,c=0;c<t.length;c++)n(c);this.selectChanged()},e.prototype.setSelectIndex=function(t){this.selectIndex!=t&&(this.selectIndex=t,c.SLWHGameProxy.getInstance().setChipIndex(t),this.selectChanged())},e.prototype.selectChanged=function(){for(var t=0;t<this.chipItemList.length;t++){this.chipItemList[t].select=t==this.selectIndex}},e.prototype.getSelectChipNum=function(){return this.chipItemList[this.selectIndex].getData().chipNum},i([u(cc.Prefab)],e.prototype,"chipItem",void 0),i([u(cc.Node)],e.prototype,"content",void 0),e=i([p],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../../../../view/common/componet/ButtonEx":void 0,"../../model/SLWHModel":"SLWHModel","../../proxy/SLWHGameProxy":"SLWHGameProxy","../items/SLWHChipItem":"SLWHChipItem"}],SLWHConstant:[function(t,e,o){"use strict";cc._RF.push(e,"dd0dfgCynNC46TS3rc/rfff","SLWHConstant"),Object.defineProperty(o,"__esModule",{value:!0}),function(t){var e=function(){function t(){}return t.updateBetNumInfo="updateBetInfo",t.updateBetValueInfo="updateBetValueInfo",t.updatePlayerInfo="updatePlayerInfo",t.gameStateChanged="gameStateChanged",t.startBet="startBet",t.startWheel="startWheel",t.showGameResult="showGameResult",t.updateRecordInfo="updateRecordInfo",t.betSuccess="betSuccess",t.recordChanged="recordChanged",t.loginSuccess="loginSuccess",t.reconnectSuccess="reconnectSuccess",t.updateOnlinePlayer="updateOnlinePlayer",t.stopBet="stopBet",t.betTimeChanged="betTimeChanged",t.mulChanged="mulChanged",t.otherBet="otherBet",t.canBankerChanged="canBankerChanged",t.updateUserGold="updateUserGold",t}();t.EventType=e;var o=function(){function t(){}return t.wheelNormalTime=7,t.scrollNormalTime=5,t.wheelLightTime=5,t.lightRewardTime=1,t.gameShowTime=2,t.colorShowTime=2,t.gameResultTime=5,t.wheelAnimaCount=24,t}();t.Config=o;var n=function(){function t(){}return t.view="game/slwh/prefabs/views/",t.atlas="game/slwh/atlas/",t.pb="game/slwh/pb",t.bigImage="game/slwh/bigImage/",t.skeleton="game/slwh/skeleton/",t.dragon="game/slwh/dragon/",t.audio="game/slwh/audio/",t}();t.Url=n;var i=function(){function t(){}return t.bgm="bgm",t.selfBet="self_bet",t.otherBet="other_bet",t.startBet="start_bet",t.stopBet="stop_bet",t.openBet="open_bet",t.win="win",t.lose="lose",t.zhuang="zhuang",t.xian="xian",t.he="he",t.redLion="lion_red",t.yellowLion="lion_yellow",t.greenLion="lion_green",t.redPanda="panda_red",t.yellowPanda="panda_yellow",t.greenPanda="panda_green",t.redMonkey="monkey_red",t.yellowMonkey="monkey_yellow",t.greenMonkey="monkey_green",t.redRabbit="rabbit_red",t.yellowRabbit="rabbit_yellow",t.greenRabbit="rabbit_green",t.wheel="wheel",t.pointer="pointer",t.bigThree="bigThree",t.bigFourth="bigFourth",t.light="light",t.rewardLight="reward_light",t}();t.SoundsType=i;var a=function(){function t(){}return t.bet="bet",t.chip="chip",t}();t.AtlasName=a,function(t){t[t.Bet=1]="Bet",t[t.Game=2]="Game",t[t.Settle=3]="Settle"}(t.GameState||(t.GameState={})),function(t){t[t.Lion=0]="Lion",t[t.Panda=1]="Panda",t[t.Monkey=2]="Monkey",t[t.rabbit=3]="rabbit"}(t.AnimalType||(t.AnimalType={})),function(t){t[t.Red=0]="Red",t[t.Green=1]="Green",t[t.Yellow=2]="Yellow"}(t.ColorType||(t.ColorType={})),function(t){t[t.None=0]="None",t[t.BigThree=1]="BigThree",t[t.BigQua=2]="BigQua",t[t.Light=3]="Light",t[t.RewardLight=4]="RewardLight"}(t.SpecialType||(t.SpecialType={}))}(o.SLWHConstant||(o.SLWHConstant={})),cc._RF.pop()},{}],SLWHFlyChipItem:[function(t,e,o){"use strict";cc._RF.push(e,"514a3xX+YFJVLf+TWjW4uwc","SLWHFlyChipItem");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../proxy/SLWHGameProxy"),r=cc._decorator,c=r.ccclass,s=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.iconImage=null,e.atlas=null,e}return n(e,t),e.prototype.setChipNum=function(t){var e=["dwpp_chouma1","dwpp_chouma2","dwpp_chouma3","dwpp_chouma4","dwpp_chouma5"][a.SLWHGameProxy.getInstance().gameVO.chipNumList.indexOf(t)]||"dwpp_chouma5";this.iconImage.spriteFrame=this.atlas.getSpriteFrame(e)},i([s(cc.Sprite)],e.prototype,"iconImage",void 0),i([s(cc.SpriteAtlas)],e.prototype,"atlas",void 0),e=i([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{"../../proxy/SLWHGameProxy":"SLWHGameProxy"}],SLWHGameProxy:[function(t,e,o){"use strict";cc._RF.push(e,"cc8c8Uv74pLbIhmgWwtOfvr","SLWHGameProxy"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../manager/EventManager"),i=t("../constant/SLWHConstant"),a=t("../model/SLWHModel"),r=function(){function t(){this._gameVO=null,this._gameVO=new a.SLWHModel.GameVO}return t.getInstance=function(){return this._instance||(this._instance=new t),this._instance},t.release=function(){this._instance=null},Object.defineProperty(t.prototype,"gameVO",{get:function(){return this._gameVO},enumerable:!0,configurable:!0}),t.prototype.setBetNumInfo=function(t){this._gameVO.betNumInfo=t,n.EventManager.emit(i.SLWHConstant.EventType.updateBetNumInfo)},t.prototype.setBetValueInfo=function(t){this._gameVO.betValueInfo=t,n.EventManager.emit(i.SLWHConstant.EventType.updateBetValueInfo)},t.prototype.setChipNumList=function(t){this._gameVO.chipNumList=t},t.prototype.setGameShowNotify=function(t){this._gameVO.gameShowNotify=t,n.EventManager.emit(i.SLWHConstant.EventType.startWheel,t)},t.prototype.setGameConcludeNotify=function(t){this._gameVO.gameConcludeNotify=t,n.EventManager.emit(i.SLWHConstant.EventType.showGameResult)},t.prototype.setGameState=function(t){this._gameVO.lastGameState=this._gameVO.gameState,this._gameVO.gameState!=t&&(this._gameVO.gameState=t,n.EventManager.emit(i.SLWHConstant.EventType.gameStateChanged))},t.prototype.setEnableContinueBet=function(t){this._gameVO.enableContinueBet=t},t.prototype.setIsContinueBet=function(t){this._gameVO.isContinueBet=t},t.prototype.setChipIndex=function(t){this._gameVO.chipIndex=t},t.prototype.setTimeOut=function(t){var e=(new Date).getTime();this._gameVO.timeOut=e+1e3*t},t.prototype.getTimeOut=function(){var t=(new Date).getTime();return Math.round((this._gameVO.timeOut-t)/1e3)},t.prototype.setRecordList=function(t){this._gameVO.recordList=t,n.EventManager.emit(i.SLWHConstant.EventType.recordChanged)},t.prototype.addRecord=function(t){var e=this._gameVO.recordList;e.push(t),e.length>20&&e.shift(),n.EventManager.emit(i.SLWHConstant.EventType.recordChanged)},t.prototype.setOnlinePlayerInfo=function(t){this._gameVO.onlinePlayerInfo=t,n.EventManager.emit(i.SLWHConstant.EventType.updateOnlinePlayer)},t.prototype.setCanBanker=function(t){this._gameVO.canBanker=t,n.EventManager.emit(i.SLWHConstant.EventType.canBankerChanged)},t.prototype.getSelfBetNum=function(){for(var t=this._gameVO.betNumInfo,e=0,o=0;o<t.length;o++)e+=t[o].user_bet_num;return e},t.prototype.checkLocIsBet=function(t){return this._gameVO.betNumInfo[t-1].sum_bet_num>0},t.prototype.getAnimalName=function(t,e){var o=this.getAnimalTypeName(t);return this.getAnimaColorName(e)+o},t.prototype.getGameShowAnimalIconByType=function(t){return["img_lion","img_panda","img_monkey","img_rabbit"][t]},t.prototype.getAnimalInfoByLoc=function(t){var e=i.SLWHConstant.ColorType,o=i.SLWHConstant.AnimalType;return[{type:o.Lion,color:e.Red},{type:o.Panda,color:e.Red},{type:o.Monkey,color:e.Red},{type:o.rabbit,color:e.Red},{type:o.Lion,color:e.Green},{type:o.Panda,color:e.Green},{type:o.Monkey,color:e.Green},{type:o.rabbit,color:e.Green},{type:o.Lion,color:e.Yellow},{type:o.Panda,color:e.Yellow},{type:o.Monkey,color:e.Yellow},{type:o.rabbit,color:e.Yellow}][t-1]},t.prototype.getAnimalTypeName=function(t){return["\u72ee\u5b50","\u718a\u732b","\u7334\u5b50","\u5154\u5b50"][t]},t.prototype.getAnimaColorName=function(t){return["\u7ea2","\u7eff","\u9ec4"][t]},t.prototype.setMulInfo=function(t){t=t||"[46, 23, 13, 8, 20, 10, 11, 7, 25, 12, 7, 4, 2, 2, 8]";var e=JSON.parse(t);this._gameVO.mul=e,n.EventManager.emit(i.SLWHConstant.EventType.mulChanged)},t.prototype.getTimesByLoc=function(t){return+this._gameVO.mul[t-1]},t.prototype.getBetIconByLoc=function(t){return["img_hongsizi","img_hongxiongmao","img_honghouzi","img_hongtuzi","img_lvsizi","img_lvxiongmao","img_lvhouzi","img_lvtuzi","img_huangsizi","img_huangxiongmao","img_huanghouzi","img_huangtuzi","img_zhuang","img_he","img_xian"][t-1]},t._instance=null,t}();o.SLWHGameProxy=r,cc._RF.pop()},{"../../../manager/EventManager":void 0,"../constant/SLWHConstant":"SLWHConstant","../model/SLWHModel":"SLWHModel"}],SLWHGameResultView:[function(t,e,o){"use strict";cc._RF.push(e,"8fe72jBbTZApqJZG/CSu1V1","SLWHGameResultView");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r},a=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,a){function r(t){try{s(n.next(t))}catch(t){a(t)}}function c(t){try{s(n.throw(t))}catch(t){a(t)}}function s(t){t.done?i(t.value):new o(function(e){e(t.value)}).then(r,c)}s((n=n.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var o,n,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(t){return function(e){return s([t,e])}}function s(a){if(o)throw new TypeError("Generator is already executing.");for(;r;)try{if(o=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,n=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=e.call(t,r)}catch(t){a=[6,t],n=0}finally{o=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../../../manager/AudioManager"),s=t("../../../../manager/EventManager"),l=t("../../../../manager/ResManager"),p=t("../../../../view/base/PopupView"),u=t("../../constant/SLWHConstant"),h=t("../../proxy/SLWHGameProxy"),d=t("../components/SLWHRewardList"),f=cc._decorator,m=f.ccclass,y=f.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.betNumLabel=null,e.rewardNumLabel=null,e.rewardList=null,e.skeleton=null,e}return n(e,t),e.prototype.start=function(){s.EventManager.on(this,u.SLWHConstant.EventType.reconnectSuccess,this.checkGameState.bind(this));var t=h.SLWHGameProxy.getInstance().getTimeOut();this.scheduleOnce(this.close.bind(this),t);var e=h.SLWHGameProxy.getInstance().getSelfBetNum();this.betNumLabel.string=e.toString();var o=+h.SLWHGameProxy.getInstance().gameVO.gameConcludeNotify.score;this.rewardNumLabel.string=o+"";var n=o>0?u.SLWHConstant.SoundsType.win:u.SLWHConstant.SoundsType.lose;c.AudioManager.playGameSFX(n),this.initRewardList(),0!=o&&this.textEffect(o);var i=e>0?o>0?"ying":"shu":"kai",a=u.SLWHConstant.Url.skeleton+"gameResult/"+i;this.loadSkeleton(a)},e.prototype.textEffect=function(t){var e=this,o=t>0?"+":"-",n=Math.abs(t),i=n/parseFloat(80..toFixed(2)),a=0,r="",c=function(){r=(a+=i).toFixed(2),e.rewardNumLabel.string=o+r,a>=n&&(r=n.toString(),e.rewardNumLabel.string=o+parseFloat(r).toFixed(2),e.unschedule(c))};this.schedule(c,.01,cc.macro.REPEAT_FOREVER)},e.prototype.initRewardList=function(){var t=h.SLWHGameProxy.getInstance().gameVO.gameConcludeNotify;this.rewardList.setRewardList(t.win_pos)},e.prototype.loadSkeleton=function(t,e){return void 0===e&&(e="animation"),a(this,void 0,void 0,function(){var o;return r(this,function(n){switch(n.label){case 0:return o=this.skeleton,[4,l.ResManager.loadResAsync(t,sp.SkeletonData)];case 1:return o.skeletonData=n.sent(),this.skeleton&&this.skeleton.setToSetupPose(),this.skeleton&&(this.skeleton.animation=e),[2]}})})},e.prototype.checkGameState=function(){h.SLWHGameProxy.getInstance().gameVO.gameState!=u.SLWHConstant.GameState.Settle&&this.close()},i([y(cc.Label)],e.prototype,"betNumLabel",void 0),i([y(cc.Label)],e.prototype,"rewardNumLabel",void 0),i([y(d.default)],e.prototype,"rewardList",void 0),i([y(sp.Skeleton)],e.prototype,"skeleton",void 0),e=i([m],e)}(p.default);o.default=g,cc._RF.pop()},{"../../../../manager/AudioManager":void 0,"../../../../manager/EventManager":void 0,"../../../../manager/ResManager":void 0,"../../../../view/base/PopupView":void 0,"../../constant/SLWHConstant":"SLWHConstant","../../proxy/SLWHGameProxy":"SLWHGameProxy","../components/SLWHRewardList":"SLWHRewardList"}],SLWHGameShowView:[function(t,e,o){"use strict";cc._RF.push(e,"8bca0cRdOJMp7Ysp3MTPPXI","SLWHGameShowView");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r},a=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,a){function r(t){try{s(n.next(t))}catch(t){a(t)}}function c(t){try{s(n.throw(t))}catch(t){a(t)}}function s(t){t.done?i(t.value):new o(function(e){e(t.value)}).then(r,c)}s((n=n.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var o,n,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(t){return function(e){return s([t,e])}}function s(a){if(o)throw new TypeError("Generator is already executing.");for(;r;)try{if(o=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,n=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=e.call(t,r)}catch(t){a=[6,t],n=0}finally{o=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../../../common/log/LogWrap"),s=t("../../../../manager/ResManager"),l=t("../../../../view/base/PopupView"),p=t("../../constant/SLWHConstant"),u=t("../../proxy/SLWHGameProxy"),h=cc._decorator,d=h.ccclass,f=h.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.di1=null,e.di2=null,e.normalIcon=null,e.specialIcon=null,e.atlas=null,e.fontColorList=[],e.defaultNode=null,e.normalNode=null,e.specialNode=null,e.nameLabel=null,e.skeleton=null,e}return n(e,t),e.prototype.start=function(){var t=this;setTimeout(function(){t.close()},2e3),this.updateUI()},e.prototype.updateUI=function(){return a(this,void 0,void 0,function(){var t,e,o,n,i,a,c,l,h,d,f,m,y,g,v;return r(this,function(r){switch(r.label){case 0:return t=this.data.loc,e=this.data.specialId,o=u.SLWHGameProxy.getInstance().getAnimalInfoByLoc(t),n=["img_hongdiguang","img_lvdiguang","img_huangdiguang","img_zidiguang"],i=["img_hongguang","img_lvguang","img_huangguang","img_ziguang"],a=["shizi","xiongmao","houzi","tuzi1"][o.type],c=["red","green","yellow"][o.color],o.color,this.specialNode.active=!1,e!=p.SLWHConstant.SpecialType.BigThree&&e!=p.SLWHConstant.SpecialType.BigQua||(a="dasixi",l=["text_dasanyuan","text_dasixi"],c=["dasanyuan","dasixi"][e-1],3,this.specialNode.active=!0,this.specialIcon.spriteFrame=this.atlas.getSpriteFrame(l[e-1])),h=n[o.color],d=i[o.color],f=u.SLWHGameProxy.getInstance().getGameShowAnimalIconByType(o.type),this.normalIcon.spriteFrame=this.atlas.getSpriteFrame(f),m=u.SLWHGameProxy.getInstance().getAnimalName(o.type,o.color),this.nameLabel.string=m,this.nameLabel.node.color=this.fontColorList[o.color],this.normalNode.active=!this.specialNode.active,y=this.di1,[4,s.ResManager.loadResAsync(p.SLWHConstant.Url.bigImage+h,cc.SpriteFrame)];case 1:return y.spriteFrame=r.sent(),g=this.di2,[4,s.ResManager.loadResAsync(p.SLWHConstant.Url.bigImage+d,cc.SpriteFrame)];case 2:return g.spriteFrame=r.sent(),v=p.SLWHConstant.Url.skeleton+"gameShow/"+a,this.loadSkeleton(v,c),[2]}})})},e.prototype.loadSkeleton=function(t,e){return a(this,void 0,void 0,function(){var o;return r(this,function(n){switch(n.label){case 0:return c.LogWrap.log(c.LogWrap.getDateString()),o=this.skeleton,[4,s.ResManager.loadResAsync(t,sp.SkeletonData)];case 1:return o.skeletonData=n.sent(),this.defaultNode&&(this.defaultNode.active=!1),this.skeleton&&this.skeleton.setToSetupPose(),this.skeleton&&(this.skeleton.animation=e),c.LogWrap.log(c.LogWrap.getDateString()),[2]}})})},i([f(cc.Sprite)],e.prototype,"di1",void 0),i([f(cc.Sprite)],e.prototype,"di2",void 0),i([f(cc.Sprite)],e.prototype,"normalIcon",void 0),i([f(cc.Sprite)],e.prototype,"specialIcon",void 0),i([f(cc.SpriteAtlas)],e.prototype,"atlas",void 0),i([f([cc.Color])],e.prototype,"fontColorList",void 0),i([f(cc.Node)],e.prototype,"defaultNode",void 0),i([f(cc.Node)],e.prototype,"normalNode",void 0),i([f(cc.Node)],e.prototype,"specialNode",void 0),i([f(cc.Label)],e.prototype,"nameLabel",void 0),i([f(sp.Skeleton)],e.prototype,"skeleton",void 0),e=i([d],e)}(l.default);o.default=m,cc._RF.pop()},{"../../../../common/log/LogWrap":void 0,"../../../../manager/ResManager":void 0,"../../../../view/base/PopupView":void 0,"../../constant/SLWHConstant":"SLWHConstant","../../proxy/SLWHGameProxy":"SLWHGameProxy"}],SLWHGameView:[function(t,e,o){"use strict";cc._RF.push(e,"5678acPDihOlJK+dhRUKM3H","SLWHGameView");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../components/SLWHWheel"),r=t("../components/SLWHScroll"),c=t("../../../../view/base/BaseView"),s=t("../../../../manager/UIManager"),l=t("../../constant/SLWHConstant"),p=t("../../../../view/common/componet/ButtonEx"),u=t("../../../../manager/NetManager"),h=t("../../../../manager/EventManager"),d=t("../../../../net/NetCmd"),f=t("../../proxy/SLWHGameProxy"),m=t("../../../../Define"),y=t("../components/SLWHRecordList"),g=t("../components/SLWHOnlinePlayer"),v=t("../components/SLWHBankerInfo"),S=t("../components/SLWHPlayerInfo"),L=t("../../../../manager/AudioManager"),_=t("../../../../common/utils/Utils"),b=t("../../../public/TimeClock"),w=t("../../../../common/log/LogWrap"),W=cc._decorator,C=W.ccclass,H=W.property,I=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.wheel=null,e.pointer=null,e.scroll=null,e.menuBtn=null,e.betBtn=null,e.onlineBtn=null,e.nicknameLabel=null,e.goldLabel=null,e.betNumLabel=null,e.timeClock=null,e.timeNode=null,e.stateImage=null,e.colorImageList=[],e.atlas=null,e.rewardLight=null,e.light=null,e.wait=null,e.recordList=null,e.onlinePlayer=null,e.bankerInfo=null,e.playerInfo=null,e.startBetPrefab=null,e.startBetNode=null,e.wheelCount=0,e.gameShowNotify=null,e.showOnlinePlayer=!1,e.lastGameShowTime=0,e}return n(e,t),e.prototype.start=function(){this.addHandler(),this.gameStateChanged(),this.checkLoginState(),this.updateUI(),this.showRecordList()},e.prototype.addHandler=function(){this.menuBtn.registerClick(this.showMenu.bind(this)),this.betBtn.registerClick(this.showBet.bind(this)),h.EventManager.on(this,d.ProtocolGameCmd.UpBankerStateRes,this.onRecvLookForBankerList.bind(this)),h.EventManager.on(this,l.SLWHConstant.EventType.startBet,this.onStartBet.bind(this)),h.EventManager.on(this,l.SLWHConstant.EventType.startWheel,this.gameShow.bind(this)),h.EventManager.on(this,l.SLWHConstant.EventType.gameStateChanged,this.gameStateChanged.bind(this)),h.EventManager.on(this,l.SLWHConstant.EventType.updateUserGold,this.updateUserGold.bind(this)),h.EventManager.on(this,l.SLWHConstant.EventType.updateBetNumInfo,this.updateBetNum.bind(this)),h.EventManager.on(this,l.SLWHConstant.EventType.recordChanged,this.showRecordList.bind(this)),h.EventManager.on(this,l.SLWHConstant.EventType.reconnectSuccess,this.reconnectSuccess.bind(this)),h.EventManager.on(this,l.SLWHConstant.EventType.updateOnlinePlayer,this.updateOnlinePlayerInfo.bind(this)),h.EventManager.on(this,m.EventDef.GameShow,this.gameShowEvent.bind(this)),h.EventManager.on(this,l.SLWHConstant.EventType.showGameResult,this.showGameResult.bind(this)),_.default.addClickEventEND(this.betBtn.node),_.default.addClickEventEND(this.menuBtn.node),_.default.addClickEventEND(this.onlineBtn,this.showOnlinePlayerInfo.bind(this)),this.wheel.node.on("wheelStoped",this.wheelStoped,this),this.scroll.node.on("wheelStoped",this.scrollStoped,this)},e.prototype.showBet=function(){s.UIManager.popup(l.SLWHConstant.Url.view+"SLWHBetView")},e.prototype.showMenu=function(){s.UIManager.popup(l.SLWHConstant.Url.view+"SLWHMenu")},e.prototype.gameShowEvent=function(t){this.setTimeClock(),this.gameStateChanged()},e.prototype.onRecvLookForBankerList=function(t){this.bankerInfo.setBankerState(t.up_banker_state)},e.prototype.getUpBankerState=function(){u.NetManager.protocolGameCommon.sendUpBankerStateReq()},e.prototype.showOnlinePlayerInfo=function(){(this.showOnlinePlayer=!this.showOnlinePlayer,this.onlinePlayer.playMoveAni(this.showOnlinePlayer),this.showOnlinePlayer)&&u.NetManager.getGameProtocol().onSendOnlinePlayerInfo()},e.prototype.updateOnlinePlayerInfo=function(){var t=f.SLWHGameProxy.getInstance().gameVO.onlinePlayerInfo;this.onlinePlayer.setPlayerInfo(t)},e.prototype.gameStateChanged=function(){var t=f.SLWHGameProxy.getInstance().gameVO.gameState;switch(this.betBtn.interactable=t==l.SLWHConstant.GameState.Bet,t!=l.SLWHConstant.GameState.Game&&L.AudioManager.stopEffect(l.SLWHConstant.SoundsType.pointer),t){case l.SLWHConstant.GameState.Bet:this.stateImage.spriteFrame=this.atlas.getSpriteFrame("xiazhuzhong"),this.setTimeClock(),this.light.active=!1,this.rewardLight.active=!1;break;default:this.stateImage.spriteFrame=this.atlas.getSpriteFrame("kaijiangzhong"),this.timeNode.active=!1}},e.prototype.setTimeClock=function(){var t=f.SLWHGameProxy.getInstance().getTimeOut();this.timeClock.setGameTimer({limit_time:t,vibrate:!0})},e.prototype.checkLoginState=function(){var t=f.SLWHGameProxy.getInstance().gameVO.gameState,e=f.SLWHGameProxy.getInstance().gameVO.lastGameState;this.wait.active=t!=l.SLWHConstant.GameState.Bet&&!this.gameShowNotify,t==l.SLWHConstant.GameState.Bet&&t!=e&&this.openBetView()},e.prototype.reconnectSuccess=function(){this.checkLoginState(),this.gameStateChanged(),this.getUpBankerState()},e.prototype.onStartBet=function(){this.wait.active=!1,this.startBetNode.active=!0;var t=cc.instantiate(this.startBetPrefab);this.playStartBetAni(t,this.openBetView.bind(this))},e.prototype.openBetView=function(){this.unscheduleAllCallbacks(),this.startBetNode.active=!1,this.updateUserGold(),this.showBet()},e.prototype.gameShow=function(t){var e=this;if(f.SLWHGameProxy.getInstance().gameVO.gameState==l.SLWHConstant.GameState.Game){var o=(new Date).getTime();if(o-this.lastGameShowTime<1e3)w.LogWrap.log("\u670d\u52a1\u5668\u4e00\u6b21\u63a8\u4e86\u4e24\u6b21gameShowNotify\u6d88\u606f\uff0c\u8bf7\u68c0\u67e5\u4e00\u4e0b\u903b\u8f91");else{this.lastGameShowTime=o,this.wheelCount=0,this.gameShowNotify=t,this.wait.active=!1;var n=l.SLWHConstant.Config,i=this.claclWheelTime();this.unscheduleAllCallbacks();var a=i-t.time_out;if(this.showColor(a<=0),a<=n.colorShowTime)this.scheduleOnce(function(){e.showColorComplete()},n.colorShowTime-a);else if(a>n.colorShowTime&&a<=n.wheelNormalTime+n.colorShowTime)this.showColorComplete(a-n.colorShowTime);else if(this.gameShowNotify.special_id==l.SLWHConstant.SpecialType.RewardLight){var r=l.SLWHConstant.Config.wheelNormalTime,c=l.SLWHConstant.Config.lightRewardTime,s=l.SLWHConstant.Config.wheelLightTime,p=function(t){return t<=r+c?{index:0,resTime:t}:{index:Math.floor((t-r-c)/(s+c))+1,resTime:(t-r-c)%(s+c)}}(a),u=p.index,h=p.resTime;if(this.wheelCount=u,u>=this.gameShowNotify.rotate_info.length)return this.rewardLight.active=!1,this.wheelCount=this.gameShowNotify.rotate_info.length-1,void this.onStartWheel(s,s);if(this.wheelCount=u,this.rewardLight.active=!0,u>0)return h<=s?void this.onStartWheel(s,h):void this.scheduleOnce(function(){e.onStartWheel(s)},h-s);h<=r?this.onStartWheel(r,h):this.scheduleOnce(function(){e.onStartWheel(s)},h-r)}else this.showColorComplete(l.SLWHConstant.Config.wheelNormalTime)}}},e.prototype.claclWheelTime=function(){var t=l.SLWHConstant.Config,e=this.gameShowNotify.rotate_info.length,o=t.colorShowTime+t.wheelNormalTime;return this.gameShowNotify.special_id==l.SLWHConstant.SpecialType.RewardLight?o+=(e-1)*(t.lightRewardTime+t.wheelLightTime)+1:o+=t.gameShowTime,o},e.prototype.showColor=function(t){var e=this;void 0===t&&(t=!0);for(var o=["img_hongse","img_lvse","img_huangse"],n=this.gameShowNotify.color_info,i=function(i){var r=n[i],c=o[r-1],s=a.colorImageList[i];if(s.spriteFrame=a.atlas.getSpriteFrame(c),t){var p=l.SLWHConstant.Config,u=p.colorShowTime/p.wheelAnimaCount;s.spriteFrame=a.atlas.getSpriteFrame("img_huise"),a.scheduleOnce(function(){s.spriteFrame=e.atlas.getSpriteFrame(c)},i*u)}},a=this,r=0;r<n.length;r++)i(r)},e.prototype.showColorComplete=function(t){var e=this;void 0===t&&(t=0),L.AudioManager.stopBGM(),L.AudioManager.playGameBGM(l.SLWHConstant.SoundsType.wheel),this.onStartWheel(l.SLWHConstant.Config.wheelNormalTime,t);var o=this.gameShowNotify.special_id;o!=l.SLWHConstant.SpecialType.RewardLight&&o!=l.SLWHConstant.SpecialType.Light||this.scheduleOnce(function(){var t=[l.SLWHConstant.SoundsType.light,l.SLWHConstant.SoundsType.rewardLight][o-l.SLWHConstant.SpecialType.Light];L.AudioManager.playGameSFX(t),e.rewardLight.active=o==l.SLWHConstant.SpecialType.RewardLight,e.light.active=o==l.SLWHConstant.SpecialType.Light},2)},e.prototype.onStartWheel=function(t,e){if(void 0===t&&(t=7),void 0===e&&(e=0),this.gameShowNotify){var o=this.wheelCount,n=this.gameShowNotify,i=n.rotate_info;L.AudioManager.stopEffect(l.SLWHConstant.SoundsType.pointer),L.AudioManager.playGameSFX(l.SLWHConstant.SoundsType.pointer,!0);var a=i[o].point,r=i[o].roll;this.wheel.setWheelTime(t),this.wheel.startWheel(r),this.wheel.setCompleteTime(e),this.pointer.setWheelTime(t),this.pointer.startWheel(a),this.pointer.setCompleteTime(e),o>0||(this.scroll.setWheelTime(l.SLWHConstant.Config.scrollNormalTime),this.scroll.startWheel(n.banker_win-13),this.scroll.setCompleteTime(e))}},e.prototype.updateUI=function(){this.updateBetNum(),this.updateUserGold()},e.prototype.updateBetNum=function(){var t=f.SLWHGameProxy.getInstance().getSelfBetNum();this.betNumLabel.string=""+t,t>0&&this.timeClock.pauseVibrate()},e.prototype.updateUserGold=function(){this.playerInfo.setPlayerInfo()},e.prototype.wheelStoped=function(){var t=this;if(f.SLWHGameProxy.getInstance().gameVO.gameState==l.SLWHConstant.GameState.Game){var e=this.gameShowNotify.special_id,o=this.gameShowNotify.rotate_win_pos[this.wheelCount],n=l.SLWHConstant.SoundsType,i=[[n.redLion,n.greenLion,n.yellowLion],[n.redPanda,n.greenPanda,n.yellowPanda],[n.redMonkey,n.greenMonkey,n.yellowMonkey],[n.redRabbit,n.greenRabbit,n.yellowRabbit]],a=f.SLWHGameProxy.getInstance().getAnimalInfoByLoc(o),r=i[a.type][a.color];L.AudioManager.stopAllEffects(),L.AudioManager.playGameSFX(r);var c=["",l.SLWHConstant.SoundsType.bigThree,l.SLWHConstant.SoundsType.bigFourth,"",""][e];if(c&&L.AudioManager.playGameSFX(c),e!=l.SLWHConstant.SpecialType.RewardLight)return L.AudioManager.stopBGM(),L.AudioManager.playGameBGM(l.SLWHConstant.SoundsType.bgm),void s.UIManager.popup(l.SLWHConstant.Url.view+"SLWHGameShowView",{specialId:this.gameShowNotify.special_id,loc:o});this.wheelCount++,this.wheelCount>=this.gameShowNotify.rotate_info.length||this.scheduleOnce(function(){t.onStartWheel(l.SLWHConstant.Config.wheelLightTime)},l.SLWHConstant.Config.lightRewardTime)}},e.prototype.scrollStoped=function(){if(this.gameShowNotify){var t=this.gameShowNotify.banker_win,e=l.SLWHConstant.SoundsType,o=[e.zhuang,e.he,e.xian][t-13];L.AudioManager.playGameSFX(o)}},e.prototype.showGameResult=function(){this.unscheduleAllCallbacks(),this.rewardLight.active=!1,this.light.active=!1,this.wait.active=!1,this.gameShowNotify=null,s.UIManager.popup(l.SLWHConstant.Url.view+"SLWHGameResultView")},e.prototype.showRecordList=function(){var t=f.SLWHGameProxy.getInstance().gameVO.recordList;this.recordList.setRecordList(t)},e.prototype.playStartBetAni=function(t,e){L.AudioManager.playGameSFX(l.SLWHConstant.SoundsType.startBet);var o=-(cc.view.getVisibleSize().width+t.width)/2;t.position=cc.v2(o,0),cc.tween(t).to(.5,{position:cc.v2(0,0)}).to(.5,{opacity:0}).call(function(){t.parent=null,e&&e()}).start(),this.node.addChild(t)},e.prototype.onDestroy=function(){this.clear(),t.prototype.onDestroy.call(this)},e.prototype.clear=function(){f.SLWHGameProxy.release(),L.AudioManager.stopBGM(),L.AudioManager.playBGM(l.SLWHConstant.SoundsType.bgm,l.SLWHConstant.Url.audio),L.AudioManager.stopAllEffects(),this.unscheduleAllCallbacks()},i([H(a.default)],e.prototype,"wheel",void 0),i([H(a.default)],e.prototype,"pointer",void 0),i([H(r.default)],e.prototype,"scroll",void 0),i([H(p.default)],e.prototype,"menuBtn",void 0),i([H(p.default)],e.prototype,"betBtn",void 0),i([H(cc.Node)],e.prototype,"onlineBtn",void 0),i([H(cc.Label)],e.prototype,"nicknameLabel",void 0),i([H(cc.Label)],e.prototype,"goldLabel",void 0),i([H(cc.Label)],e.prototype,"betNumLabel",void 0),i([H(b.default)],e.prototype,"timeClock",void 0),i([H(cc.Node)],e.prototype,"timeNode",void 0),i([H(cc.Sprite)],e.prototype,"stateImage",void 0),i([H([cc.Sprite])],e.prototype,"colorImageList",void 0),i([H(cc.SpriteAtlas)],e.prototype,"atlas",void 0),i([H(cc.Node)],e.prototype,"rewardLight",void 0),i([H(cc.Node)],e.prototype,"light",void 0),i([H(cc.Node)],e.prototype,"wait",void 0),i([H(y.default)],e.prototype,"recordList",void 0),i([H(g.default)],e.prototype,"onlinePlayer",void 0),i([H(v.default)],e.prototype,"bankerInfo",void 0),i([H(S.default)],e.prototype,"playerInfo",void 0),i([H(cc.Prefab)],e.prototype,"startBetPrefab",void 0),i([H(cc.Node)],e.prototype,"startBetNode",void 0),e=i([C],e)}(c.default);o.default=I,cc._RF.pop()},{"../../../../Define":void 0,"../../../../common/log/LogWrap":void 0,"../../../../common/utils/Utils":void 0,"../../../../manager/AudioManager":void 0,"../../../../manager/EventManager":void 0,"../../../../manager/NetManager":void 0,"../../../../manager/UIManager":void 0,"../../../../net/NetCmd":void 0,"../../../../view/base/BaseView":void 0,"../../../../view/common/componet/ButtonEx":void 0,"../../../public/TimeClock":void 0,"../../constant/SLWHConstant":"SLWHConstant","../../proxy/SLWHGameProxy":"SLWHGameProxy","../components/SLWHBankerInfo":"SLWHBankerInfo","../components/SLWHOnlinePlayer":"SLWHOnlinePlayer","../components/SLWHPlayerInfo":"SLWHPlayerInfo","../components/SLWHRecordList":"SLWHRecordList","../components/SLWHScroll":"SLWHScroll","../components/SLWHWheel":"SLWHWheel"}],SLWHMenu:[function(t,e,o){"use strict";cc._RF.push(e,"a539azeCihNqY+Oh4CJafVx","SLWHMenu");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../../common/utils/Utils"),r=t("../../../../manager/DataManager"),c=t("../../../../manager/NetManager"),s=t("../../../../manager/UIManager"),l=t("../../../../view/base/BaseView"),p=cc._decorator,u=p.ccclass,h=p.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.settingBtn=null,e.ruleBtn=null,e.backBtn=null,e.closeBtn=null,e}return n(e,t),e.prototype.start=function(){a.default.addClickEventEND(this.settingBtn,this.onSetting.bind(this)),a.default.addClickEventEND(this.ruleBtn,this.onRule.bind(this)),a.default.addClickEventEND(this.backBtn,this.onExitRoom.bind(this)),a.default.addClickEventEND(this.closeBtn,this.close.bind(this))},e.prototype.onSetting=function(){s.UIManager.popup("prefabs/hall/HallSetting")},e.prototype.onRule=function(){s.UIManager.popup("prefabs/game/GameRuleList",r.DataManager.gameType)},e.prototype.onExitRoom=function(){c.NetManager.protocolGameCommon.sendLeaveGame()},i([h(cc.Node)],e.prototype,"settingBtn",void 0),i([h(cc.Node)],e.prototype,"ruleBtn",void 0),i([h(cc.Node)],e.prototype,"backBtn",void 0),i([h(cc.Node)],e.prototype,"closeBtn",void 0),e=i([u],e)}(l.default);o.default=d,cc._RF.pop()},{"../../../../common/utils/Utils":void 0,"../../../../manager/DataManager":void 0,"../../../../manager/NetManager":void 0,"../../../../manager/UIManager":void 0,"../../../../view/base/BaseView":void 0}],SLWHModel:[function(t,e,o){"use strict";cc._RF.push(e,"9e514mbqY1BHbDSljMMK99y","SLWHModel"),Object.defineProperty(o,"__esModule",{value:!0}),function(t){var e=function(){return function(){}}();t.ChipVO=e;var o=function(){return function(){this.gameState=0,this.lastGameState=0,this.betNumInfo=[],this.betValueInfo=[],this.chipNumList=[],this.timeOut=0,this.gameMultipleArr=[],this.enableContinueBet=!1,this.isContinueBet=!1,this.recordList=[],this.mul=[],this.chipIndex=0,this.canBanker=!1}}();t.GameVO=o;var n=function(){return function(){}}();t.RewardItemVO=n;var i=function(){return function(){}}();t.RoomInfo=i;var a=function(){return function(){}}();t.PlayerInfo=a;var r=function(){return function(){}}();t.GameStartNotify=r;var c=function(){return function(){}}();t.BetReq=c;var s=function(){return function(){}}();t.BetValueInfo=s;var l=function(){return function(){}}();t.BetNumInfo=l;var p=function(){return function(){}}();t.BetNotify=p;var u=function(){return function(){}}();t.OtherBetNotify=u;var h=function(){return function(){}}();t.CardMsgInfo=h;var d=function(){return function(){}}();t.GameShowNotify=d;var f=function(){return function(){}}();t.RecordInfo=f;var m=function(){return function(){}}();t.GameConcludeNotify=m;var y=function(){return function(){}}();t.WaitNextNotify=y;var g=function(){return function(){}}();t.GameReconnectInfo=g;var v=function(){return function(){}}();t.OtherUsersReq=v;var S=function(){return function(){}}();t.OtherUsersRes=S;var L=function(){return function(){}}();t.ContinueBetReq=L;var _=function(){return function(){}}();t.ContinueBetRes=_;var b=function(){return function(){}}();t.RotateInfo=b}(o.SLWHModel||(o.SLWHModel={})),cc._RF.pop()},{}],SLWHOnelinePlayerItem:[function(t,e,o){"use strict";cc._RF.push(e,"28ea3FM1qROAZgJU6W9iaoL","SLWHOnelinePlayerItem");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../../common/UIHelper"),r=t("../../../../common/utils/Utils"),c=cc._decorator,s=c.ccclass,l=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nickLabel=null,e.goldLabel=null,e.head=null,e}return n(e,t),e.prototype.setData=function(t){var e=r.default.getSubStringLengTxt(t.username)||r.default.getReplaceStrToStar(t.player_id);this.nickLabel.string=e||"\u5e05\u5230\u83ab\u670b\u53cb",this.goldLabel.string=r.default.getFormatGold(t.gold),a.default.setHeadIcon(t.headimg_id.toString(),this.head)},i([l(cc.Label)],e.prototype,"nickLabel",void 0),i([l(cc.Label)],e.prototype,"goldLabel",void 0),i([l(cc.Node)],e.prototype,"head",void 0),e=i([s],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../../../../common/UIHelper":void 0,"../../../../common/utils/Utils":void 0}],SLWHOnlinePlayer:[function(t,e,o){"use strict";cc._RF.push(e,"b8219grJMdBhL0cfmZpoemp","SLWHOnlinePlayer");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../../view/base/BaseView"),r=t("../../../../view/common/List"),c=t("../items/SLWHOnelinePlayerItem"),s=cc._decorator,l=s.ccclass,p=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.itemPrefab=null,e.list=null,e.totalCount=null,e.showCount=null,e.playerNode=null,e.moveNode=null,e.arrow=null,e}return n(e,t),e.prototype.setPlayerInfo=function(t){this.list.numItems=t.player_list.length,this.totalCount.string="\u672c\u5c40\u5171"+t.totalplayers+"\u4eba\u968f\u673a",this.showCount.string="\u663e\u793a\u4e0a\u5c40"+t.player_list.length+"\u540d\u4e0b\u6ce8\u73a9\u5bb6",this.playerList=t.player_list},e.prototype.onListRender=function(t,e){t.getComponent(c.default).setData(this.playerList[e])},e.prototype.playMoveAni=function(t){var e=this;void 0===t&&(t=!0);var o=t?0:-this.playerNode.width;this.playerNode.active=!0,this.arrow.scaleX=t?-1:1,cc.tween(this.moveNode).to(.3,{position:new cc.Vec2(o,0)}).call(function(){!t&&(e.playerNode.active=t)}).start()},i([p(cc.Prefab)],e.prototype,"itemPrefab",void 0),i([p(r.default)],e.prototype,"list",void 0),i([p(cc.Label)],e.prototype,"totalCount",void 0),i([p(cc.Label)],e.prototype,"showCount",void 0),i([p(cc.Node)],e.prototype,"playerNode",void 0),i([p(cc.Node)],e.prototype,"moveNode",void 0),i([p(cc.Node)],e.prototype,"arrow",void 0),e=i([l],e)}(a.default);o.default=u,cc._RF.pop()},{"../../../../view/base/BaseView":void 0,"../../../../view/common/List":void 0,"../items/SLWHOnelinePlayerItem":"SLWHOnelinePlayerItem"}],SLWHPlayerInfo:[function(t,e,o){"use strict";cc._RF.push(e,"94424rTFf5M1b/+sZXPqwVf","SLWHPlayerInfo");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r},a=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,a){function r(t){try{s(n.next(t))}catch(t){a(t)}}function c(t){try{s(n.throw(t))}catch(t){a(t)}}function s(t){t.done?i(t.value):new o(function(e){e(t.value)}).then(r,c)}s((n=n.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var o,n,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(t){return function(e){return s([t,e])}}function s(a){if(o)throw new TypeError("Generator is already executing.");for(;r;)try{if(o=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,n=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=e.call(t,r)}catch(t){a=[6,t],n=0}finally{o=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../../../common/UIHelper"),s=t("../../../../common/utils/Utils"),l=t("../../../../manager/DataManager"),p=t("../../../../manager/ResManager"),u=cc._decorator,h=u.ccclass,d=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.frameImage=null,e.vipImage=null,e.head=null,e.goldLabel=null,e.nickLabel=null,e}return n(e,t),e.prototype.setPlayerInfo=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=!0),a(this,void 0,void 0,function(){var o,n,i,a;return r(this,function(r){switch(r.label){case 0:return t=t||l.DataManager.userInfo,o=t.vip_level&&t.vip_level||0,[4,p.ResManager.loadResAsync("view/common/img_touxiangkuang_v"+o,cc.SpriteFrame)];case 1:return(n=r.sent())&&(this.frameImage.spriteFrame=n),e?(c.default.setVipLevel(o,this.vipImage.node),[3,4]):[3,2];case 2:return[4,p.ResManager.loadResAsync("view/common/img_vip_v"+o,cc.SpriteFrame)];case 3:(i=r.sent())&&(this.vipImage.spriteFrame=i),r.label=4;case 4:return this.goldLabel&&(this.goldLabel.string=s.default.getFormatGold(t.gold)),a=s.default.getSubStringLengTxt(t.nickName)||s.default.getReplaceStrToStar(t.userid),this.nickLabel&&(this.nickLabel.string=a||"\u5e05\u5230\u83ab\u670b\u53cb"),c.default.setHeadIcon(t.headimgurl,this.head),[2]}})})},i([d(cc.Sprite)],e.prototype,"frameImage",void 0),i([d(cc.Sprite)],e.prototype,"vipImage",void 0),i([d(cc.Node)],e.prototype,"head",void 0),i([d(cc.Label)],e.prototype,"goldLabel",void 0),i([d(cc.Label)],e.prototype,"nickLabel",void 0),e=i([h],e)}(cc.Component);o.default=f,cc._RF.pop()},{"../../../../common/UIHelper":void 0,"../../../../common/utils/Utils":void 0,"../../../../manager/DataManager":void 0,"../../../../manager/ResManager":void 0}],SLWHProtocolCmd:[function(t,e,o){"use strict";cc._RF.push(e,"be36fxWqltPOYarf3BtD7h0","SLWHProtocolCmd"),Object.defineProperty(o,"__esModule",{value:!0}),o.SLWHProtocolCmd={GameStartNotify:"game_start_notify",SendCardNotify:"send_card_notify",BetNotify:"bet_notify",OtherBetNotify:"other_bet_notify",GameShowNotify:"game_show_notify",GameConcludeNotify:"game_conclude_notify",GameReconnectInfo:"game_reconnect_info",OtherUsersReq:"other_users_req",OtherUsersRes:"other_users_res",WaitNextNotify:"wait_next_notify",ContinueBetRes:"continue_bet_res",BetReq:"bet_req",ContinueBetReq:"continue_bet_req"},cc._RF.pop()},{}],SLWHRecordItem:[function(t,e,o){"use strict";cc._RF.push(e,"a49aflJKB9HCoaYFbd352VF","SLWHRecordItem");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../proxy/SLWHGameProxy"),r=cc._decorator,c=r.ccclass,s=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.animalIcon=null,e.bankerIcon=null,e.atlas=null,e}return n(e,t),e.prototype.setData=function(t,e){var o=a.SLWHGameProxy.getInstance().getBetIconByLoc(t),n=["text_z","text_h","text_x"][e-13];this.animalIcon.spriteFrame=this.atlas.getSpriteFrame(o),this.bankerIcon.spriteFrame=this.atlas.getSpriteFrame(n)},i([s(cc.Sprite)],e.prototype,"animalIcon",void 0),i([s(cc.Sprite)],e.prototype,"bankerIcon",void 0),i([s(cc.SpriteAtlas)],e.prototype,"atlas",void 0),e=i([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{"../../proxy/SLWHGameProxy":"SLWHGameProxy"}],SLWHRecordList:[function(t,e,o){"use strict";cc._RF.push(e,"e87c7WLRUFJVrJ1rxiEUDsG","SLWHRecordList");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../items/SLWHRecordItem"),r=cc._decorator,c=r.ccclass,s=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.scrollView=null,e.itemPrefab=null,e.content=null,e}return n(e,t),e.prototype.setRecordList=function(t){this.content.removeAllChildren();for(var e=0;e<t.length;e++){var o=cc.instantiate(this.itemPrefab);this.content.addChild(o);var n=o.getComponent(a.default),i=t[e];n.setData(i.bet_pos,i.banker_win)}this.scrollView.scrollToTop()},i([s(cc.ScrollView)],e.prototype,"scrollView",void 0),i([s(cc.Prefab)],e.prototype,"itemPrefab",void 0),i([s(cc.Node)],e.prototype,"content",void 0),e=i([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{"../items/SLWHRecordItem":"SLWHRecordItem"}],SLWHRewardItem:[function(t,e,o){"use strict";cc._RF.push(e,"630aecZFdBHgYrJHwfZ9uw4","SLWHRewardItem");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,c=a.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.timesLabel=null,e.icon=null,e.atlas=null,e}return n(e,t),e.prototype.setData=function(t){this.timesLabel.string="x"+t.times,this.icon.spriteFrame=this.atlas.getSpriteFrame(t.icon)},i([c(cc.Label)],e.prototype,"timesLabel",void 0),i([c(cc.Sprite)],e.prototype,"icon",void 0),i([c(cc.SpriteAtlas)],e.prototype,"atlas",void 0),e=i([r],e)}(cc.Component);o.default=s,cc._RF.pop()},{}],SLWHRewardList:[function(t,e,o){"use strict";cc._RF.push(e,"bb908lbV59KiJum83i6YjVr","SLWHRewardList");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../model/SLWHModel"),r=t("../../proxy/SLWHGameProxy"),c=t("../items/SLWHRewardItem"),s=cc._decorator,l=s.ccclass,p=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.content=null,e.itemPrefab=null,e}return n(e,t),e.prototype.setRewardList=function(t){this.content.getComponent(cc.Layout).type=t.length>7?cc.Layout.Type.GRID:cc.Layout.Type.HORIZONTAL;for(var e=0;e<t.length;e++){var o=new a.SLWHModel.RewardItemVO,n=t[e],i=r.SLWHGameProxy.getInstance().getBetIconByLoc(n);o.icon=i;var s=r.SLWHGameProxy.getInstance().getTimesByLoc(n);o.times=s;var l=cc.instantiate(this.itemPrefab),p=l.getComponent(c.default);this.content.addChild(l),p.setData(o)}},i([p(cc.Node)],e.prototype,"content",void 0),i([p(cc.Prefab)],e.prototype,"itemPrefab",void 0),e=i([l],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../../model/SLWHModel":"SLWHModel","../../proxy/SLWHGameProxy":"SLWHGameProxy","../items/SLWHRewardItem":"SLWHRewardItem"}],SLWHRoomView:[function(t,e,o){"use strict";cc._RF.push(e,"9eebdvSpaFB0o35WHplewQu","SLWHRoomView");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../../common/utils/Utils"),r=t("../../../../manager/NetManager"),c=t("../../../../manager/UIManager"),s=t("../../../../view/common/componet/ButtonEx"),l=t("../../../../view/RoomView"),p=cc._decorator,u=p.ccclass,h=p.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.roomList=[],e.content=null,e}return n(e,t),e.prototype.start=function(){c.UIManager.hideMarquee(),r.NetManager.protocolHall.game_math_info[this.data]&&this.showRoomList(r.NetManager.protocolHall.game_math_info[this.data])},e.prototype.showRoomList=function(t){var e=this;this.resetRoomList();for(var o=t.game_room_lists,n=0;n<o.length;n++){var i=o[n],r=i.room_level,c=this.roomList[r-1];if(c){c.active=!0;var l=c.getChildByName("pot_num").getComponent(cc.Label);if(i.bet_limit.length>0){var p=a.default.getFormatStrGold(i.bet_limit[0]),u=a.default.getFormatStrGold(i.bet_limit[1]);l.string="\u9650\u7ea2: "+p+"-"+u}else l.string="\u5e95\u6ce8: "+i.room_base_note;c.getChildByName("permit_num").getComponent(cc.Label).string="\u51c6\u5165: "+i.room_min_entrance,c.getComponent(s.default).disabledScale(),c.getComponent(s.default).registerClick(this.onChooseGameRoom.bind(this,i))}}setTimeout(function(){var t=e.content.parent,o=e.content.width>t.width;e.content.anchorX=o?0:.5,e.content.x=o?0:t.width/2},30)},e.prototype.resetRoomList=function(){for(var t=0;t<this.roomList.length;t++){this.roomList[t].active=!1}},i([h([cc.Node])],e.prototype,"roomList",void 0),i([h(cc.Node)],e.prototype,"content",void 0),e=i([u],e)}(l.default);o.default=d,cc._RF.pop()},{"../../../../common/utils/Utils":void 0,"../../../../manager/NetManager":void 0,"../../../../manager/UIManager":void 0,"../../../../view/RoomView":void 0,"../../../../view/common/componet/ButtonEx":void 0}],SLWHScroll:[function(t,e,o){"use strict";cc._RF.push(e,"0a53dA1YnFKnptUHrpdyDCL","SLWHScroll");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a,r=t("./SLWHWheelBase");(function(t){t[t.leftToRight=1]="leftToRight",t[t.rightToLeft=2]="rightToLeft"})(a||(a={})),cc.Enum(a);var c=cc._decorator,s=c.ccclass,l=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.scrollNodeList=[],e.direction=a.rightToLeft,e.delta=0,e}return n(e,t),e.prototype.calcDistance=function(){t.prototype.calcDistance.call(this);for(var e=0;e<this.scrollNodeList.length;e++){var o=this.scrollNodeList[e];this.direction==a.leftToRight?o.x=this.delta+e*this.perDistance+this.curDistance:o.x=this.delta+e*this.perDistance-this.curDistance}},i([l([cc.Node])],e.prototype,"scrollNodeList",void 0),i([l],e.prototype,"direction",void 0),i([l],e.prototype,"delta",void 0),e=i([s],e)}(r.default);o.default=p,cc._RF.pop()},{"./SLWHWheelBase":"SLWHWheelBase"}],SLWHWheelBase:[function(t,e,o){"use strict";cc._RF.push(e,"0dd66fGUtNERq+8fHZQxrPV","SLWHWheelBase");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../../Define"),r=t("../../../../manager/EventManager"),c=cc._decorator,s=c.ccclass,l=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.perDistance=100,e.totalTime=6,e.circle=6,e.totalCount=12,e.isStart=!1,e.endIndex=6,e.curIndex=0,e.curDistance=0,e.endDeltaDistance=0,e.lastEndDistance=0,e.a1=2,e.a3=2,e.a4=2,e}return n(e,t),e.prototype.onLoad=function(){var t=this;r.EventManager.on(this,a.EventDef.GameShow,function(e){var o=t.time+e/1e3;t.setCompleteTime(o)}),this.initData()},e.prototype.initData=function(){this.curIndex=0,this.lastEndDistance=0},e.prototype.resetData=function(){var t;this.time=0,this.isStart=!1,t=this.endIndex>=this.curIndex?this.endIndex-this.curIndex:this.endIndex+this.totalCount-this.curIndex,this.endDeltaDistance=this.endIndex*this.perDistance/this.totalCount;var e=this.circle*this.perDistance+t*this.perDistance/this.totalCount;this.distance=e;var o=this.totalTime/3.6,n=80/(o*o),i=n*o,a=this.totalTime/4,r=e/3.6,c=2*(r-i*a)/(a*a),s=i+c*a,l=(e-40-r-(this.totalTime-o-a)*s)/(-.5*s),p=this.totalTime-o-a-l,u=s*p,h=this.distance-u-r-40,d=s/l;this.x1=h,this.x2=u,this.x3=r,this.t1=l,this.t2=p,this.t3=a,this.a1=d,this.a3=c,this.a4=n},e.prototype.startWheel=function(t){this.endIndex=t,this.resetData(),this.isStart=!0},e.prototype.setWheelTime=function(t){void 0===t&&(t=7),this.totalTime=t},e.prototype.getWheelTime=function(){return this.totalTime},e.prototype.setCompleteTime=function(t){void 0===t&&(t=0),this.time=Math.min(t,this.totalTime)},e.prototype.getCompleteTime=function(){return this.time},e.prototype.onStop=function(){this.isStart=!1,this.curIndex=this.endIndex,this.lastEndDistance=this.endDeltaDistance,this.node.emit("wheelStoped")},e.prototype.calcDistance=function(){if(this.time>=this.t1+this.t2+this.t3){var t=this.totalTime-this.time,e=.5*this.a4*t*t;this.curDistance=this.lastEndDistance+this.distance-e}else if(this.time>=this.t1+this.t2){var o=this.a1*this.t1,n=this.x1,i=this.x2,a=this.time-this.t1-this.t2,r=o*a-.5*this.a3*a*a;this.curDistance=this.lastEndDistance+n+i+r}else if(this.time>=this.t1){var c=this.t1,s=this.time-c;n=this.x1,i=this.a1*c*s;this.curDistance=this.lastEndDistance+n+i}else{var l=this.time,p=.5*this.a1*l*l;this.curDistance=this.lastEndDistance+p}this.curDistance%=this.perDistance},e.prototype.update=function(t){this.isStart&&(this.calcDistance(),this.time>this.totalTime?this.onStop():this.time+=t)},e.prototype.onDestroy=function(){r.EventManager.off(this)},i([l],e.prototype,"perDistance",void 0),i([l],e.prototype,"totalTime",void 0),i([l],e.prototype,"circle",void 0),i([l],e.prototype,"totalCount",void 0),e=i([s],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../../../../Define":void 0,"../../../../manager/EventManager":void 0}],SLWHWheel:[function(t,e,o){"use strict";cc._RF.push(e,"d7738tNNdZIk4WauHdyx2n0","SLWHWheel");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,o,r):i(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a,r=t("./SLWHWheelBase");(function(t){t[t.clockwise=1]="clockwise",t[t.anticlockwise=2]="anticlockwise"})(a||(a={})),cc.Enum(a);var c=cc._decorator,s=c.ccclass,l=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.wheelNode=null,e.direction=a.anticlockwise,e}return n(e,t),e.prototype.calcDistance=function(){t.prototype.calcDistance.call(this),this.wheelNode.angle=this.direction==a.clockwise?-this.curDistance:this.curDistance},i([l(cc.Node)],e.prototype,"wheelNode",void 0),i([l],e.prototype,"direction",void 0),e=i([s],e)}(r.default);o.default=p,cc._RF.pop()},{"./SLWHWheelBase":"SLWHWheelBase"}]},{},["SLWHConstant","SLWHProtocolCmd","SLWHModel","ProtocolSLWHGame","SLWHGameProxy","SLWHBankerInfo","SLWHBetList","SLWHChipList","SLWHOnlinePlayer","SLWHPlayerInfo","SLWHRecordList","SLWHRewardList","SLWHScroll","SLWHWheel","SLWHWheelBase","SLWHBetItem","SLWHChipItem","SLWHFlyChipItem","SLWHOnelinePlayerItem","SLWHRecordItem","SLWHRewardItem","SLWHBetView","SLWHGameResultView","SLWHGameShowView","SLWHGameView","SLWHMenu","SLWHRoomView"]);